var k_=Object.defineProperty;var x_=(e,t,r)=>t in e?k_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var dn=(e,t,r)=>(x_(e,typeof t!="symbol"?t+"":t,r),r);function C_(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var hl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kl={},__={get exports(){return Kl},set exports(e){Kl=e}},uf={},V={},A_={get exports(){return V},set exports(e){V=e}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ru=Symbol.for("react.element"),R_=Symbol.for("react.portal"),P_=Symbol.for("react.fragment"),L_=Symbol.for("react.strict_mode"),D_=Symbol.for("react.profiler"),I_=Symbol.for("react.provider"),O_=Symbol.for("react.context"),F_=Symbol.for("react.forward_ref"),M_=Symbol.for("react.suspense"),N_=Symbol.for("react.memo"),B_=Symbol.for("react.lazy"),g0=Symbol.iterator;function U_(e){return e===null||typeof e!="object"?null:(e=g0&&e[g0]||e["@@iterator"],typeof e=="function"?e:null)}var SE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bE=Object.assign,EE={};function To(e,t,r){this.props=e,this.context=t,this.refs=EE,this.updater=r||SE}To.prototype.isReactComponent={};To.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};To.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function TE(){}TE.prototype=To.prototype;function jg(e,t,r){this.props=e,this.context=t,this.refs=EE,this.updater=r||SE}var zg=jg.prototype=new TE;zg.constructor=jg;bE(zg,To.prototype);zg.isPureReactComponent=!0;var v0=Array.isArray,wE=Object.prototype.hasOwnProperty,Vg={current:null},kE={key:!0,ref:!0,__self:!0,__source:!0};function xE(e,t,r){var n,i={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)wE.call(t,n)&&!kE.hasOwnProperty(n)&&(i[n]=t[n]);var f=arguments.length-2;if(f===1)i.children=r;else if(1<f){for(var m=Array(f),g=0;g<f;g++)m[g]=arguments[g+2];i.children=m}if(e&&e.defaultProps)for(n in f=e.defaultProps,f)i[n]===void 0&&(i[n]=f[n]);return{$$typeof:Ru,type:e,key:a,ref:l,props:i,_owner:Vg.current}}function $_(e,t){return{$$typeof:Ru,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ru}function j_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var y0=/\/+/g;function zh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?j_(""+e.key):t.toString(36)}function jc(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Ru:case R_:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+zh(l,0):n,v0(i)?(r="",e!=null&&(r=e.replace(y0,"$&/")+"/"),jc(i,t,r,"",function(g){return g})):i!=null&&(Hg(i)&&(i=$_(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(y0,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",v0(e))for(var f=0;f<e.length;f++){a=e[f];var m=n+zh(a,f);l+=jc(a,t,r,m,i)}else if(m=U_(e),typeof m=="function")for(e=m.call(e),f=0;!(a=e.next()).done;)a=a.value,m=n+zh(a,f++),l+=jc(a,t,r,m,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function fc(e,t,r){if(e==null)return e;var n=[],i=0;return jc(e,n,"","",function(a){return t.call(r,a,i++)}),n}function z_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qr={current:null},zc={transition:null},V_={ReactCurrentDispatcher:Qr,ReactCurrentBatchConfig:zc,ReactCurrentOwner:Vg};Et.Children={map:fc,forEach:function(e,t,r){fc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return fc(e,function(){t++}),t},toArray:function(e){return fc(e,function(t){return t})||[]},only:function(e){if(!Hg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Et.Component=To;Et.Fragment=P_;Et.Profiler=D_;Et.PureComponent=jg;Et.StrictMode=L_;Et.Suspense=M_;Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V_;Et.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=bE({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=Vg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(m in t)wE.call(t,m)&&!kE.hasOwnProperty(m)&&(n[m]=t[m]===void 0&&f!==void 0?f[m]:t[m])}var m=arguments.length-2;if(m===1)n.children=r;else if(1<m){f=Array(m);for(var g=0;g<m;g++)f[g]=arguments[g+2];n.children=f}return{$$typeof:Ru,type:e.type,key:i,ref:a,props:n,_owner:l}};Et.createContext=function(e){return e={$$typeof:O_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:I_,_context:e},e.Consumer=e};Et.createElement=xE;Et.createFactory=function(e){var t=xE.bind(null,e);return t.type=e,t};Et.createRef=function(){return{current:null}};Et.forwardRef=function(e){return{$$typeof:F_,render:e}};Et.isValidElement=Hg;Et.lazy=function(e){return{$$typeof:B_,_payload:{_status:-1,_result:e},_init:z_}};Et.memo=function(e,t){return{$$typeof:N_,type:e,compare:t===void 0?null:t}};Et.startTransition=function(e){var t=zc.transition;zc.transition={};try{e()}finally{zc.transition=t}};Et.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Et.useCallback=function(e,t){return Qr.current.useCallback(e,t)};Et.useContext=function(e){return Qr.current.useContext(e)};Et.useDebugValue=function(){};Et.useDeferredValue=function(e){return Qr.current.useDeferredValue(e)};Et.useEffect=function(e,t){return Qr.current.useEffect(e,t)};Et.useId=function(){return Qr.current.useId()};Et.useImperativeHandle=function(e,t,r){return Qr.current.useImperativeHandle(e,t,r)};Et.useInsertionEffect=function(e,t){return Qr.current.useInsertionEffect(e,t)};Et.useLayoutEffect=function(e,t){return Qr.current.useLayoutEffect(e,t)};Et.useMemo=function(e,t){return Qr.current.useMemo(e,t)};Et.useReducer=function(e,t,r){return Qr.current.useReducer(e,t,r)};Et.useRef=function(e){return Qr.current.useRef(e)};Et.useState=function(e){return Qr.current.useState(e)};Et.useSyncExternalStore=function(e,t,r){return Qr.current.useSyncExternalStore(e,t,r)};Et.useTransition=function(){return Qr.current.useTransition()};Et.version="18.2.0";(function(e){e.exports=Et})(A_);const pn=yE(V),Wl=C_({__proto__:null,default:pn},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_=V,G_=Symbol.for("react.element"),K_=Symbol.for("react.fragment"),W_=Object.prototype.hasOwnProperty,q_=H_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y_={key:!0,ref:!0,__self:!0,__source:!0};function CE(e,t,r){var n,i={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)W_.call(t,n)&&!Y_.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:G_,type:e,key:a,ref:l,props:i,_owner:q_.current}}uf.Fragment=K_;uf.jsx=CE;uf.jsxs=CE;(function(e){e.exports=uf})(__);const Pu=Kl.Fragment,we=Kl.jsx,jr=Kl.jsxs;var Zp={},ql={},Q_={get exports(){return ql},set exports(e){ql=e}},bn={},Jp={},X_={get exports(){return Jp},set exports(e){Jp=e}},_E={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ae,be){var ke=ae.length;ae.push(be);e:for(;0<ke;){var Re=ke-1>>>1,Le=ae[Re];if(0<i(Le,be))ae[Re]=be,ae[ke]=Le,ke=Re;else break e}}function r(ae){return ae.length===0?null:ae[0]}function n(ae){if(ae.length===0)return null;var be=ae[0],ke=ae.pop();if(ke!==be){ae[0]=ke;e:for(var Re=0,Le=ae.length,Ge=Le>>>1;Re<Ge;){var nt=2*(Re+1)-1,de=ae[nt],me=nt+1,le=ae[me];if(0>i(de,ke))me<Le&&0>i(le,de)?(ae[Re]=le,ae[me]=ke,Re=me):(ae[Re]=de,ae[nt]=ke,Re=nt);else if(me<Le&&0>i(le,ke))ae[Re]=le,ae[me]=ke,Re=me;else break e}}return be}function i(ae,be){var ke=ae.sortIndex-be.sortIndex;return ke!==0?ke:ae.id-be.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,f=l.now();e.unstable_now=function(){return l.now()-f}}var m=[],g=[],E=1,w=null,v=3,x=!1,C=!1,L=!1,I=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(ae){for(var be=r(g);be!==null;){if(be.callback===null)n(g);else if(be.startTime<=ae)n(g),be.sortIndex=be.expirationTime,t(m,be);else break;be=r(g)}}function M(ae){if(L=!1,A(ae),!C)if(r(m)!==null)C=!0,Ce(j);else{var be=r(g);be!==null&&Se(M,be.startTime-ae)}}function j(ae,be){C=!1,L&&(L=!1,P(K),K=-1),x=!0;var ke=v;try{for(A(be),w=r(m);w!==null&&(!(w.expirationTime>be)||ae&&!ie());){var Re=w.callback;if(typeof Re=="function"){w.callback=null,v=w.priorityLevel;var Le=Re(w.expirationTime<=be);be=e.unstable_now(),typeof Le=="function"?w.callback=Le:w===r(m)&&n(m),A(be)}else n(m);w=r(m)}if(w!==null)var Ge=!0;else{var nt=r(g);nt!==null&&Se(M,nt.startTime-be),Ge=!1}return Ge}finally{w=null,v=ke,x=!1}}var $=!1,B=null,K=-1,ce=5,ye=-1;function ie(){return!(e.unstable_now()-ye<ce)}function N(){if(B!==null){var ae=e.unstable_now();ye=ae;var be=!0;try{be=B(!0,ae)}finally{be?Z():($=!1,B=null)}}else $=!1}var Z;if(typeof R=="function")Z=function(){R(N)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ue=G.port2;G.port1.onmessage=N,Z=function(){ue.postMessage(null)}}else Z=function(){I(N,0)};function Ce(ae){B=ae,$||($=!0,Z())}function Se(ae,be){K=I(function(){ae(e.unstable_now())},be)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ae){ae.callback=null},e.unstable_continueExecution=function(){C||x||(C=!0,Ce(j))},e.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<ae?Math.floor(1e3/ae):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(m)},e.unstable_next=function(ae){switch(v){case 1:case 2:case 3:var be=3;break;default:be=v}var ke=v;v=be;try{return ae()}finally{v=ke}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ae,be){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ke=v;v=ae;try{return be()}finally{v=ke}},e.unstable_scheduleCallback=function(ae,be,ke){var Re=e.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?Re+ke:Re):ke=Re,ae){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=ke+Le,ae={id:E++,callback:be,priorityLevel:ae,startTime:ke,expirationTime:Le,sortIndex:-1},ke>Re?(ae.sortIndex=ke,t(g,ae),r(m)===null&&ae===r(g)&&(L?(P(K),K=-1):L=!0,Se(M,ke-Re))):(ae.sortIndex=Le,t(m,ae),C||x||(C=!0,Ce(j))),ae},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(ae){var be=v;return function(){var ke=v;v=be;try{return ae.apply(this,arguments)}finally{v=ke}}}})(_E);(function(e){e.exports=_E})(X_);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE=V,yn=Jp;function Be(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RE=new Set,Yl={};function ds(e,t){so(e,t),so(e+"Capture",t)}function so(e,t){for(Yl[e]=t,e=0;e<t.length;e++)RE.add(t[e])}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),em=Object.prototype.hasOwnProperty,Z_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S0={},b0={};function J_(e){return em.call(b0,e)?!0:em.call(S0,e)?!1:Z_.test(e)?b0[e]=!0:(S0[e]=!0,!1)}function eA(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tA(e,t,r,n){if(t===null||typeof t>"u"||eA(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xr(e,t,r,n,i,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var Or={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Or[e]=new Xr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Or[t]=new Xr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Or[e]=new Xr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Or[e]=new Xr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Or[e]=new Xr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Or[e]=new Xr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Or[e]=new Xr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Or[e]=new Xr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Or[e]=new Xr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gg=/[\-:]([a-z])/g;function Kg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gg,Kg);Or[t]=new Xr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gg,Kg);Or[t]=new Xr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gg,Kg);Or[t]=new Xr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Or[e]=new Xr(e,1,!1,e.toLowerCase(),null,!1,!1)});Or.xlinkHref=new Xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Or[e]=new Xr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wg(e,t,r,n){var i=Or.hasOwnProperty(t)?Or[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tA(t,r,i,n)&&(r=null),n||i===null?J_(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ui=AE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hc=Symbol.for("react.element"),Is=Symbol.for("react.portal"),Os=Symbol.for("react.fragment"),qg=Symbol.for("react.strict_mode"),tm=Symbol.for("react.profiler"),PE=Symbol.for("react.provider"),LE=Symbol.for("react.context"),Yg=Symbol.for("react.forward_ref"),rm=Symbol.for("react.suspense"),nm=Symbol.for("react.suspense_list"),Qg=Symbol.for("react.memo"),ta=Symbol.for("react.lazy"),DE=Symbol.for("react.offscreen"),E0=Symbol.iterator;function Zo(e){return e===null||typeof e!="object"?null:(e=E0&&e[E0]||e["@@iterator"],typeof e=="function"?e:null)}var nr=Object.assign,Vh;function pl(e){if(Vh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Vh=t&&t[1]||""}return`
`+Vh+e}var Hh=!1;function Gh(e,t){if(!e||Hh)return"";Hh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var n=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){n=g}e.call(t.prototype)}else{try{throw Error()}catch(g){n=g}e()}}catch(g){if(g&&n&&typeof g.stack=="string"){for(var i=g.stack.split(`
`),a=n.stack.split(`
`),l=i.length-1,f=a.length-1;1<=l&&0<=f&&i[l]!==a[f];)f--;for(;1<=l&&0<=f;l--,f--)if(i[l]!==a[f]){if(l!==1||f!==1)do if(l--,f--,0>f||i[l]!==a[f]){var m=`
`+i[l].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=l&&0<=f);break}}}finally{Hh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?pl(e):""}function rA(e){switch(e.tag){case 5:return pl(e.type);case 16:return pl("Lazy");case 13:return pl("Suspense");case 19:return pl("SuspenseList");case 0:case 2:case 15:return e=Gh(e.type,!1),e;case 11:return e=Gh(e.type.render,!1),e;case 1:return e=Gh(e.type,!0),e;default:return""}}function im(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Os:return"Fragment";case Is:return"Portal";case tm:return"Profiler";case qg:return"StrictMode";case rm:return"Suspense";case nm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case LE:return(e.displayName||"Context")+".Consumer";case PE:return(e._context.displayName||"Context")+".Provider";case Yg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qg:return t=e.displayName||null,t!==null?t:im(e.type)||"Memo";case ta:t=e._payload,e=e._init;try{return im(e(t))}catch{}}return null}function nA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return im(t);case 8:return t===qg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function IE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iA(e){var t=IE(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pc(e){e._valueTracker||(e._valueTracker=iA(e))}function OE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=IE(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function pd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function am(e,t){var r=t.checked;return nr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function T0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=wa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function FE(e,t){t=t.checked,t!=null&&Wg(e,"checked",t,!1)}function sm(e,t){FE(e,t);var r=wa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?om(e,t.type,r):t.hasOwnProperty("defaultValue")&&om(e,t.type,wa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function w0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function om(e,t,r){(t!=="number"||pd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ml=Array.isArray;function qs(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+wa(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function lm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Be(91));return nr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function k0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Be(92));if(ml(r)){if(1<r.length)throw Error(Be(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:wa(r)}}function ME(e,t){var r=wa(t.value),n=wa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function x0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function NE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function um(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?NE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mc,BE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(mc=mc||document.createElement("div"),mc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=mc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ql(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var xl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aA=["Webkit","ms","Moz","O"];Object.keys(xl).forEach(function(e){aA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xl[t]=xl[e]})});function UE(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||xl.hasOwnProperty(e)&&xl[e]?(""+t).trim():t+"px"}function $E(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=UE(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var sA=nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cm(e,t){if(t){if(sA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Be(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Be(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Be(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Be(62))}}function dm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fm=null;function Xg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hm=null,Ys=null,Qs=null;function C0(e){if(e=Iu(e)){if(typeof hm!="function")throw Error(Be(280));var t=e.stateNode;t&&(t=pf(t),hm(e.stateNode,e.type,t))}}function jE(e){Ys?Qs?Qs.push(e):Qs=[e]:Ys=e}function zE(){if(Ys){var e=Ys,t=Qs;if(Qs=Ys=null,C0(e),t)for(e=0;e<t.length;e++)C0(t[e])}}function VE(e,t){return e(t)}function HE(){}var Kh=!1;function GE(e,t,r){if(Kh)return e(t,r);Kh=!0;try{return VE(e,t,r)}finally{Kh=!1,(Ys!==null||Qs!==null)&&(HE(),zE())}}function Xl(e,t){var r=e.stateNode;if(r===null)return null;var n=pf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Be(231,t,typeof r));return r}var pm=!1;if(Oi)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){pm=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{pm=!1}function oA(e,t,r,n,i,a,l,f,m){var g=Array.prototype.slice.call(arguments,3);try{t.apply(r,g)}catch(E){this.onError(E)}}var Cl=!1,md=null,gd=!1,mm=null,lA={onError:function(e){Cl=!0,md=e}};function uA(e,t,r,n,i,a,l,f,m){Cl=!1,md=null,oA.apply(lA,arguments)}function cA(e,t,r,n,i,a,l,f,m){if(uA.apply(this,arguments),Cl){if(Cl){var g=md;Cl=!1,md=null}else throw Error(Be(198));gd||(gd=!0,mm=g)}}function fs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function KE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _0(e){if(fs(e)!==e)throw Error(Be(188))}function dA(e){var t=e.alternate;if(!t){if(t=fs(e),t===null)throw Error(Be(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return _0(i),e;if(a===n)return _0(i),t;a=a.sibling}throw Error(Be(188))}if(r.return!==n.return)r=i,n=a;else{for(var l=!1,f=i.child;f;){if(f===r){l=!0,r=i,n=a;break}if(f===n){l=!0,n=i,r=a;break}f=f.sibling}if(!l){for(f=a.child;f;){if(f===r){l=!0,r=a,n=i;break}if(f===n){l=!0,n=a,r=i;break}f=f.sibling}if(!l)throw Error(Be(189))}}if(r.alternate!==n)throw Error(Be(190))}if(r.tag!==3)throw Error(Be(188));return r.stateNode.current===r?e:t}function WE(e){return e=dA(e),e!==null?qE(e):null}function qE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qE(e);if(t!==null)return t;e=e.sibling}return null}var YE=yn.unstable_scheduleCallback,A0=yn.unstable_cancelCallback,fA=yn.unstable_shouldYield,hA=yn.unstable_requestPaint,dr=yn.unstable_now,pA=yn.unstable_getCurrentPriorityLevel,Zg=yn.unstable_ImmediatePriority,QE=yn.unstable_UserBlockingPriority,vd=yn.unstable_NormalPriority,mA=yn.unstable_LowPriority,XE=yn.unstable_IdlePriority,cf=null,di=null;function gA(e){if(di&&typeof di.onCommitFiberRoot=="function")try{di.onCommitFiberRoot(cf,e,void 0,(e.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:SA,vA=Math.log,yA=Math.LN2;function SA(e){return e>>>=0,e===0?32:31-(vA(e)/yA|0)|0}var gc=64,vc=4194304;function gl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var f=l&~i;f!==0?n=gl(f):(a&=l,a!==0&&(n=gl(a)))}else l=r&~i,l!==0?n=gl(l):a!==0&&(n=gl(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Kn(t),i=1<<r,n|=e[r],t&=~i;return n}function bA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Kn(a),f=1<<l,m=i[l];m===-1?(!(f&r)||f&n)&&(i[l]=bA(f,t)):m<=t&&(e.expiredLanes|=f),a&=~f}}function gm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ZE(){var e=gc;return gc<<=1,!(gc&4194240)&&(gc=64),e}function Wh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Lu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kn(t),e[t]=r}function TA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Kn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Jg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Kn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Nt=0;function JE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var eT,ev,tT,rT,nT,vm=!1,yc=[],da=null,fa=null,ha=null,Zl=new Map,Jl=new Map,aa=[],wA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function R0(e,t){switch(e){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":Zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(t.pointerId)}}function el(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Iu(t),t!==null&&ev(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function kA(e,t,r,n,i){switch(t){case"focusin":return da=el(da,e,t,r,n,i),!0;case"dragenter":return fa=el(fa,e,t,r,n,i),!0;case"mouseover":return ha=el(ha,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Zl.set(a,el(Zl.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Jl.set(a,el(Jl.get(a)||null,e,t,r,n,i)),!0}return!1}function iT(e){var t=Wa(e.target);if(t!==null){var r=fs(t);if(r!==null){if(t=r.tag,t===13){if(t=KE(r),t!==null){e.blockedOn=t,nT(e.priority,function(){tT(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ym(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);fm=n,r.target.dispatchEvent(n),fm=null}else return t=Iu(r),t!==null&&ev(t),e.blockedOn=r,!1;t.shift()}return!0}function P0(e,t,r){Vc(e)&&r.delete(t)}function xA(){vm=!1,da!==null&&Vc(da)&&(da=null),fa!==null&&Vc(fa)&&(fa=null),ha!==null&&Vc(ha)&&(ha=null),Zl.forEach(P0),Jl.forEach(P0)}function tl(e,t){e.blockedOn===t&&(e.blockedOn=null,vm||(vm=!0,yn.unstable_scheduleCallback(yn.unstable_NormalPriority,xA)))}function eu(e){function t(i){return tl(i,e)}if(0<yc.length){tl(yc[0],e);for(var r=1;r<yc.length;r++){var n=yc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(da!==null&&tl(da,e),fa!==null&&tl(fa,e),ha!==null&&tl(ha,e),Zl.forEach(t),Jl.forEach(t),r=0;r<aa.length;r++)n=aa[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<aa.length&&(r=aa[0],r.blockedOn===null);)iT(r),r.blockedOn===null&&aa.shift()}var Xs=Ui.ReactCurrentBatchConfig,Sd=!0;function CA(e,t,r,n){var i=Nt,a=Xs.transition;Xs.transition=null;try{Nt=1,tv(e,t,r,n)}finally{Nt=i,Xs.transition=a}}function _A(e,t,r,n){var i=Nt,a=Xs.transition;Xs.transition=null;try{Nt=4,tv(e,t,r,n)}finally{Nt=i,Xs.transition=a}}function tv(e,t,r,n){if(Sd){var i=ym(e,t,r,n);if(i===null)np(e,t,n,bd,r),R0(e,n);else if(kA(i,e,t,r,n))n.stopPropagation();else if(R0(e,n),t&4&&-1<wA.indexOf(e)){for(;i!==null;){var a=Iu(i);if(a!==null&&eT(a),a=ym(e,t,r,n),a===null&&np(e,t,n,bd,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else np(e,t,n,null,r)}}var bd=null;function ym(e,t,r,n){if(bd=null,e=Xg(n),e=Wa(e),e!==null)if(t=fs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=KE(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bd=e,null}function aT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pA()){case Zg:return 1;case QE:return 4;case vd:case mA:return 16;case XE:return 536870912;default:return 16}default:return 16}}var la=null,rv=null,Hc=null;function sT(){if(Hc)return Hc;var e,t=rv,r=t.length,n,i="value"in la?la.value:la.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===i[a-n];n++);return Hc=i.slice(e,1<n?1-n:void 0)}function Gc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sc(){return!0}function L0(){return!1}function En(e){function t(r,n,i,a,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(r=e[f],this[f]=r?r(a):a[f]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Sc:L0,this.isPropagationStopped=L0,this}return nr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Sc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Sc)},persist:function(){},isPersistent:Sc}),t}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nv=En(wo),Du=nr({},wo,{view:0,detail:0}),AA=En(Du),qh,Yh,rl,df=nr({},Du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rl&&(rl&&e.type==="mousemove"?(qh=e.screenX-rl.screenX,Yh=e.screenY-rl.screenY):Yh=qh=0,rl=e),qh)},movementY:function(e){return"movementY"in e?e.movementY:Yh}}),D0=En(df),RA=nr({},df,{dataTransfer:0}),PA=En(RA),LA=nr({},Du,{relatedTarget:0}),Qh=En(LA),DA=nr({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),IA=En(DA),OA=nr({},wo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FA=En(OA),MA=nr({},wo,{data:0}),I0=En(MA),NA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $A(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=UA[e])?!!t[e]:!1}function iv(){return $A}var jA=nr({},Du,{key:function(e){if(e.key){var t=NA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?BA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iv,charCode:function(e){return e.type==="keypress"?Gc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zA=En(jA),VA=nr({},df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O0=En(VA),HA=nr({},Du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iv}),GA=En(HA),KA=nr({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),WA=En(KA),qA=nr({},df,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),YA=En(qA),QA=[9,13,27,32],av=Oi&&"CompositionEvent"in window,_l=null;Oi&&"documentMode"in document&&(_l=document.documentMode);var XA=Oi&&"TextEvent"in window&&!_l,oT=Oi&&(!av||_l&&8<_l&&11>=_l),F0=String.fromCharCode(32),M0=!1;function lT(e,t){switch(e){case"keyup":return QA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fs=!1;function ZA(e,t){switch(e){case"compositionend":return uT(t);case"keypress":return t.which!==32?null:(M0=!0,F0);case"textInput":return e=t.data,e===F0&&M0?null:e;default:return null}}function JA(e,t){if(Fs)return e==="compositionend"||!av&&lT(e,t)?(e=sT(),Hc=rv=la=null,Fs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oT&&t.locale!=="ko"?null:t.data;default:return null}}var eR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eR[e.type]:t==="textarea"}function cT(e,t,r,n){jE(n),t=Ed(t,"onChange"),0<t.length&&(r=new nv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Al=null,tu=null;function tR(e){ET(e,0)}function ff(e){var t=Bs(e);if(OE(t))return e}function rR(e,t){if(e==="change")return t}var dT=!1;if(Oi){var Xh;if(Oi){var Zh="oninput"in document;if(!Zh){var B0=document.createElement("div");B0.setAttribute("oninput","return;"),Zh=typeof B0.oninput=="function"}Xh=Zh}else Xh=!1;dT=Xh&&(!document.documentMode||9<document.documentMode)}function U0(){Al&&(Al.detachEvent("onpropertychange",fT),tu=Al=null)}function fT(e){if(e.propertyName==="value"&&ff(tu)){var t=[];cT(t,tu,e,Xg(e)),GE(tR,t)}}function nR(e,t,r){e==="focusin"?(U0(),Al=t,tu=r,Al.attachEvent("onpropertychange",fT)):e==="focusout"&&U0()}function iR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ff(tu)}function aR(e,t){if(e==="click")return ff(t)}function sR(e,t){if(e==="input"||e==="change")return ff(t)}function oR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yn=typeof Object.is=="function"?Object.is:oR;function ru(e,t){if(Yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!em.call(t,i)||!Yn(e[i],t[i]))return!1}return!0}function $0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function j0(e,t){var r=$0(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$0(r)}}function hT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pT(){for(var e=window,t=pd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=pd(e.document)}return t}function sv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lR(e){var t=pT(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hT(r.ownerDocument.documentElement,r)){if(n!==null&&sv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=j0(r,a);var l=j0(r,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uR=Oi&&"documentMode"in document&&11>=document.documentMode,Ms=null,Sm=null,Rl=null,bm=!1;function z0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bm||Ms==null||Ms!==pd(n)||(n=Ms,"selectionStart"in n&&sv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rl&&ru(Rl,n)||(Rl=n,n=Ed(Sm,"onSelect"),0<n.length&&(t=new nv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ms)))}function bc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ns={animationend:bc("Animation","AnimationEnd"),animationiteration:bc("Animation","AnimationIteration"),animationstart:bc("Animation","AnimationStart"),transitionend:bc("Transition","TransitionEnd")},Jh={},mT={};Oi&&(mT=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function hf(e){if(Jh[e])return Jh[e];if(!Ns[e])return e;var t=Ns[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in mT)return Jh[e]=t[r];return e}var gT=hf("animationend"),vT=hf("animationiteration"),yT=hf("animationstart"),ST=hf("transitionend"),bT=new Map,V0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Aa(e,t){bT.set(e,t),ds(t,[e])}for(var ep=0;ep<V0.length;ep++){var tp=V0[ep],cR=tp.toLowerCase(),dR=tp[0].toUpperCase()+tp.slice(1);Aa(cR,"on"+dR)}Aa(gT,"onAnimationEnd");Aa(vT,"onAnimationIteration");Aa(yT,"onAnimationStart");Aa("dblclick","onDoubleClick");Aa("focusin","onFocus");Aa("focusout","onBlur");Aa(ST,"onTransitionEnd");so("onMouseEnter",["mouseout","mouseover"]);so("onMouseLeave",["mouseout","mouseover"]);so("onPointerEnter",["pointerout","pointerover"]);so("onPointerLeave",["pointerout","pointerover"]);ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fR=new Set("cancel close invalid load scroll toggle".split(" ").concat(vl));function H0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,cA(n,t,void 0,e),e.currentTarget=null}function ET(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var f=n[l],m=f.instance,g=f.currentTarget;if(f=f.listener,m!==a&&i.isPropagationStopped())break e;H0(i,f,g),a=m}else for(l=0;l<n.length;l++){if(f=n[l],m=f.instance,g=f.currentTarget,f=f.listener,m!==a&&i.isPropagationStopped())break e;H0(i,f,g),a=m}}}if(gd)throw e=mm,gd=!1,mm=null,e}function Ht(e,t){var r=t[xm];r===void 0&&(r=t[xm]=new Set);var n=e+"__bubble";r.has(n)||(TT(t,e,2,!1),r.add(n))}function rp(e,t,r){var n=0;t&&(n|=4),TT(r,e,n,t)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function nu(e){if(!e[Ec]){e[Ec]=!0,RE.forEach(function(r){r!=="selectionchange"&&(fR.has(r)||rp(r,!1,e),rp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ec]||(t[Ec]=!0,rp("selectionchange",!1,t))}}function TT(e,t,r,n){switch(aT(t)){case 1:var i=CA;break;case 4:i=_A;break;default:i=tv}r=i.bind(null,t,r,e),i=void 0,!pm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function np(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var f=n.stateNode.containerInfo;if(f===i||f.nodeType===8&&f.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var m=l.tag;if((m===3||m===4)&&(m=l.stateNode.containerInfo,m===i||m.nodeType===8&&m.parentNode===i))return;l=l.return}for(;f!==null;){if(l=Wa(f),l===null)return;if(m=l.tag,m===5||m===6){n=a=l;continue e}f=f.parentNode}}n=n.return}GE(function(){var g=a,E=Xg(r),w=[];e:{var v=bT.get(e);if(v!==void 0){var x=nv,C=e;switch(e){case"keypress":if(Gc(r)===0)break e;case"keydown":case"keyup":x=zA;break;case"focusin":C="focus",x=Qh;break;case"focusout":C="blur",x=Qh;break;case"beforeblur":case"afterblur":x=Qh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=D0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=PA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=GA;break;case gT:case vT:case yT:x=IA;break;case ST:x=WA;break;case"scroll":x=AA;break;case"wheel":x=YA;break;case"copy":case"cut":case"paste":x=FA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=O0}var L=(t&4)!==0,I=!L&&e==="scroll",P=L?v!==null?v+"Capture":null:v;L=[];for(var R=g,A;R!==null;){A=R;var M=A.stateNode;if(A.tag===5&&M!==null&&(A=M,P!==null&&(M=Xl(R,P),M!=null&&L.push(iu(R,M,A)))),I)break;R=R.return}0<L.length&&(v=new x(v,C,null,r,E),w.push({event:v,listeners:L}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",v&&r!==fm&&(C=r.relatedTarget||r.fromElement)&&(Wa(C)||C[Fi]))break e;if((x||v)&&(v=E.window===E?E:(v=E.ownerDocument)?v.defaultView||v.parentWindow:window,x?(C=r.relatedTarget||r.toElement,x=g,C=C?Wa(C):null,C!==null&&(I=fs(C),C!==I||C.tag!==5&&C.tag!==6)&&(C=null)):(x=null,C=g),x!==C)){if(L=D0,M="onMouseLeave",P="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(L=O0,M="onPointerLeave",P="onPointerEnter",R="pointer"),I=x==null?v:Bs(x),A=C==null?v:Bs(C),v=new L(M,R+"leave",x,r,E),v.target=I,v.relatedTarget=A,M=null,Wa(E)===g&&(L=new L(P,R+"enter",C,r,E),L.target=A,L.relatedTarget=I,M=L),I=M,x&&C)t:{for(L=x,P=C,R=0,A=L;A;A=Rs(A))R++;for(A=0,M=P;M;M=Rs(M))A++;for(;0<R-A;)L=Rs(L),R--;for(;0<A-R;)P=Rs(P),A--;for(;R--;){if(L===P||P!==null&&L===P.alternate)break t;L=Rs(L),P=Rs(P)}L=null}else L=null;x!==null&&G0(w,v,x,L,!1),C!==null&&I!==null&&G0(w,I,C,L,!0)}}e:{if(v=g?Bs(g):window,x=v.nodeName&&v.nodeName.toLowerCase(),x==="select"||x==="input"&&v.type==="file")var j=rR;else if(N0(v))if(dT)j=sR;else{j=iR;var $=nR}else(x=v.nodeName)&&x.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(j=aR);if(j&&(j=j(e,g))){cT(w,j,r,E);break e}$&&$(e,v,g),e==="focusout"&&($=v._wrapperState)&&$.controlled&&v.type==="number"&&om(v,"number",v.value)}switch($=g?Bs(g):window,e){case"focusin":(N0($)||$.contentEditable==="true")&&(Ms=$,Sm=g,Rl=null);break;case"focusout":Rl=Sm=Ms=null;break;case"mousedown":bm=!0;break;case"contextmenu":case"mouseup":case"dragend":bm=!1,z0(w,r,E);break;case"selectionchange":if(uR)break;case"keydown":case"keyup":z0(w,r,E)}var B;if(av)e:{switch(e){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else Fs?lT(e,r)&&(K="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(K="onCompositionStart");K&&(oT&&r.locale!=="ko"&&(Fs||K!=="onCompositionStart"?K==="onCompositionEnd"&&Fs&&(B=sT()):(la=E,rv="value"in la?la.value:la.textContent,Fs=!0)),$=Ed(g,K),0<$.length&&(K=new I0(K,e,null,r,E),w.push({event:K,listeners:$}),B?K.data=B:(B=uT(r),B!==null&&(K.data=B)))),(B=XA?ZA(e,r):JA(e,r))&&(g=Ed(g,"onBeforeInput"),0<g.length&&(E=new I0("onBeforeInput","beforeinput",null,r,E),w.push({event:E,listeners:g}),E.data=B))}ET(w,t)})}function iu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ed(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Xl(e,r),a!=null&&n.unshift(iu(e,a,i)),a=Xl(e,t),a!=null&&n.push(iu(e,a,i))),e=e.return}return n}function Rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function G0(e,t,r,n,i){for(var a=t._reactName,l=[];r!==null&&r!==n;){var f=r,m=f.alternate,g=f.stateNode;if(m!==null&&m===n)break;f.tag===5&&g!==null&&(f=g,i?(m=Xl(r,a),m!=null&&l.unshift(iu(r,m,f))):i||(m=Xl(r,a),m!=null&&l.push(iu(r,m,f)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var hR=/\r\n?/g,pR=/\u0000|\uFFFD/g;function K0(e){return(typeof e=="string"?e:""+e).replace(hR,`
`).replace(pR,"")}function Tc(e,t,r){if(t=K0(t),K0(e)!==t&&r)throw Error(Be(425))}function Td(){}var Em=null,Tm=null;function wm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var km=typeof setTimeout=="function"?setTimeout:void 0,mR=typeof clearTimeout=="function"?clearTimeout:void 0,W0=typeof Promise=="function"?Promise:void 0,gR=typeof queueMicrotask=="function"?queueMicrotask:typeof W0<"u"?function(e){return W0.resolve(null).then(e).catch(vR)}:km;function vR(e){setTimeout(function(){throw e})}function ip(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),eu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);eu(t)}function pa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function q0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ko=Math.random().toString(36).slice(2),si="__reactFiber$"+ko,au="__reactProps$"+ko,Fi="__reactContainer$"+ko,xm="__reactEvents$"+ko,yR="__reactListeners$"+ko,SR="__reactHandles$"+ko;function Wa(e){var t=e[si];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Fi]||r[si]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=q0(e);e!==null;){if(r=e[si])return r;e=q0(e)}return t}e=r,r=e.parentNode}return null}function Iu(e){return e=e[si]||e[Fi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Be(33))}function pf(e){return e[au]||null}var Cm=[],Us=-1;function Ra(e){return{current:e}}function Kt(e){0>Us||(e.current=Cm[Us],Cm[Us]=null,Us--)}function Vt(e,t){Us++,Cm[Us]=e.current,e.current=t}var ka={},zr=Ra(ka),rn=Ra(!1),is=ka;function oo(e,t){var r=e.type.contextTypes;if(!r)return ka;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function nn(e){return e=e.childContextTypes,e!=null}function wd(){Kt(rn),Kt(zr)}function Y0(e,t,r){if(zr.current!==ka)throw Error(Be(168));Vt(zr,t),Vt(rn,r)}function wT(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Be(108,nA(e)||"Unknown",i));return nr({},r,n)}function kd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ka,is=zr.current,Vt(zr,e),Vt(rn,rn.current),!0}function Q0(e,t,r){var n=e.stateNode;if(!n)throw Error(Be(169));r?(e=wT(e,t,is),n.__reactInternalMemoizedMergedChildContext=e,Kt(rn),Kt(zr),Vt(zr,e)):Kt(rn),Vt(rn,r)}var ki=null,mf=!1,ap=!1;function kT(e){ki===null?ki=[e]:ki.push(e)}function bR(e){mf=!0,kT(e)}function Pa(){if(!ap&&ki!==null){ap=!0;var e=0,t=Nt;try{var r=ki;for(Nt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ki=null,mf=!1}catch(i){throw ki!==null&&(ki=ki.slice(e+1)),YE(Zg,Pa),i}finally{Nt=t,ap=!1}}return null}var $s=[],js=0,xd=null,Cd=0,Rn=[],Pn=0,as=null,Ci=1,_i="";function ja(e,t){$s[js++]=Cd,$s[js++]=xd,xd=e,Cd=t}function xT(e,t,r){Rn[Pn++]=Ci,Rn[Pn++]=_i,Rn[Pn++]=as,as=e;var n=Ci;e=_i;var i=32-Kn(n)-1;n&=~(1<<i),r+=1;var a=32-Kn(t)+i;if(30<a){var l=i-i%5;a=(n&(1<<l)-1).toString(32),n>>=l,i-=l,Ci=1<<32-Kn(t)+i|r<<i|n,_i=a+e}else Ci=1<<a|r<<i|n,_i=e}function ov(e){e.return!==null&&(ja(e,1),xT(e,1,0))}function lv(e){for(;e===xd;)xd=$s[--js],$s[js]=null,Cd=$s[--js],$s[js]=null;for(;e===as;)as=Rn[--Pn],Rn[Pn]=null,_i=Rn[--Pn],Rn[Pn]=null,Ci=Rn[--Pn],Rn[Pn]=null}var mn=null,hn=null,Xt=!1,Hn=null;function CT(e,t){var r=Ln(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function X0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mn=e,hn=pa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mn=e,hn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=as!==null?{id:Ci,overflow:_i}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ln(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,mn=e,hn=null,!0):!1;default:return!1}}function _m(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Am(e){if(Xt){var t=hn;if(t){var r=t;if(!X0(e,t)){if(_m(e))throw Error(Be(418));t=pa(r.nextSibling);var n=mn;t&&X0(e,t)?CT(n,r):(e.flags=e.flags&-4097|2,Xt=!1,mn=e)}}else{if(_m(e))throw Error(Be(418));e.flags=e.flags&-4097|2,Xt=!1,mn=e}}}function Z0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mn=e}function wc(e){if(e!==mn)return!1;if(!Xt)return Z0(e),Xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wm(e.type,e.memoizedProps)),t&&(t=hn)){if(_m(e))throw _T(),Error(Be(418));for(;t;)CT(e,t),t=pa(t.nextSibling)}if(Z0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Be(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){hn=pa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}hn=null}}else hn=mn?pa(e.stateNode.nextSibling):null;return!0}function _T(){for(var e=hn;e;)e=pa(e.nextSibling)}function lo(){hn=mn=null,Xt=!1}function uv(e){Hn===null?Hn=[e]:Hn.push(e)}var ER=Ui.ReactCurrentBatchConfig;function zn(e,t){if(e&&e.defaultProps){t=nr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var _d=Ra(null),Ad=null,zs=null,cv=null;function dv(){cv=zs=Ad=null}function fv(e){var t=_d.current;Kt(_d),e._currentValue=t}function Rm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Zs(e,t){Ad=e,cv=zs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tn=!0),e.firstContext=null)}function Fn(e){var t=e._currentValue;if(cv!==e)if(e={context:e,memoizedValue:t,next:null},zs===null){if(Ad===null)throw Error(Be(308));zs=e,Ad.dependencies={lanes:0,firstContext:e}}else zs=zs.next=e;return t}var qa=null;function hv(e){qa===null?qa=[e]:qa.push(e)}function AT(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,hv(t)):(r.next=i.next,i.next=r),t.interleaved=r,Mi(e,n)}function Mi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ra=!1;function pv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ma(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ct&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Mi(e,r)}return i=n.interleaved,i===null?(t.next=t,hv(n)):(t.next=i.next,i.next=t),n.interleaved=t,Mi(e,r)}function Kc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Jg(e,r)}}function J0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Rd(e,t,r,n){var i=e.updateQueue;ra=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,f=i.shared.pending;if(f!==null){i.shared.pending=null;var m=f,g=m.next;m.next=null,l===null?a=g:l.next=g,l=m;var E=e.alternate;E!==null&&(E=E.updateQueue,f=E.lastBaseUpdate,f!==l&&(f===null?E.firstBaseUpdate=g:f.next=g,E.lastBaseUpdate=m))}if(a!==null){var w=i.baseState;l=0,E=g=m=null,f=a;do{var v=f.lane,x=f.eventTime;if((n&v)===v){E!==null&&(E=E.next={eventTime:x,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var C=e,L=f;switch(v=t,x=r,L.tag){case 1:if(C=L.payload,typeof C=="function"){w=C.call(x,w,v);break e}w=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=L.payload,v=typeof C=="function"?C.call(x,w,v):C,v==null)break e;w=nr({},w,v);break e;case 2:ra=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,v=i.effects,v===null?i.effects=[f]:v.push(f))}else x={eventTime:x,lane:v,tag:f.tag,payload:f.payload,callback:f.callback,next:null},E===null?(g=E=x,m=w):E=E.next=x,l|=v;if(f=f.next,f===null){if(f=i.shared.pending,f===null)break;v=f,f=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);if(E===null&&(m=w),i.baseState=m,i.firstBaseUpdate=g,i.lastBaseUpdate=E,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);os|=l,e.lanes=l,e.memoizedState=w}}function e1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Be(191,i));i.call(n)}}}var PT=new AE.Component().refs;function Pm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:nr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var gf={isMounted:function(e){return(e=e._reactInternals)?fs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=qr(),i=va(e),a=Pi(n,i);a.payload=t,r!=null&&(a.callback=r),t=ma(e,a,i),t!==null&&(Wn(t,e,i,n),Kc(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=qr(),i=va(e),a=Pi(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ma(e,a,i),t!==null&&(Wn(t,e,i,n),Kc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qr(),n=va(e),i=Pi(r,n);i.tag=2,t!=null&&(i.callback=t),t=ma(e,i,n),t!==null&&(Wn(t,e,n,r),Kc(t,e,n))}};function t1(e,t,r,n,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!ru(r,n)||!ru(i,a):!0}function LT(e,t,r){var n=!1,i=ka,a=t.contextType;return typeof a=="object"&&a!==null?a=Fn(a):(i=nn(t)?is:zr.current,n=t.contextTypes,a=(n=n!=null)?oo(e,i):ka),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function r1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&gf.enqueueReplaceState(t,t.state,null)}function Lm(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=PT,pv(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Fn(a):(a=nn(t)?is:zr.current,i.context=oo(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Pm(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&gf.enqueueReplaceState(i,i.state,null),Rd(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function nl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Be(309));var n=r.stateNode}if(!n)throw Error(Be(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var f=i.refs;f===PT&&(f=i.refs={}),l===null?delete f[a]:f[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(Be(284));if(!r._owner)throw Error(Be(290,e))}return e}function kc(e,t){throw e=Object.prototype.toString.call(t),Error(Be(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function n1(e){var t=e._init;return t(e._payload)}function DT(e){function t(P,R){if(e){var A=P.deletions;A===null?(P.deletions=[R],P.flags|=16):A.push(R)}}function r(P,R){if(!e)return null;for(;R!==null;)t(P,R),R=R.sibling;return null}function n(P,R){for(P=new Map;R!==null;)R.key!==null?P.set(R.key,R):P.set(R.index,R),R=R.sibling;return P}function i(P,R){return P=ya(P,R),P.index=0,P.sibling=null,P}function a(P,R,A){return P.index=A,e?(A=P.alternate,A!==null?(A=A.index,A<R?(P.flags|=2,R):A):(P.flags|=2,R)):(P.flags|=1048576,R)}function l(P){return e&&P.alternate===null&&(P.flags|=2),P}function f(P,R,A,M){return R===null||R.tag!==6?(R=fp(A,P.mode,M),R.return=P,R):(R=i(R,A),R.return=P,R)}function m(P,R,A,M){var j=A.type;return j===Os?E(P,R,A.props.children,M,A.key):R!==null&&(R.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ta&&n1(j)===R.type)?(M=i(R,A.props),M.ref=nl(P,R,A),M.return=P,M):(M=Zc(A.type,A.key,A.props,null,P.mode,M),M.ref=nl(P,R,A),M.return=P,M)}function g(P,R,A,M){return R===null||R.tag!==4||R.stateNode.containerInfo!==A.containerInfo||R.stateNode.implementation!==A.implementation?(R=hp(A,P.mode,M),R.return=P,R):(R=i(R,A.children||[]),R.return=P,R)}function E(P,R,A,M,j){return R===null||R.tag!==7?(R=es(A,P.mode,M,j),R.return=P,R):(R=i(R,A),R.return=P,R)}function w(P,R,A){if(typeof R=="string"&&R!==""||typeof R=="number")return R=fp(""+R,P.mode,A),R.return=P,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case hc:return A=Zc(R.type,R.key,R.props,null,P.mode,A),A.ref=nl(P,null,R),A.return=P,A;case Is:return R=hp(R,P.mode,A),R.return=P,R;case ta:var M=R._init;return w(P,M(R._payload),A)}if(ml(R)||Zo(R))return R=es(R,P.mode,A,null),R.return=P,R;kc(P,R)}return null}function v(P,R,A,M){var j=R!==null?R.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return j!==null?null:f(P,R,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case hc:return A.key===j?m(P,R,A,M):null;case Is:return A.key===j?g(P,R,A,M):null;case ta:return j=A._init,v(P,R,j(A._payload),M)}if(ml(A)||Zo(A))return j!==null?null:E(P,R,A,M,null);kc(P,A)}return null}function x(P,R,A,M,j){if(typeof M=="string"&&M!==""||typeof M=="number")return P=P.get(A)||null,f(R,P,""+M,j);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case hc:return P=P.get(M.key===null?A:M.key)||null,m(R,P,M,j);case Is:return P=P.get(M.key===null?A:M.key)||null,g(R,P,M,j);case ta:var $=M._init;return x(P,R,A,$(M._payload),j)}if(ml(M)||Zo(M))return P=P.get(A)||null,E(R,P,M,j,null);kc(R,M)}return null}function C(P,R,A,M){for(var j=null,$=null,B=R,K=R=0,ce=null;B!==null&&K<A.length;K++){B.index>K?(ce=B,B=null):ce=B.sibling;var ye=v(P,B,A[K],M);if(ye===null){B===null&&(B=ce);break}e&&B&&ye.alternate===null&&t(P,B),R=a(ye,R,K),$===null?j=ye:$.sibling=ye,$=ye,B=ce}if(K===A.length)return r(P,B),Xt&&ja(P,K),j;if(B===null){for(;K<A.length;K++)B=w(P,A[K],M),B!==null&&(R=a(B,R,K),$===null?j=B:$.sibling=B,$=B);return Xt&&ja(P,K),j}for(B=n(P,B);K<A.length;K++)ce=x(B,P,K,A[K],M),ce!==null&&(e&&ce.alternate!==null&&B.delete(ce.key===null?K:ce.key),R=a(ce,R,K),$===null?j=ce:$.sibling=ce,$=ce);return e&&B.forEach(function(ie){return t(P,ie)}),Xt&&ja(P,K),j}function L(P,R,A,M){var j=Zo(A);if(typeof j!="function")throw Error(Be(150));if(A=j.call(A),A==null)throw Error(Be(151));for(var $=j=null,B=R,K=R=0,ce=null,ye=A.next();B!==null&&!ye.done;K++,ye=A.next()){B.index>K?(ce=B,B=null):ce=B.sibling;var ie=v(P,B,ye.value,M);if(ie===null){B===null&&(B=ce);break}e&&B&&ie.alternate===null&&t(P,B),R=a(ie,R,K),$===null?j=ie:$.sibling=ie,$=ie,B=ce}if(ye.done)return r(P,B),Xt&&ja(P,K),j;if(B===null){for(;!ye.done;K++,ye=A.next())ye=w(P,ye.value,M),ye!==null&&(R=a(ye,R,K),$===null?j=ye:$.sibling=ye,$=ye);return Xt&&ja(P,K),j}for(B=n(P,B);!ye.done;K++,ye=A.next())ye=x(B,P,K,ye.value,M),ye!==null&&(e&&ye.alternate!==null&&B.delete(ye.key===null?K:ye.key),R=a(ye,R,K),$===null?j=ye:$.sibling=ye,$=ye);return e&&B.forEach(function(N){return t(P,N)}),Xt&&ja(P,K),j}function I(P,R,A,M){if(typeof A=="object"&&A!==null&&A.type===Os&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case hc:e:{for(var j=A.key,$=R;$!==null;){if($.key===j){if(j=A.type,j===Os){if($.tag===7){r(P,$.sibling),R=i($,A.props.children),R.return=P,P=R;break e}}else if($.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ta&&n1(j)===$.type){r(P,$.sibling),R=i($,A.props),R.ref=nl(P,$,A),R.return=P,P=R;break e}r(P,$);break}else t(P,$);$=$.sibling}A.type===Os?(R=es(A.props.children,P.mode,M,A.key),R.return=P,P=R):(M=Zc(A.type,A.key,A.props,null,P.mode,M),M.ref=nl(P,R,A),M.return=P,P=M)}return l(P);case Is:e:{for($=A.key;R!==null;){if(R.key===$)if(R.tag===4&&R.stateNode.containerInfo===A.containerInfo&&R.stateNode.implementation===A.implementation){r(P,R.sibling),R=i(R,A.children||[]),R.return=P,P=R;break e}else{r(P,R);break}else t(P,R);R=R.sibling}R=hp(A,P.mode,M),R.return=P,P=R}return l(P);case ta:return $=A._init,I(P,R,$(A._payload),M)}if(ml(A))return C(P,R,A,M);if(Zo(A))return L(P,R,A,M);kc(P,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,R!==null&&R.tag===6?(r(P,R.sibling),R=i(R,A),R.return=P,P=R):(r(P,R),R=fp(A,P.mode,M),R.return=P,P=R),l(P)):r(P,R)}return I}var uo=DT(!0),IT=DT(!1),Ou={},fi=Ra(Ou),su=Ra(Ou),ou=Ra(Ou);function Ya(e){if(e===Ou)throw Error(Be(174));return e}function mv(e,t){switch(Vt(ou,t),Vt(su,e),Vt(fi,Ou),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:um(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=um(t,e)}Kt(fi),Vt(fi,t)}function co(){Kt(fi),Kt(su),Kt(ou)}function OT(e){Ya(ou.current);var t=Ya(fi.current),r=um(t,e.type);t!==r&&(Vt(su,e),Vt(fi,r))}function gv(e){su.current===e&&(Kt(fi),Kt(su))}var er=Ra(0);function Pd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sp=[];function vv(){for(var e=0;e<sp.length;e++)sp[e]._workInProgressVersionPrimary=null;sp.length=0}var Wc=Ui.ReactCurrentDispatcher,op=Ui.ReactCurrentBatchConfig,ss=0,rr=null,Er=null,Cr=null,Ld=!1,Pl=!1,lu=0,TR=0;function Nr(){throw Error(Be(321))}function yv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Yn(e[r],t[r]))return!1;return!0}function Sv(e,t,r,n,i,a){if(ss=a,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wc.current=e===null||e.memoizedState===null?CR:_R,e=r(n,i),Pl){a=0;do{if(Pl=!1,lu=0,25<=a)throw Error(Be(301));a+=1,Cr=Er=null,t.updateQueue=null,Wc.current=AR,e=r(n,i)}while(Pl)}if(Wc.current=Dd,t=Er!==null&&Er.next!==null,ss=0,Cr=Er=rr=null,Ld=!1,t)throw Error(Be(300));return e}function bv(){var e=lu!==0;return lu=0,e}function ti(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?rr.memoizedState=Cr=e:Cr=Cr.next=e,Cr}function Mn(){if(Er===null){var e=rr.alternate;e=e!==null?e.memoizedState:null}else e=Er.next;var t=Cr===null?rr.memoizedState:Cr.next;if(t!==null)Cr=t,Er=e;else{if(e===null)throw Error(Be(310));Er=e,e={memoizedState:Er.memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},Cr===null?rr.memoizedState=Cr=e:Cr=Cr.next=e}return Cr}function uu(e,t){return typeof t=="function"?t(e):t}function lp(e){var t=Mn(),r=t.queue;if(r===null)throw Error(Be(311));r.lastRenderedReducer=e;var n=Er,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var f=l=null,m=null,g=a;do{var E=g.lane;if((ss&E)===E)m!==null&&(m=m.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),n=g.hasEagerState?g.eagerState:e(n,g.action);else{var w={lane:E,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};m===null?(f=m=w,l=n):m=m.next=w,rr.lanes|=E,os|=E}g=g.next}while(g!==null&&g!==a);m===null?l=n:m.next=f,Yn(n,t.memoizedState)||(tn=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=m,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,rr.lanes|=a,os|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function up(e){var t=Mn(),r=t.queue;if(r===null)throw Error(Be(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);Yn(a,t.memoizedState)||(tn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function FT(){}function MT(e,t){var r=rr,n=Mn(),i=t(),a=!Yn(n.memoizedState,i);if(a&&(n.memoizedState=i,tn=!0),n=n.queue,Ev(UT.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Cr!==null&&Cr.memoizedState.tag&1){if(r.flags|=2048,cu(9,BT.bind(null,r,n,i,t),void 0,null),_r===null)throw Error(Be(349));ss&30||NT(r,t,i)}return i}function NT(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=rr.updateQueue,t===null?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function BT(e,t,r,n){t.value=r,t.getSnapshot=n,$T(t)&&jT(e)}function UT(e,t,r){return r(function(){$T(t)&&jT(e)})}function $T(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Yn(e,r)}catch{return!0}}function jT(e){var t=Mi(e,1);t!==null&&Wn(t,e,1,-1)}function i1(e){var t=ti();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:e},t.queue=e,e=e.dispatch=xR.bind(null,rr,e),[t.memoizedState,e]}function cu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=rr.updateQueue,t===null?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function zT(){return Mn().memoizedState}function qc(e,t,r,n){var i=ti();rr.flags|=e,i.memoizedState=cu(1|t,r,void 0,n===void 0?null:n)}function vf(e,t,r,n){var i=Mn();n=n===void 0?null:n;var a=void 0;if(Er!==null){var l=Er.memoizedState;if(a=l.destroy,n!==null&&yv(n,l.deps)){i.memoizedState=cu(t,r,a,n);return}}rr.flags|=e,i.memoizedState=cu(1|t,r,a,n)}function a1(e,t){return qc(8390656,8,e,t)}function Ev(e,t){return vf(2048,8,e,t)}function VT(e,t){return vf(4,2,e,t)}function HT(e,t){return vf(4,4,e,t)}function GT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function KT(e,t,r){return r=r!=null?r.concat([e]):null,vf(4,4,GT.bind(null,t,e),r)}function Tv(){}function WT(e,t){var r=Mn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function qT(e,t){var r=Mn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function YT(e,t,r){return ss&21?(Yn(r,t)||(r=ZE(),rr.lanes|=r,os|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tn=!0),e.memoizedState=r)}function wR(e,t){var r=Nt;Nt=r!==0&&4>r?r:4,e(!0);var n=op.transition;op.transition={};try{e(!1),t()}finally{Nt=r,op.transition=n}}function QT(){return Mn().memoizedState}function kR(e,t,r){var n=va(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},XT(e))ZT(t,r);else if(r=AT(e,t,r,n),r!==null){var i=qr();Wn(r,e,n,i),JT(r,t,n)}}function xR(e,t,r){var n=va(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(XT(e))ZT(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,f=a(l,r);if(i.hasEagerState=!0,i.eagerState=f,Yn(f,l)){var m=t.interleaved;m===null?(i.next=i,hv(t)):(i.next=m.next,m.next=i),t.interleaved=i;return}}catch{}finally{}r=AT(e,t,i,n),r!==null&&(i=qr(),Wn(r,e,n,i),JT(r,t,n))}}function XT(e){var t=e.alternate;return e===rr||t!==null&&t===rr}function ZT(e,t){Pl=Ld=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function JT(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Jg(e,r)}}var Dd={readContext:Fn,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useInsertionEffect:Nr,useLayoutEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useMutableSource:Nr,useSyncExternalStore:Nr,useId:Nr,unstable_isNewReconciler:!1},CR={readContext:Fn,useCallback:function(e,t){return ti().memoizedState=[e,t===void 0?null:t],e},useContext:Fn,useEffect:a1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,qc(4194308,4,GT.bind(null,t,e),r)},useLayoutEffect:function(e,t){return qc(4194308,4,e,t)},useInsertionEffect:function(e,t){return qc(4,2,e,t)},useMemo:function(e,t){var r=ti();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ti();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=kR.bind(null,rr,e),[n.memoizedState,e]},useRef:function(e){var t=ti();return e={current:e},t.memoizedState=e},useState:i1,useDebugValue:Tv,useDeferredValue:function(e){return ti().memoizedState=e},useTransition:function(){var e=i1(!1),t=e[0];return e=wR.bind(null,e[1]),ti().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=rr,i=ti();if(Xt){if(r===void 0)throw Error(Be(407));r=r()}else{if(r=t(),_r===null)throw Error(Be(349));ss&30||NT(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,a1(UT.bind(null,n,a,e),[e]),n.flags|=2048,cu(9,BT.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=ti(),t=_r.identifierPrefix;if(Xt){var r=_i,n=Ci;r=(n&~(1<<32-Kn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=lu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=TR++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_R={readContext:Fn,useCallback:WT,useContext:Fn,useEffect:Ev,useImperativeHandle:KT,useInsertionEffect:VT,useLayoutEffect:HT,useMemo:qT,useReducer:lp,useRef:zT,useState:function(){return lp(uu)},useDebugValue:Tv,useDeferredValue:function(e){var t=Mn();return YT(t,Er.memoizedState,e)},useTransition:function(){var e=lp(uu)[0],t=Mn().memoizedState;return[e,t]},useMutableSource:FT,useSyncExternalStore:MT,useId:QT,unstable_isNewReconciler:!1},AR={readContext:Fn,useCallback:WT,useContext:Fn,useEffect:Ev,useImperativeHandle:KT,useInsertionEffect:VT,useLayoutEffect:HT,useMemo:qT,useReducer:up,useRef:zT,useState:function(){return up(uu)},useDebugValue:Tv,useDeferredValue:function(e){var t=Mn();return Er===null?t.memoizedState=e:YT(t,Er.memoizedState,e)},useTransition:function(){var e=up(uu)[0],t=Mn().memoizedState;return[e,t]},useMutableSource:FT,useSyncExternalStore:MT,useId:QT,unstable_isNewReconciler:!1};function fo(e,t){try{var r="",n=t;do r+=rA(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function cp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Dm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var RR=typeof WeakMap=="function"?WeakMap:Map;function ew(e,t,r){r=Pi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Od||(Od=!0,zm=n),Dm(e,t)},r}function tw(e,t,r){r=Pi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Dm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Dm(e,t),typeof n!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function s1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new RR;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=VR.bind(null,e,t,r),t.then(e,e))}function o1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function l1(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Pi(-1,1),t.tag=2,ma(r,t,1))),r.lanes|=1),e)}var PR=Ui.ReactCurrentOwner,tn=!1;function Kr(e,t,r,n){t.child=e===null?IT(t,null,r,n):uo(t,e.child,r,n)}function u1(e,t,r,n,i){r=r.render;var a=t.ref;return Zs(t,i),n=Sv(e,t,r,n,a,i),r=bv(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ni(e,t,i)):(Xt&&r&&ov(t),t.flags|=1,Kr(e,t,n,i),t.child)}function c1(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Pv(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,rw(e,t,a,n,i)):(e=Zc(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:ru,r(l,n)&&e.ref===t.ref)return Ni(e,t,i)}return t.flags|=1,e=ya(a,n),e.ref=t.ref,e.return=t,t.child=e}function rw(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(ru(a,n)&&e.ref===t.ref)if(tn=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(tn=!0);else return t.lanes=e.lanes,Ni(e,t,i)}return Im(e,t,r,n,i)}function nw(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(Hs,fn),fn|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Vt(Hs,fn),fn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Vt(Hs,fn),fn|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Vt(Hs,fn),fn|=n;return Kr(e,t,i,r),t.child}function iw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Im(e,t,r,n,i){var a=nn(r)?is:zr.current;return a=oo(t,a),Zs(t,i),r=Sv(e,t,r,n,a,i),n=bv(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ni(e,t,i)):(Xt&&n&&ov(t),t.flags|=1,Kr(e,t,r,i),t.child)}function d1(e,t,r,n,i){if(nn(r)){var a=!0;kd(t)}else a=!1;if(Zs(t,i),t.stateNode===null)Yc(e,t),LT(t,r,n),Lm(t,r,n,i),n=!0;else if(e===null){var l=t.stateNode,f=t.memoizedProps;l.props=f;var m=l.context,g=r.contextType;typeof g=="object"&&g!==null?g=Fn(g):(g=nn(r)?is:zr.current,g=oo(t,g));var E=r.getDerivedStateFromProps,w=typeof E=="function"||typeof l.getSnapshotBeforeUpdate=="function";w||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(f!==n||m!==g)&&r1(t,l,n,g),ra=!1;var v=t.memoizedState;l.state=v,Rd(t,n,l,i),m=t.memoizedState,f!==n||v!==m||rn.current||ra?(typeof E=="function"&&(Pm(t,r,E,n),m=t.memoizedState),(f=ra||t1(t,r,f,n,v,m,g))?(w||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=m),l.props=n,l.state=m,l.context=g,n=f):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,RT(e,t),f=t.memoizedProps,g=t.type===t.elementType?f:zn(t.type,f),l.props=g,w=t.pendingProps,v=l.context,m=r.contextType,typeof m=="object"&&m!==null?m=Fn(m):(m=nn(r)?is:zr.current,m=oo(t,m));var x=r.getDerivedStateFromProps;(E=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(f!==w||v!==m)&&r1(t,l,n,m),ra=!1,v=t.memoizedState,l.state=v,Rd(t,n,l,i);var C=t.memoizedState;f!==w||v!==C||rn.current||ra?(typeof x=="function"&&(Pm(t,r,x,n),C=t.memoizedState),(g=ra||t1(t,r,g,n,v,C,m)||!1)?(E||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,C,m),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,C,m)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||f===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=C),l.props=n,l.state=C,l.context=m,n=g):(typeof l.componentDidUpdate!="function"||f===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),n=!1)}return Om(e,t,r,n,a,i)}function Om(e,t,r,n,i,a){iw(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&Q0(t,r,!1),Ni(e,t,a);n=t.stateNode,PR.current=t;var f=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=uo(t,e.child,null,a),t.child=uo(t,null,f,a)):Kr(e,t,f,a),t.memoizedState=n.state,i&&Q0(t,r,!0),t.child}function aw(e){var t=e.stateNode;t.pendingContext?Y0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Y0(e,t.context,!1),mv(e,t.containerInfo)}function f1(e,t,r,n,i){return lo(),uv(i),t.flags|=256,Kr(e,t,r,n),t.child}var Fm={dehydrated:null,treeContext:null,retryLane:0};function Mm(e){return{baseLanes:e,cachePool:null,transitions:null}}function sw(e,t,r){var n=t.pendingProps,i=er.current,a=!1,l=(t.flags&128)!==0,f;if((f=l)||(f=e!==null&&e.memoizedState===null?!1:(i&2)!==0),f?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Vt(er,i&1),e===null)return Am(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=bf(l,n,0,null),e=es(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Mm(r),t.memoizedState=Fm,e):wv(t,l));if(i=e.memoizedState,i!==null&&(f=i.dehydrated,f!==null))return LR(e,t,l,n,f,i,r);if(a){a=n.fallback,l=t.mode,i=e.child,f=i.sibling;var m={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=m,t.deletions=null):(n=ya(i,m),n.subtreeFlags=i.subtreeFlags&14680064),f!==null?a=ya(f,a):(a=es(a,l,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?Mm(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=Fm,n}return a=e.child,e=a.sibling,n=ya(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function wv(e,t){return t=bf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xc(e,t,r,n){return n!==null&&uv(n),uo(t,e.child,null,r),e=wv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function LR(e,t,r,n,i,a,l){if(r)return t.flags&256?(t.flags&=-257,n=cp(Error(Be(422))),xc(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=bf({mode:"visible",children:n.children},i,0,null),a=es(a,i,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&uo(t,e.child,null,l),t.child.memoizedState=Mm(l),t.memoizedState=Fm,a);if(!(t.mode&1))return xc(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var f=n.dgst;return n=f,a=Error(Be(419)),n=cp(a,n,void 0),xc(e,t,l,n)}if(f=(l&e.childLanes)!==0,tn||f){if(n=_r,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Mi(e,i),Wn(n,e,i,-1))}return Rv(),n=cp(Error(Be(421))),xc(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=HR.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,hn=pa(i.nextSibling),mn=t,Xt=!0,Hn=null,e!==null&&(Rn[Pn++]=Ci,Rn[Pn++]=_i,Rn[Pn++]=as,Ci=e.id,_i=e.overflow,as=t),t=wv(t,n.children),t.flags|=4096,t)}function h1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Rm(e.return,t,r)}function dp(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function ow(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Kr(e,t,n.children,r),n=er.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&h1(e,r,t);else if(e.tag===19)h1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Vt(er,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Pd(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),dp(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Pd(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}dp(t,!0,r,null,a);break;case"together":dp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ni(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),os|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Be(153));if(t.child!==null){for(e=t.child,r=ya(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ya(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function DR(e,t,r){switch(t.tag){case 3:aw(t),lo();break;case 5:OT(t);break;case 1:nn(t.type)&&kd(t);break;case 4:mv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Vt(_d,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Vt(er,er.current&1),t.flags|=128,null):r&t.child.childLanes?sw(e,t,r):(Vt(er,er.current&1),e=Ni(e,t,r),e!==null?e.sibling:null);Vt(er,er.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ow(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Vt(er,er.current),n)break;return null;case 22:case 23:return t.lanes=0,nw(e,t,r)}return Ni(e,t,r)}var lw,Nm,uw,cw;lw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Nm=function(){};uw=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ya(fi.current);var a=null;switch(r){case"input":i=am(e,i),n=am(e,n),a=[];break;case"select":i=nr({},i,{value:void 0}),n=nr({},n,{value:void 0}),a=[];break;case"textarea":i=lm(e,i),n=lm(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Td)}cm(r,n);var l;r=null;for(g in i)if(!n.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var f=i[g];for(l in f)f.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Yl.hasOwnProperty(g)?a||(a=[]):(a=a||[]).push(g,null));for(g in n){var m=n[g];if(f=i!=null?i[g]:void 0,n.hasOwnProperty(g)&&m!==f&&(m!=null||f!=null))if(g==="style")if(f){for(l in f)!f.hasOwnProperty(l)||m&&m.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in m)m.hasOwnProperty(l)&&f[l]!==m[l]&&(r||(r={}),r[l]=m[l])}else r||(a||(a=[]),a.push(g,r)),r=m;else g==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,f=f?f.__html:void 0,m!=null&&f!==m&&(a=a||[]).push(g,m)):g==="children"?typeof m!="string"&&typeof m!="number"||(a=a||[]).push(g,""+m):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Yl.hasOwnProperty(g)?(m!=null&&g==="onScroll"&&Ht("scroll",e),a||f===m||(a=[])):(a=a||[]).push(g,m))}r&&(a=a||[]).push("style",r);var g=a;(t.updateQueue=g)&&(t.flags|=4)}};cw=function(e,t,r,n){r!==n&&(t.flags|=4)};function il(e,t){if(!Xt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Br(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function IR(e,t,r){var n=t.pendingProps;switch(lv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Br(t),null;case 1:return nn(t.type)&&wd(),Br(t),null;case 3:return n=t.stateNode,co(),Kt(rn),Kt(zr),vv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(wc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hn!==null&&(Gm(Hn),Hn=null))),Nm(e,t),Br(t),null;case 5:gv(t);var i=Ya(ou.current);if(r=t.type,e!==null&&t.stateNode!=null)uw(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Be(166));return Br(t),null}if(e=Ya(fi.current),wc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[si]=t,n[au]=a,e=(t.mode&1)!==0,r){case"dialog":Ht("cancel",n),Ht("close",n);break;case"iframe":case"object":case"embed":Ht("load",n);break;case"video":case"audio":for(i=0;i<vl.length;i++)Ht(vl[i],n);break;case"source":Ht("error",n);break;case"img":case"image":case"link":Ht("error",n),Ht("load",n);break;case"details":Ht("toggle",n);break;case"input":T0(n,a),Ht("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ht("invalid",n);break;case"textarea":k0(n,a),Ht("invalid",n)}cm(r,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var f=a[l];l==="children"?typeof f=="string"?n.textContent!==f&&(a.suppressHydrationWarning!==!0&&Tc(n.textContent,f,e),i=["children",f]):typeof f=="number"&&n.textContent!==""+f&&(a.suppressHydrationWarning!==!0&&Tc(n.textContent,f,e),i=["children",""+f]):Yl.hasOwnProperty(l)&&f!=null&&l==="onScroll"&&Ht("scroll",n)}switch(r){case"input":pc(n),w0(n,a,!0);break;case"textarea":pc(n),x0(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Td)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=NE(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[si]=t,e[au]=n,lw(e,t,!1,!1),t.stateNode=e;e:{switch(l=dm(r,n),r){case"dialog":Ht("cancel",e),Ht("close",e),i=n;break;case"iframe":case"object":case"embed":Ht("load",e),i=n;break;case"video":case"audio":for(i=0;i<vl.length;i++)Ht(vl[i],e);i=n;break;case"source":Ht("error",e),i=n;break;case"img":case"image":case"link":Ht("error",e),Ht("load",e),i=n;break;case"details":Ht("toggle",e),i=n;break;case"input":T0(e,n),i=am(e,n),Ht("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=nr({},n,{value:void 0}),Ht("invalid",e);break;case"textarea":k0(e,n),i=lm(e,n),Ht("invalid",e);break;default:i=n}cm(r,i),f=i;for(a in f)if(f.hasOwnProperty(a)){var m=f[a];a==="style"?$E(e,m):a==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&BE(e,m)):a==="children"?typeof m=="string"?(r!=="textarea"||m!=="")&&Ql(e,m):typeof m=="number"&&Ql(e,""+m):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Yl.hasOwnProperty(a)?m!=null&&a==="onScroll"&&Ht("scroll",e):m!=null&&Wg(e,a,m,l))}switch(r){case"input":pc(e),w0(e,n,!1);break;case"textarea":pc(e),x0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+wa(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?qs(e,!!n.multiple,a,!1):n.defaultValue!=null&&qs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Td)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Br(t),null;case 6:if(e&&t.stateNode!=null)cw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Be(166));if(r=Ya(ou.current),Ya(fi.current),wc(t)){if(n=t.stateNode,r=t.memoizedProps,n[si]=t,(a=n.nodeValue!==r)&&(e=mn,e!==null))switch(e.tag){case 3:Tc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[si]=t,t.stateNode=n}return Br(t),null;case 13:if(Kt(er),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xt&&hn!==null&&t.mode&1&&!(t.flags&128))_T(),lo(),t.flags|=98560,a=!1;else if(a=wc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Be(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Be(317));a[si]=t}else lo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Br(t),a=!1}else Hn!==null&&(Gm(Hn),Hn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||er.current&1?Tr===0&&(Tr=3):Rv())),t.updateQueue!==null&&(t.flags|=4),Br(t),null);case 4:return co(),Nm(e,t),e===null&&nu(t.stateNode.containerInfo),Br(t),null;case 10:return fv(t.type._context),Br(t),null;case 17:return nn(t.type)&&wd(),Br(t),null;case 19:if(Kt(er),a=t.memoizedState,a===null)return Br(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)il(a,!1);else{if(Tr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Pd(e),l!==null){for(t.flags|=128,il(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Vt(er,er.current&1|2),t.child}e=e.sibling}a.tail!==null&&dr()>ho&&(t.flags|=128,n=!0,il(a,!1),t.lanes=4194304)}else{if(!n)if(e=Pd(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),il(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!Xt)return Br(t),null}else 2*dr()-a.renderingStartTime>ho&&r!==1073741824&&(t.flags|=128,n=!0,il(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,r!==null?r.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=dr(),t.sibling=null,r=er.current,Vt(er,n?r&1|2:r&1),t):(Br(t),null);case 22:case 23:return Av(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?fn&1073741824&&(Br(t),t.subtreeFlags&6&&(t.flags|=8192)):Br(t),null;case 24:return null;case 25:return null}throw Error(Be(156,t.tag))}function OR(e,t){switch(lv(t),t.tag){case 1:return nn(t.type)&&wd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return co(),Kt(rn),Kt(zr),vv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gv(t),null;case 13:if(Kt(er),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Be(340));lo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kt(er),null;case 4:return co(),null;case 10:return fv(t.type._context),null;case 22:case 23:return Av(),null;case 24:return null;default:return null}}var Cc=!1,$r=!1,FR=typeof WeakSet=="function"?WeakSet:Set,We=null;function Vs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){sr(e,t,n)}else r.current=null}function Bm(e,t,r){try{r()}catch(n){sr(e,t,n)}}var p1=!1;function MR(e,t){if(Em=Sd,e=pT(),sv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,f=-1,m=-1,g=0,E=0,w=e,v=null;t:for(;;){for(var x;w!==r||i!==0&&w.nodeType!==3||(f=l+i),w!==a||n!==0&&w.nodeType!==3||(m=l+n),w.nodeType===3&&(l+=w.nodeValue.length),(x=w.firstChild)!==null;)v=w,w=x;for(;;){if(w===e)break t;if(v===r&&++g===i&&(f=l),v===a&&++E===n&&(m=l),(x=w.nextSibling)!==null)break;w=v,v=w.parentNode}w=x}r=f===-1||m===-1?null:{start:f,end:m}}else r=null}r=r||{start:0,end:0}}else r=null;for(Tm={focusedElem:e,selectionRange:r},Sd=!1,We=t;We!==null;)if(t=We,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,We=e;else for(;We!==null;){t=We;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var L=C.memoizedProps,I=C.memoizedState,P=t.stateNode,R=P.getSnapshotBeforeUpdate(t.elementType===t.type?L:zn(t.type,L),I);P.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Be(163))}}catch(M){sr(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,We=e;break}We=t.return}return C=p1,p1=!1,C}function Ll(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Bm(t,r,a)}i=i.next}while(i!==n)}}function yf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Um(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function dw(e){var t=e.alternate;t!==null&&(e.alternate=null,dw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[si],delete t[au],delete t[xm],delete t[yR],delete t[SR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fw(e){return e.tag===5||e.tag===3||e.tag===4}function m1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $m(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Td));else if(n!==4&&(e=e.child,e!==null))for($m(e,t,r),e=e.sibling;e!==null;)$m(e,t,r),e=e.sibling}function jm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(jm(e,t,r),e=e.sibling;e!==null;)jm(e,t,r),e=e.sibling}var Lr=null,Vn=!1;function Yi(e,t,r){for(r=r.child;r!==null;)hw(e,t,r),r=r.sibling}function hw(e,t,r){if(di&&typeof di.onCommitFiberUnmount=="function")try{di.onCommitFiberUnmount(cf,r)}catch{}switch(r.tag){case 5:$r||Vs(r,t);case 6:var n=Lr,i=Vn;Lr=null,Yi(e,t,r),Lr=n,Vn=i,Lr!==null&&(Vn?(e=Lr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Lr.removeChild(r.stateNode));break;case 18:Lr!==null&&(Vn?(e=Lr,r=r.stateNode,e.nodeType===8?ip(e.parentNode,r):e.nodeType===1&&ip(e,r),eu(e)):ip(Lr,r.stateNode));break;case 4:n=Lr,i=Vn,Lr=r.stateNode.containerInfo,Vn=!0,Yi(e,t,r),Lr=n,Vn=i;break;case 0:case 11:case 14:case 15:if(!$r&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Bm(r,t,l),i=i.next}while(i!==n)}Yi(e,t,r);break;case 1:if(!$r&&(Vs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(f){sr(r,t,f)}Yi(e,t,r);break;case 21:Yi(e,t,r);break;case 22:r.mode&1?($r=(n=$r)||r.memoizedState!==null,Yi(e,t,r),$r=n):Yi(e,t,r);break;default:Yi(e,t,r)}}function g1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new FR),t.forEach(function(n){var i=GR.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Un(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,l=t,f=l;e:for(;f!==null;){switch(f.tag){case 5:Lr=f.stateNode,Vn=!1;break e;case 3:Lr=f.stateNode.containerInfo,Vn=!0;break e;case 4:Lr=f.stateNode.containerInfo,Vn=!0;break e}f=f.return}if(Lr===null)throw Error(Be(160));hw(a,l,i),Lr=null,Vn=!1;var m=i.alternate;m!==null&&(m.return=null),i.return=null}catch(g){sr(i,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pw(t,e),t=t.sibling}function pw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Un(t,e),Jn(e),n&4){try{Ll(3,e,e.return),yf(3,e)}catch(L){sr(e,e.return,L)}try{Ll(5,e,e.return)}catch(L){sr(e,e.return,L)}}break;case 1:Un(t,e),Jn(e),n&512&&r!==null&&Vs(r,r.return);break;case 5:if(Un(t,e),Jn(e),n&512&&r!==null&&Vs(r,r.return),e.flags&32){var i=e.stateNode;try{Ql(i,"")}catch(L){sr(e,e.return,L)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,f=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{f==="input"&&a.type==="radio"&&a.name!=null&&FE(i,a),dm(f,l);var g=dm(f,a);for(l=0;l<m.length;l+=2){var E=m[l],w=m[l+1];E==="style"?$E(i,w):E==="dangerouslySetInnerHTML"?BE(i,w):E==="children"?Ql(i,w):Wg(i,E,w,g)}switch(f){case"input":sm(i,a);break;case"textarea":ME(i,a);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?qs(i,!!a.multiple,x,!1):v!==!!a.multiple&&(a.defaultValue!=null?qs(i,!!a.multiple,a.defaultValue,!0):qs(i,!!a.multiple,a.multiple?[]:"",!1))}i[au]=a}catch(L){sr(e,e.return,L)}}break;case 6:if(Un(t,e),Jn(e),n&4){if(e.stateNode===null)throw Error(Be(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(L){sr(e,e.return,L)}}break;case 3:if(Un(t,e),Jn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{eu(t.containerInfo)}catch(L){sr(e,e.return,L)}break;case 4:Un(t,e),Jn(e);break;case 13:Un(t,e),Jn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Cv=dr())),n&4&&g1(e);break;case 22:if(E=r!==null&&r.memoizedState!==null,e.mode&1?($r=(g=$r)||E,Un(t,e),$r=g):Un(t,e),Jn(e),n&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!E&&e.mode&1)for(We=e,E=e.child;E!==null;){for(w=We=E;We!==null;){switch(v=We,x=v.child,v.tag){case 0:case 11:case 14:case 15:Ll(4,v,v.return);break;case 1:Vs(v,v.return);var C=v.stateNode;if(typeof C.componentWillUnmount=="function"){n=v,r=v.return;try{t=n,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(L){sr(n,r,L)}}break;case 5:Vs(v,v.return);break;case 22:if(v.memoizedState!==null){y1(w);continue}}x!==null?(x.return=v,We=x):y1(w)}E=E.sibling}e:for(E=null,w=e;;){if(w.tag===5){if(E===null){E=w;try{i=w.stateNode,g?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(f=w.stateNode,m=w.memoizedProps.style,l=m!=null&&m.hasOwnProperty("display")?m.display:null,f.style.display=UE("display",l))}catch(L){sr(e,e.return,L)}}}else if(w.tag===6){if(E===null)try{w.stateNode.nodeValue=g?"":w.memoizedProps}catch(L){sr(e,e.return,L)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;E===w&&(E=null),w=w.return}E===w&&(E=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:Un(t,e),Jn(e),n&4&&g1(e);break;case 21:break;default:Un(t,e),Jn(e)}}function Jn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(fw(r)){var n=r;break e}r=r.return}throw Error(Be(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ql(i,""),n.flags&=-33);var a=m1(e);jm(e,a,i);break;case 3:case 4:var l=n.stateNode.containerInfo,f=m1(e);$m(e,f,l);break;default:throw Error(Be(161))}}catch(m){sr(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function NR(e,t,r){We=e,mw(e)}function mw(e,t,r){for(var n=(e.mode&1)!==0;We!==null;){var i=We,a=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||Cc;if(!l){var f=i.alternate,m=f!==null&&f.memoizedState!==null||$r;f=Cc;var g=$r;if(Cc=l,($r=m)&&!g)for(We=i;We!==null;)l=We,m=l.child,l.tag===22&&l.memoizedState!==null?S1(i):m!==null?(m.return=l,We=m):S1(i);for(;a!==null;)We=a,mw(a),a=a.sibling;We=i,Cc=f,$r=g}v1(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,We=a):v1(e)}}function v1(e){for(;We!==null;){var t=We;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$r||yf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!$r)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:zn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&e1(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}e1(t,l,r)}break;case 5:var f=t.stateNode;if(r===null&&t.flags&4){r=f;var m=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&r.focus();break;case"img":m.src&&(r.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var E=g.memoizedState;if(E!==null){var w=E.dehydrated;w!==null&&eu(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Be(163))}$r||t.flags&512&&Um(t)}catch(v){sr(t,t.return,v)}}if(t===e){We=null;break}if(r=t.sibling,r!==null){r.return=t.return,We=r;break}We=t.return}}function y1(e){for(;We!==null;){var t=We;if(t===e){We=null;break}var r=t.sibling;if(r!==null){r.return=t.return,We=r;break}We=t.return}}function S1(e){for(;We!==null;){var t=We;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{yf(4,t)}catch(m){sr(t,r,m)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(m){sr(t,i,m)}}var a=t.return;try{Um(t)}catch(m){sr(t,a,m)}break;case 5:var l=t.return;try{Um(t)}catch(m){sr(t,l,m)}}}catch(m){sr(t,t.return,m)}if(t===e){We=null;break}var f=t.sibling;if(f!==null){f.return=t.return,We=f;break}We=t.return}}var BR=Math.ceil,Id=Ui.ReactCurrentDispatcher,kv=Ui.ReactCurrentOwner,In=Ui.ReactCurrentBatchConfig,Ct=0,_r=null,Sr=null,Ir=0,fn=0,Hs=Ra(0),Tr=0,du=null,os=0,Sf=0,xv=0,Dl=null,Jr=null,Cv=0,ho=1/0,wi=null,Od=!1,zm=null,ga=null,_c=!1,ua=null,Fd=0,Il=0,Vm=null,Qc=-1,Xc=0;function qr(){return Ct&6?dr():Qc!==-1?Qc:Qc=dr()}function va(e){return e.mode&1?Ct&2&&Ir!==0?Ir&-Ir:ER.transition!==null?(Xc===0&&(Xc=ZE()),Xc):(e=Nt,e!==0||(e=window.event,e=e===void 0?16:aT(e.type)),e):1}function Wn(e,t,r,n){if(50<Il)throw Il=0,Vm=null,Error(Be(185));Lu(e,r,n),(!(Ct&2)||e!==_r)&&(e===_r&&(!(Ct&2)&&(Sf|=r),Tr===4&&sa(e,Ir)),an(e,n),r===1&&Ct===0&&!(t.mode&1)&&(ho=dr()+500,mf&&Pa()))}function an(e,t){var r=e.callbackNode;EA(e,t);var n=yd(e,e===_r?Ir:0);if(n===0)r!==null&&A0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&A0(r),t===1)e.tag===0?bR(b1.bind(null,e)):kT(b1.bind(null,e)),gR(function(){!(Ct&6)&&Pa()}),r=null;else{switch(JE(n)){case 1:r=Zg;break;case 4:r=QE;break;case 16:r=vd;break;case 536870912:r=XE;break;default:r=vd}r=ww(r,gw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function gw(e,t){if(Qc=-1,Xc=0,Ct&6)throw Error(Be(327));var r=e.callbackNode;if(Js()&&e.callbackNode!==r)return null;var n=yd(e,e===_r?Ir:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Md(e,n);else{t=n;var i=Ct;Ct|=2;var a=yw();(_r!==e||Ir!==t)&&(wi=null,ho=dr()+500,Ja(e,t));do try{jR();break}catch(f){vw(e,f)}while(1);dv(),Id.current=a,Ct=i,Sr!==null?t=0:(_r=null,Ir=0,t=Tr)}if(t!==0){if(t===2&&(i=gm(e),i!==0&&(n=i,t=Hm(e,i))),t===1)throw r=du,Ja(e,0),sa(e,n),an(e,dr()),r;if(t===6)sa(e,n);else{if(i=e.current.alternate,!(n&30)&&!UR(i)&&(t=Md(e,n),t===2&&(a=gm(e),a!==0&&(n=a,t=Hm(e,a))),t===1))throw r=du,Ja(e,0),sa(e,n),an(e,dr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Be(345));case 2:za(e,Jr,wi);break;case 3:if(sa(e,n),(n&130023424)===n&&(t=Cv+500-dr(),10<t)){if(yd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){qr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=km(za.bind(null,e,Jr,wi),t);break}za(e,Jr,wi);break;case 4:if(sa(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-Kn(n);a=1<<l,l=t[l],l>i&&(i=l),n&=~a}if(n=i,n=dr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*BR(n/1960))-n,10<n){e.timeoutHandle=km(za.bind(null,e,Jr,wi),n);break}za(e,Jr,wi);break;case 5:za(e,Jr,wi);break;default:throw Error(Be(329))}}}return an(e,dr()),e.callbackNode===r?gw.bind(null,e):null}function Hm(e,t){var r=Dl;return e.current.memoizedState.isDehydrated&&(Ja(e,t).flags|=256),e=Md(e,t),e!==2&&(t=Jr,Jr=r,t!==null&&Gm(t)),e}function Gm(e){Jr===null?Jr=e:Jr.push.apply(Jr,e)}function UR(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Yn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sa(e,t){for(t&=~xv,t&=~Sf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Kn(t),n=1<<r;e[r]=-1,t&=~n}}function b1(e){if(Ct&6)throw Error(Be(327));Js();var t=yd(e,0);if(!(t&1))return an(e,dr()),null;var r=Md(e,t);if(e.tag!==0&&r===2){var n=gm(e);n!==0&&(t=n,r=Hm(e,n))}if(r===1)throw r=du,Ja(e,0),sa(e,t),an(e,dr()),r;if(r===6)throw Error(Be(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,za(e,Jr,wi),an(e,dr()),null}function _v(e,t){var r=Ct;Ct|=1;try{return e(t)}finally{Ct=r,Ct===0&&(ho=dr()+500,mf&&Pa())}}function ls(e){ua!==null&&ua.tag===0&&!(Ct&6)&&Js();var t=Ct;Ct|=1;var r=In.transition,n=Nt;try{if(In.transition=null,Nt=1,e)return e()}finally{Nt=n,In.transition=r,Ct=t,!(Ct&6)&&Pa()}}function Av(){fn=Hs.current,Kt(Hs)}function Ja(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,mR(r)),Sr!==null)for(r=Sr.return;r!==null;){var n=r;switch(lv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wd();break;case 3:co(),Kt(rn),Kt(zr),vv();break;case 5:gv(n);break;case 4:co();break;case 13:Kt(er);break;case 19:Kt(er);break;case 10:fv(n.type._context);break;case 22:case 23:Av()}r=r.return}if(_r=e,Sr=e=ya(e.current,null),Ir=fn=t,Tr=0,du=null,xv=Sf=os=0,Jr=Dl=null,qa!==null){for(t=0;t<qa.length;t++)if(r=qa[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=i,n.next=l}r.pending=n}qa=null}return e}function vw(e,t){do{var r=Sr;try{if(dv(),Wc.current=Dd,Ld){for(var n=rr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ld=!1}if(ss=0,Cr=Er=rr=null,Pl=!1,lu=0,kv.current=null,r===null||r.return===null){Tr=1,du=t,Sr=null;break}e:{var a=e,l=r.return,f=r,m=t;if(t=Ir,f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var g=m,E=f,w=E.tag;if(!(E.mode&1)&&(w===0||w===11||w===15)){var v=E.alternate;v?(E.updateQueue=v.updateQueue,E.memoizedState=v.memoizedState,E.lanes=v.lanes):(E.updateQueue=null,E.memoizedState=null)}var x=o1(l);if(x!==null){x.flags&=-257,l1(x,l,f,a,t),x.mode&1&&s1(a,g,t),t=x,m=g;var C=t.updateQueue;if(C===null){var L=new Set;L.add(m),t.updateQueue=L}else C.add(m);break e}else{if(!(t&1)){s1(a,g,t),Rv();break e}m=Error(Be(426))}}else if(Xt&&f.mode&1){var I=o1(l);if(I!==null){!(I.flags&65536)&&(I.flags|=256),l1(I,l,f,a,t),uv(fo(m,f));break e}}a=m=fo(m,f),Tr!==4&&(Tr=2),Dl===null?Dl=[a]:Dl.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var P=ew(a,m,t);J0(a,P);break e;case 1:f=m;var R=a.type,A=a.stateNode;if(!(a.flags&128)&&(typeof R.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ga===null||!ga.has(A)))){a.flags|=65536,t&=-t,a.lanes|=t;var M=tw(a,f,t);J0(a,M);break e}}a=a.return}while(a!==null)}bw(r)}catch(j){t=j,Sr===r&&r!==null&&(Sr=r=r.return);continue}break}while(1)}function yw(){var e=Id.current;return Id.current=Dd,e===null?Dd:e}function Rv(){(Tr===0||Tr===3||Tr===2)&&(Tr=4),_r===null||!(os&268435455)&&!(Sf&268435455)||sa(_r,Ir)}function Md(e,t){var r=Ct;Ct|=2;var n=yw();(_r!==e||Ir!==t)&&(wi=null,Ja(e,t));do try{$R();break}catch(i){vw(e,i)}while(1);if(dv(),Ct=r,Id.current=n,Sr!==null)throw Error(Be(261));return _r=null,Ir=0,Tr}function $R(){for(;Sr!==null;)Sw(Sr)}function jR(){for(;Sr!==null&&!fA();)Sw(Sr)}function Sw(e){var t=Tw(e.alternate,e,fn);e.memoizedProps=e.pendingProps,t===null?bw(e):Sr=t,kv.current=null}function bw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=OR(r,t),r!==null){r.flags&=32767,Sr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tr=6,Sr=null;return}}else if(r=IR(r,t,fn),r!==null){Sr=r;return}if(t=t.sibling,t!==null){Sr=t;return}Sr=t=e}while(t!==null);Tr===0&&(Tr=5)}function za(e,t,r){var n=Nt,i=In.transition;try{In.transition=null,Nt=1,zR(e,t,r,n)}finally{In.transition=i,Nt=n}return null}function zR(e,t,r,n){do Js();while(ua!==null);if(Ct&6)throw Error(Be(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Be(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(TA(e,a),e===_r&&(Sr=_r=null,Ir=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_c||(_c=!0,ww(vd,function(){return Js(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=In.transition,In.transition=null;var l=Nt;Nt=1;var f=Ct;Ct|=4,kv.current=null,MR(e,r),pw(r,e),lR(Tm),Sd=!!Em,Tm=Em=null,e.current=r,NR(r),hA(),Ct=f,Nt=l,In.transition=a}else e.current=r;if(_c&&(_c=!1,ua=e,Fd=i),a=e.pendingLanes,a===0&&(ga=null),gA(r.stateNode),an(e,dr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Od)throw Od=!1,e=zm,zm=null,e;return Fd&1&&e.tag!==0&&Js(),a=e.pendingLanes,a&1?e===Vm?Il++:(Il=0,Vm=e):Il=0,Pa(),null}function Js(){if(ua!==null){var e=JE(Fd),t=In.transition,r=Nt;try{if(In.transition=null,Nt=16>e?16:e,ua===null)var n=!1;else{if(e=ua,ua=null,Fd=0,Ct&6)throw Error(Be(331));var i=Ct;for(Ct|=4,We=e.current;We!==null;){var a=We,l=a.child;if(We.flags&16){var f=a.deletions;if(f!==null){for(var m=0;m<f.length;m++){var g=f[m];for(We=g;We!==null;){var E=We;switch(E.tag){case 0:case 11:case 15:Ll(8,E,a)}var w=E.child;if(w!==null)w.return=E,We=w;else for(;We!==null;){E=We;var v=E.sibling,x=E.return;if(dw(E),E===g){We=null;break}if(v!==null){v.return=x,We=v;break}We=x}}}var C=a.alternate;if(C!==null){var L=C.child;if(L!==null){C.child=null;do{var I=L.sibling;L.sibling=null,L=I}while(L!==null)}}We=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,We=l;else e:for(;We!==null;){if(a=We,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ll(9,a,a.return)}var P=a.sibling;if(P!==null){P.return=a.return,We=P;break e}We=a.return}}var R=e.current;for(We=R;We!==null;){l=We;var A=l.child;if(l.subtreeFlags&2064&&A!==null)A.return=l,We=A;else e:for(l=R;We!==null;){if(f=We,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:yf(9,f)}}catch(j){sr(f,f.return,j)}if(f===l){We=null;break e}var M=f.sibling;if(M!==null){M.return=f.return,We=M;break e}We=f.return}}if(Ct=i,Pa(),di&&typeof di.onPostCommitFiberRoot=="function")try{di.onPostCommitFiberRoot(cf,e)}catch{}n=!0}return n}finally{Nt=r,In.transition=t}}return!1}function E1(e,t,r){t=fo(r,t),t=ew(e,t,1),e=ma(e,t,1),t=qr(),e!==null&&(Lu(e,1,t),an(e,t))}function sr(e,t,r){if(e.tag===3)E1(e,e,r);else for(;t!==null;){if(t.tag===3){E1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ga===null||!ga.has(n))){e=fo(r,e),e=tw(t,e,1),t=ma(t,e,1),e=qr(),t!==null&&(Lu(t,1,e),an(t,e));break}}t=t.return}}function VR(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=qr(),e.pingedLanes|=e.suspendedLanes&r,_r===e&&(Ir&r)===r&&(Tr===4||Tr===3&&(Ir&130023424)===Ir&&500>dr()-Cv?Ja(e,0):xv|=r),an(e,t)}function Ew(e,t){t===0&&(e.mode&1?(t=vc,vc<<=1,!(vc&130023424)&&(vc=4194304)):t=1);var r=qr();e=Mi(e,t),e!==null&&(Lu(e,t,r),an(e,r))}function HR(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ew(e,r)}function GR(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Be(314))}n!==null&&n.delete(t),Ew(e,r)}var Tw;Tw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||rn.current)tn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return tn=!1,DR(e,t,r);tn=!!(e.flags&131072)}else tn=!1,Xt&&t.flags&1048576&&xT(t,Cd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Yc(e,t),e=t.pendingProps;var i=oo(t,zr.current);Zs(t,r),i=Sv(null,t,n,e,i,r);var a=bv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nn(n)?(a=!0,kd(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pv(t),i.updater=gf,t.stateNode=i,i._reactInternals=t,Lm(t,n,e,r),t=Om(null,t,n,!0,a,r)):(t.tag=0,Xt&&a&&ov(t),Kr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Yc(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=WR(n),e=zn(n,e),i){case 0:t=Im(null,t,n,e,r);break e;case 1:t=d1(null,t,n,e,r);break e;case 11:t=u1(null,t,n,e,r);break e;case 14:t=c1(null,t,n,zn(n.type,e),r);break e}throw Error(Be(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:zn(n,i),Im(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:zn(n,i),d1(e,t,n,i,r);case 3:e:{if(aw(t),e===null)throw Error(Be(387));n=t.pendingProps,a=t.memoizedState,i=a.element,RT(e,t),Rd(t,n,null,r);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=fo(Error(Be(423)),t),t=f1(e,t,n,r,i);break e}else if(n!==i){i=fo(Error(Be(424)),t),t=f1(e,t,n,r,i);break e}else for(hn=pa(t.stateNode.containerInfo.firstChild),mn=t,Xt=!0,Hn=null,r=IT(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(lo(),n===i){t=Ni(e,t,r);break e}Kr(e,t,n,r)}t=t.child}return t;case 5:return OT(t),e===null&&Am(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,wm(n,i)?l=null:a!==null&&wm(n,a)&&(t.flags|=32),iw(e,t),Kr(e,t,l,r),t.child;case 6:return e===null&&Am(t),null;case 13:return sw(e,t,r);case 4:return mv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=uo(t,null,n,r):Kr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:zn(n,i),u1(e,t,n,i,r);case 7:return Kr(e,t,t.pendingProps,r),t.child;case 8:return Kr(e,t,t.pendingProps.children,r),t.child;case 12:return Kr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,Vt(_d,n._currentValue),n._currentValue=l,a!==null)if(Yn(a.value,l)){if(a.children===i.children&&!rn.current){t=Ni(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var f=a.dependencies;if(f!==null){l=a.child;for(var m=f.firstContext;m!==null;){if(m.context===n){if(a.tag===1){m=Pi(-1,r&-r),m.tag=2;var g=a.updateQueue;if(g!==null){g=g.shared;var E=g.pending;E===null?m.next=m:(m.next=E.next,E.next=m),g.pending=m}}a.lanes|=r,m=a.alternate,m!==null&&(m.lanes|=r),Rm(a.return,r,t),f.lanes|=r;break}m=m.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(Be(341));l.lanes|=r,f=l.alternate,f!==null&&(f.lanes|=r),Rm(l,r,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Kr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Zs(t,r),i=Fn(i),n=n(i),t.flags|=1,Kr(e,t,n,r),t.child;case 14:return n=t.type,i=zn(n,t.pendingProps),i=zn(n.type,i),c1(e,t,n,i,r);case 15:return rw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:zn(n,i),Yc(e,t),t.tag=1,nn(n)?(e=!0,kd(t)):e=!1,Zs(t,r),LT(t,n,i),Lm(t,n,i,r),Om(null,t,n,!0,e,r);case 19:return ow(e,t,r);case 22:return nw(e,t,r)}throw Error(Be(156,t.tag))};function ww(e,t){return YE(e,t)}function KR(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(e,t,r,n){return new KR(e,t,r,n)}function Pv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WR(e){if(typeof e=="function")return Pv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yg)return 11;if(e===Qg)return 14}return 2}function ya(e,t){var r=e.alternate;return r===null?(r=Ln(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Zc(e,t,r,n,i,a){var l=2;if(n=e,typeof e=="function")Pv(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Os:return es(r.children,i,a,t);case qg:l=8,i|=8;break;case tm:return e=Ln(12,r,t,i|2),e.elementType=tm,e.lanes=a,e;case rm:return e=Ln(13,r,t,i),e.elementType=rm,e.lanes=a,e;case nm:return e=Ln(19,r,t,i),e.elementType=nm,e.lanes=a,e;case DE:return bf(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case PE:l=10;break e;case LE:l=9;break e;case Yg:l=11;break e;case Qg:l=14;break e;case ta:l=16,n=null;break e}throw Error(Be(130,e==null?e:typeof e,""))}return t=Ln(l,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function es(e,t,r,n){return e=Ln(7,e,n,t),e.lanes=r,e}function bf(e,t,r,n){return e=Ln(22,e,n,t),e.elementType=DE,e.lanes=r,e.stateNode={isHidden:!1},e}function fp(e,t,r){return e=Ln(6,e,null,t),e.lanes=r,e}function hp(e,t,r){return t=Ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qR(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wh(0),this.expirationTimes=Wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wh(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lv(e,t,r,n,i,a,l,f,m){return e=new qR(e,t,r,f,m),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ln(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pv(a),e}function YR(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Is,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function kw(e){if(!e)return ka;e=e._reactInternals;e:{if(fs(e)!==e||e.tag!==1)throw Error(Be(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Be(171))}if(e.tag===1){var r=e.type;if(nn(r))return wT(e,r,t)}return t}function xw(e,t,r,n,i,a,l,f,m){return e=Lv(r,n,!0,e,i,a,l,f,m),e.context=kw(null),r=e.current,n=qr(),i=va(r),a=Pi(n,i),a.callback=t??null,ma(r,a,i),e.current.lanes=i,Lu(e,i,n),an(e,n),e}function Ef(e,t,r,n){var i=t.current,a=qr(),l=va(i);return r=kw(r),t.context===null?t.context=r:t.pendingContext=r,t=Pi(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ma(i,t,l),e!==null&&(Wn(e,i,l,a),Kc(e,i,l)),l}function Nd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function T1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Dv(e,t){T1(e,t),(e=e.alternate)&&T1(e,t)}function QR(){return null}var Cw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Iv(e){this._internalRoot=e}Tf.prototype.render=Iv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Be(409));Ef(e,t,null,null)};Tf.prototype.unmount=Iv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ls(function(){Ef(null,e,null,null)}),t[Fi]=null}};function Tf(e){this._internalRoot=e}Tf.prototype.unstable_scheduleHydration=function(e){if(e){var t=rT();e={blockedOn:null,target:e,priority:t};for(var r=0;r<aa.length&&t!==0&&t<aa[r].priority;r++);aa.splice(r,0,e),r===0&&iT(e)}};function Ov(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function w1(){}function XR(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var g=Nd(l);a.call(g)}}var l=xw(t,n,e,0,null,!1,!1,"",w1);return e._reactRootContainer=l,e[Fi]=l.current,nu(e.nodeType===8?e.parentNode:e),ls(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var f=n;n=function(){var g=Nd(m);f.call(g)}}var m=Lv(e,0,!1,null,null,!1,!1,"",w1);return e._reactRootContainer=m,e[Fi]=m.current,nu(e.nodeType===8?e.parentNode:e),ls(function(){Ef(t,m,r,n)}),m}function kf(e,t,r,n,i){var a=r._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var f=i;i=function(){var m=Nd(l);f.call(m)}}Ef(t,l,e,i)}else l=XR(r,t,e,i,n);return Nd(l)}eT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=gl(t.pendingLanes);r!==0&&(Jg(t,r|1),an(t,dr()),!(Ct&6)&&(ho=dr()+500,Pa()))}break;case 13:ls(function(){var n=Mi(e,1);if(n!==null){var i=qr();Wn(n,e,1,i)}}),Dv(e,1)}};ev=function(e){if(e.tag===13){var t=Mi(e,134217728);if(t!==null){var r=qr();Wn(t,e,134217728,r)}Dv(e,134217728)}};tT=function(e){if(e.tag===13){var t=va(e),r=Mi(e,t);if(r!==null){var n=qr();Wn(r,e,t,n)}Dv(e,t)}};rT=function(){return Nt};nT=function(e,t){var r=Nt;try{return Nt=e,t()}finally{Nt=r}};hm=function(e,t,r){switch(t){case"input":if(sm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=pf(n);if(!i)throw Error(Be(90));OE(n),sm(n,i)}}}break;case"textarea":ME(e,r);break;case"select":t=r.value,t!=null&&qs(e,!!r.multiple,t,!1)}};VE=_v;HE=ls;var ZR={usingClientEntryPoint:!1,Events:[Iu,Bs,pf,jE,zE,_v]},al={findFiberByHostInstance:Wa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},JR={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=WE(e),e===null?null:e.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||QR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{cf=Ac.inject(JR),di=Ac}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZR;bn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ov(t))throw Error(Be(200));return YR(e,t,null,r)};bn.createRoot=function(e,t){if(!Ov(e))throw Error(Be(299));var r=!1,n="",i=Cw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Lv(e,1,!1,null,null,r,!1,n,i),e[Fi]=t.current,nu(e.nodeType===8?e.parentNode:e),new Iv(t)};bn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Be(188)):(e=Object.keys(e).join(","),Error(Be(268,e)));return e=WE(t),e=e===null?null:e.stateNode,e};bn.flushSync=function(e){return ls(e)};bn.hydrate=function(e,t,r){if(!wf(t))throw Error(Be(200));return kf(null,e,t,!0,r)};bn.hydrateRoot=function(e,t,r){if(!Ov(e))throw Error(Be(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",l=Cw;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=xw(t,null,e,1,r??null,i,!1,a,l),e[Fi]=t.current,nu(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Tf(t)};bn.render=function(e,t,r){if(!wf(t))throw Error(Be(200));return kf(null,e,t,!1,r)};bn.unmountComponentAtNode=function(e){if(!wf(e))throw Error(Be(40));return e._reactRootContainer?(ls(function(){kf(null,null,e,!1,function(){e._reactRootContainer=null,e[Fi]=null})}),!0):!1};bn.unstable_batchedUpdates=_v;bn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!wf(r))throw Error(Be(200));if(e==null||e._reactInternals===void 0)throw Error(Be(38));return kf(e,t,r,!1,n)};bn.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}t(),e.exports=bn})(Q_);var k1=ql;Zp.createRoot=k1.createRoot,Zp.hydrateRoot=k1.hydrateRoot;function eP(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function tP(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var rP=function(){function e(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(tP(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=eP(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Ur="-ms-",Bd="-moz-",Dt="-webkit-",_w="comm",Fv="rule",Mv="decl",nP="@import",Aw="@keyframes",iP=Math.abs,xf=String.fromCharCode,aP=Object.assign;function sP(e,t){return Dr(e,0)^45?(((t<<2^Dr(e,0))<<2^Dr(e,1))<<2^Dr(e,2))<<2^Dr(e,3):0}function Rw(e){return e.trim()}function oP(e,t){return(e=t.exec(e))?e[0]:e}function Ft(e,t,r){return e.replace(t,r)}function Km(e,t){return e.indexOf(t)}function Dr(e,t){return e.charCodeAt(t)|0}function fu(e,t,r){return e.slice(t,r)}function ii(e){return e.length}function Nv(e){return e.length}function Rc(e,t){return t.push(e),e}function lP(e,t){return e.map(t).join("")}var Cf=1,po=1,Pw=0,on=0,vr=0,xo="";function _f(e,t,r,n,i,a,l){return{value:e,root:t,parent:r,type:n,props:i,children:a,line:Cf,column:po,length:l,return:""}}function sl(e,t){return aP(_f("",null,null,"",null,null,0),e,{length:-e.length},t)}function uP(){return vr}function cP(){return vr=on>0?Dr(xo,--on):0,po--,vr===10&&(po=1,Cf--),vr}function gn(){return vr=on<Pw?Dr(xo,on++):0,po++,vr===10&&(po=1,Cf++),vr}function hi(){return Dr(xo,on)}function Jc(){return on}function Fu(e,t){return fu(xo,e,t)}function hu(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Lw(e){return Cf=po=1,Pw=ii(xo=e),on=0,[]}function Dw(e){return xo="",e}function ed(e){return Rw(Fu(on-1,Wm(e===91?e+2:e===40?e+1:e)))}function dP(e){for(;(vr=hi())&&vr<33;)gn();return hu(e)>2||hu(vr)>3?"":" "}function fP(e,t){for(;--t&&gn()&&!(vr<48||vr>102||vr>57&&vr<65||vr>70&&vr<97););return Fu(e,Jc()+(t<6&&hi()==32&&gn()==32))}function Wm(e){for(;gn();)switch(vr){case e:return on;case 34:case 39:e!==34&&e!==39&&Wm(vr);break;case 40:e===41&&Wm(e);break;case 92:gn();break}return on}function hP(e,t){for(;gn()&&e+vr!==47+10;)if(e+vr===42+42&&hi()===47)break;return"/*"+Fu(t,on-1)+"*"+xf(e===47?e:gn())}function pP(e){for(;!hu(hi());)gn();return Fu(e,on)}function mP(e){return Dw(td("",null,null,null,[""],e=Lw(e),0,[0],e))}function td(e,t,r,n,i,a,l,f,m){for(var g=0,E=0,w=l,v=0,x=0,C=0,L=1,I=1,P=1,R=0,A="",M=i,j=a,$=n,B=A;I;)switch(C=R,R=gn()){case 40:if(C!=108&&Dr(B,w-1)==58){Km(B+=Ft(ed(R),"&","&\f"),"&\f")!=-1&&(P=-1);break}case 34:case 39:case 91:B+=ed(R);break;case 9:case 10:case 13:case 32:B+=dP(C);break;case 92:B+=fP(Jc()-1,7);continue;case 47:switch(hi()){case 42:case 47:Rc(gP(hP(gn(),Jc()),t,r),m);break;default:B+="/"}break;case 123*L:f[g++]=ii(B)*P;case 125*L:case 59:case 0:switch(R){case 0:case 125:I=0;case 59+E:x>0&&ii(B)-w&&Rc(x>32?C1(B+";",n,r,w-1):C1(Ft(B," ","")+";",n,r,w-2),m);break;case 59:B+=";";default:if(Rc($=x1(B,t,r,g,E,i,f,A,M=[],j=[],w),a),R===123)if(E===0)td(B,t,$,$,M,a,w,f,j);else switch(v===99&&Dr(B,3)===110?100:v){case 100:case 109:case 115:td(e,$,$,n&&Rc(x1(e,$,$,0,0,i,f,A,i,M=[],w),j),i,j,w,f,n?M:j);break;default:td(B,$,$,$,[""],j,0,f,j)}}g=E=x=0,L=P=1,A=B="",w=l;break;case 58:w=1+ii(B),x=C;default:if(L<1){if(R==123)--L;else if(R==125&&L++==0&&cP()==125)continue}switch(B+=xf(R),R*L){case 38:P=E>0?1:(B+="\f",-1);break;case 44:f[g++]=(ii(B)-1)*P,P=1;break;case 64:hi()===45&&(B+=ed(gn())),v=hi(),E=w=ii(A=B+=pP(Jc())),R++;break;case 45:C===45&&ii(B)==2&&(L=0)}}return a}function x1(e,t,r,n,i,a,l,f,m,g,E){for(var w=i-1,v=i===0?a:[""],x=Nv(v),C=0,L=0,I=0;C<n;++C)for(var P=0,R=fu(e,w+1,w=iP(L=l[C])),A=e;P<x;++P)(A=Rw(L>0?v[P]+" "+R:Ft(R,/&\f/g,v[P])))&&(m[I++]=A);return _f(e,t,r,i===0?Fv:f,m,g,E)}function gP(e,t,r){return _f(e,t,r,_w,xf(uP()),fu(e,2,-2),0)}function C1(e,t,r,n){return _f(e,t,r,Mv,fu(e,0,n),fu(e,n+1,-1),n)}function eo(e,t){for(var r="",n=Nv(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function vP(e,t,r,n){switch(e.type){case nP:case Mv:return e.return=e.return||e.value;case _w:return"";case Aw:return e.return=e.value+"{"+eo(e.children,n)+"}";case Fv:e.value=e.props.join(",")}return ii(r=eo(e.children,n))?e.return=e.value+"{"+r+"}":""}function yP(e){var t=Nv(e);return function(r,n,i,a){for(var l="",f=0;f<t;f++)l+=e[f](r,n,i,a)||"";return l}}function SP(e){return function(t){t.root||(t=t.return)&&e(t)}}var _1=function(t){var r=new WeakMap;return function(n){if(r.has(n))return r.get(n);var i=t(n);return r.set(n,i),i}};function Iw(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var bP=function(t,r,n){for(var i=0,a=0;i=a,a=hi(),i===38&&a===12&&(r[n]=1),!hu(a);)gn();return Fu(t,on)},EP=function(t,r){var n=-1,i=44;do switch(hu(i)){case 0:i===38&&hi()===12&&(r[n]=1),t[n]+=bP(on-1,r,n);break;case 2:t[n]+=ed(i);break;case 4:if(i===44){t[++n]=hi()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=xf(i)}while(i=gn());return t},TP=function(t,r){return Dw(EP(Lw(t),r))},A1=new WeakMap,wP=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!A1.get(n))&&!i){A1.set(t,!0);for(var a=[],l=TP(r,a),f=n.props,m=0,g=0;m<l.length;m++)for(var E=0;E<f.length;E++,g++)t.props[g]=a[m]?l[m].replace(/&\f/g,f[E]):f[E]+" "+l[m]}}},kP=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function Ow(e,t){switch(sP(e,t)){case 5103:return Dt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Dt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Dt+e+Bd+e+Ur+e+e;case 6828:case 4268:return Dt+e+Ur+e+e;case 6165:return Dt+e+Ur+"flex-"+e+e;case 5187:return Dt+e+Ft(e,/(\w+).+(:[^]+)/,Dt+"box-$1$2"+Ur+"flex-$1$2")+e;case 5443:return Dt+e+Ur+"flex-item-"+Ft(e,/flex-|-self/,"")+e;case 4675:return Dt+e+Ur+"flex-line-pack"+Ft(e,/align-content|flex-|-self/,"")+e;case 5548:return Dt+e+Ur+Ft(e,"shrink","negative")+e;case 5292:return Dt+e+Ur+Ft(e,"basis","preferred-size")+e;case 6060:return Dt+"box-"+Ft(e,"-grow","")+Dt+e+Ur+Ft(e,"grow","positive")+e;case 4554:return Dt+Ft(e,/([^-])(transform)/g,"$1"+Dt+"$2")+e;case 6187:return Ft(Ft(Ft(e,/(zoom-|grab)/,Dt+"$1"),/(image-set)/,Dt+"$1"),e,"")+e;case 5495:case 3959:return Ft(e,/(image-set\([^]*)/,Dt+"$1$`$1");case 4968:return Ft(Ft(e,/(.+:)(flex-)?(.*)/,Dt+"box-pack:$3"+Ur+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Dt+e+e;case 4095:case 3583:case 4068:case 2532:return Ft(e,/(.+)-inline(.+)/,Dt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ii(e)-1-t>6)switch(Dr(e,t+1)){case 109:if(Dr(e,t+4)!==45)break;case 102:return Ft(e,/(.+:)(.+)-([^]+)/,"$1"+Dt+"$2-$3$1"+Bd+(Dr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Km(e,"stretch")?Ow(Ft(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Dr(e,t+1)!==115)break;case 6444:switch(Dr(e,ii(e)-3-(~Km(e,"!important")&&10))){case 107:return Ft(e,":",":"+Dt)+e;case 101:return Ft(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Dt+(Dr(e,14)===45?"inline-":"")+"box$3$1"+Dt+"$2$3$1"+Ur+"$2box$3")+e}break;case 5936:switch(Dr(e,t+11)){case 114:return Dt+e+Ur+Ft(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Dt+e+Ur+Ft(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Dt+e+Ur+Ft(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Dt+e+Ur+e+e}return e}var xP=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case Mv:t.return=Ow(t.value,t.length);break;case Aw:return eo([sl(t,{value:Ft(t.value,"@","@"+Dt)})],i);case Fv:if(t.length)return lP(t.props,function(a){switch(oP(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return eo([sl(t,{props:[Ft(a,/:(read-\w+)/,":"+Bd+"$1")]})],i);case"::placeholder":return eo([sl(t,{props:[Ft(a,/:(plac\w+)/,":"+Dt+"input-$1")]}),sl(t,{props:[Ft(a,/:(plac\w+)/,":"+Bd+"$1")]}),sl(t,{props:[Ft(a,/:(plac\w+)/,Ur+"input-$1")]})],i)}return""})}},CP=[xP],_P=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(L){var I=L.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(L),L.setAttribute("data-s",""))})}var i=t.stylisPlugins||CP,a={},l,f=[];l=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(L){for(var I=L.getAttribute("data-emotion").split(" "),P=1;P<I.length;P++)a[I[P]]=!0;f.push(L)});var m,g=[wP,kP];{var E,w=[vP,SP(function(L){E.insert(L)})],v=yP(g.concat(i,w)),x=function(I){return eo(mP(I),v)};m=function(I,P,R,A){E=R,x(I?I+"{"+P.styles+"}":P.styles),A&&(C.inserted[P.name]=!0)}}var C={key:r,sheet:new rP({key:r,container:l,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:m};return C.sheet.hydrate(f),C};function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ud.apply(this,arguments)}var qm={},AP={get exports(){return qm},set exports(e){qm=e}},Bt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ar=typeof Symbol=="function"&&Symbol.for,Bv=Ar?Symbol.for("react.element"):60103,Uv=Ar?Symbol.for("react.portal"):60106,Af=Ar?Symbol.for("react.fragment"):60107,Rf=Ar?Symbol.for("react.strict_mode"):60108,Pf=Ar?Symbol.for("react.profiler"):60114,Lf=Ar?Symbol.for("react.provider"):60109,Df=Ar?Symbol.for("react.context"):60110,$v=Ar?Symbol.for("react.async_mode"):60111,If=Ar?Symbol.for("react.concurrent_mode"):60111,Of=Ar?Symbol.for("react.forward_ref"):60112,Ff=Ar?Symbol.for("react.suspense"):60113,RP=Ar?Symbol.for("react.suspense_list"):60120,Mf=Ar?Symbol.for("react.memo"):60115,Nf=Ar?Symbol.for("react.lazy"):60116,PP=Ar?Symbol.for("react.block"):60121,LP=Ar?Symbol.for("react.fundamental"):60117,DP=Ar?Symbol.for("react.responder"):60118,IP=Ar?Symbol.for("react.scope"):60119;function Tn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Bv:switch(e=e.type,e){case $v:case If:case Af:case Pf:case Rf:case Ff:return e;default:switch(e=e&&e.$$typeof,e){case Df:case Of:case Nf:case Mf:case Lf:return e;default:return t}}case Uv:return t}}}function Fw(e){return Tn(e)===If}Bt.AsyncMode=$v;Bt.ConcurrentMode=If;Bt.ContextConsumer=Df;Bt.ContextProvider=Lf;Bt.Element=Bv;Bt.ForwardRef=Of;Bt.Fragment=Af;Bt.Lazy=Nf;Bt.Memo=Mf;Bt.Portal=Uv;Bt.Profiler=Pf;Bt.StrictMode=Rf;Bt.Suspense=Ff;Bt.isAsyncMode=function(e){return Fw(e)||Tn(e)===$v};Bt.isConcurrentMode=Fw;Bt.isContextConsumer=function(e){return Tn(e)===Df};Bt.isContextProvider=function(e){return Tn(e)===Lf};Bt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bv};Bt.isForwardRef=function(e){return Tn(e)===Of};Bt.isFragment=function(e){return Tn(e)===Af};Bt.isLazy=function(e){return Tn(e)===Nf};Bt.isMemo=function(e){return Tn(e)===Mf};Bt.isPortal=function(e){return Tn(e)===Uv};Bt.isProfiler=function(e){return Tn(e)===Pf};Bt.isStrictMode=function(e){return Tn(e)===Rf};Bt.isSuspense=function(e){return Tn(e)===Ff};Bt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Af||e===If||e===Pf||e===Rf||e===Ff||e===RP||typeof e=="object"&&e!==null&&(e.$$typeof===Nf||e.$$typeof===Mf||e.$$typeof===Lf||e.$$typeof===Df||e.$$typeof===Of||e.$$typeof===LP||e.$$typeof===DP||e.$$typeof===IP||e.$$typeof===PP)};Bt.typeOf=Tn;(function(e){e.exports=Bt})(AP);var Mw=qm,OP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},FP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Nw={};Nw[Mw.ForwardRef]=OP;Nw[Mw.Memo]=FP;var MP=!0;function NP(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):n+=i+" "}),n}var Bw=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||MP===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},Uw=function(t,r,n){Bw(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var a=r;do t.insert(r===a?"."+i:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function BP(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var UP={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},$P=/[A-Z]|^ms/g,jP=/_EMO_([^_]+?)_([^]*?)_EMO_/g,$w=function(t){return t.charCodeAt(1)===45},R1=function(t){return t!=null&&typeof t!="boolean"},pp=Iw(function(e){return $w(e)?e:e.replace($P,"-$&").toLowerCase()}),P1=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(jP,function(n,i,a){return ai={name:i,styles:a,next:ai},i})}return UP[t]!==1&&!$w(t)&&typeof r=="number"&&r!==0?r+"px":r};function pu(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return ai={name:r.name,styles:r.styles,next:ai},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)ai={name:n.name,styles:n.styles,next:ai},n=n.next;var i=r.styles+";";return i}return zP(e,t,r)}case"function":{if(e!==void 0){var a=ai,l=r(e);return ai=a,pu(e,t,l)}break}}if(t==null)return r;var f=t[r];return f!==void 0?f:r}function zP(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=pu(e,t,r[i])+";";else for(var a in r){var l=r[a];if(typeof l!="object")t!=null&&t[l]!==void 0?n+=a+"{"+t[l]+"}":R1(l)&&(n+=pp(a)+":"+P1(a,l)+";");else if(Array.isArray(l)&&typeof l[0]=="string"&&(t==null||t[l[0]]===void 0))for(var f=0;f<l.length;f++)R1(l[f])&&(n+=pp(a)+":"+P1(a,l[f])+";");else{var m=pu(e,t,l);switch(a){case"animation":case"animationName":{n+=pp(a)+":"+m+";";break}default:n+=a+"{"+m+"}"}}}return n}var L1=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ai,jv=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,a="";ai=void 0;var l=t[0];l==null||l.raw===void 0?(i=!1,a+=pu(n,r,l)):a+=l[0];for(var f=1;f<t.length;f++)a+=pu(n,r,t[f]),i&&(a+=l[f]);L1.lastIndex=0;for(var m="",g;(g=L1.exec(a))!==null;)m+="-"+g[1];var E=BP(a)+m;return{name:E,styles:a,next:ai}},VP=function(t){return t()},jw=Wl["useInsertionEffect"]?Wl["useInsertionEffect"]:!1,HP=jw||VP,D1=jw||V.useLayoutEffect,zw=V.createContext(typeof HTMLElement<"u"?_P({key:"css"}):null);zw.Provider;var Vw=function(t){return V.forwardRef(function(r,n){var i=V.useContext(zw);return t(r,i,n)})},mu=V.createContext({}),GP=function(t,r){if(typeof r=="function"){var n=r(t);return n}return Ud({},t,r)},KP=_1(function(e){return _1(function(t){return GP(e,t)})}),WP=function(t){var r=V.useContext(mu);return t.theme!==r&&(r=KP(r)(t.theme)),V.createElement(mu.Provider,{value:r},t.children)},Bf=Vw(function(e,t){var r=e.styles,n=jv([r],void 0,V.useContext(mu)),i=V.useRef();return D1(function(){var a=t.key+"-global",l=new t.sheet.constructor({key:a,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),f=!1,m=document.querySelector('style[data-emotion="'+a+" "+n.name+'"]');return t.sheet.tags.length&&(l.before=t.sheet.tags[0]),m!==null&&(f=!0,m.setAttribute("data-emotion",a),l.hydrate([m])),i.current=[l,f],function(){l.flush()}},[t]),D1(function(){var a=i.current,l=a[0],f=a[1];if(f){a[1]=!1;return}if(n.next!==void 0&&Uw(t,n.next,!0),l.tags.length){var m=l.tags[l.tags.length-1].nextElementSibling;l.before=m,l.flush()}t.insert("",n,l,!1)},[t,n.name]),null});function qP(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return jv(t)}var YP=function(){var t=qP.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Hw=`
  :root {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root {
      --chakra-vh: 100dvh;
    }
  }
`,QP=()=>we(Bf,{styles:Hw}),XP=()=>we(Bf,{styles:`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        font-feature-settings: 'kern';
      }

      *,
      *::before,
      *::after {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
      }

      main {
        display: block;
      }

      hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      pre,
      code,
      kbd,
      samp {
        font-family: SFMono-Regular,  Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      b,
      strong {
        font-weight: bold;
      }

      small {
        font-size: 80%;
      }

      sub,
      sup {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      sub {
        bottom: -0.25em;
      }

      sup {
        top: -0.5em;
      }

      img {
        border-style: none;
      }

      button,
      input,
      optgroup,
      select,
      textarea {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      button,
      input {
        overflow: visible;
      }

      button,
      select {
        text-transform: none;
      }

      button::-moz-focus-inner,
      [type="button"]::-moz-focus-inner,
      [type="reset"]::-moz-focus-inner,
      [type="submit"]::-moz-focus-inner {
        border-style: none;
        padding: 0;
      }

      fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      progress {
        vertical-align: baseline;
      }

      textarea {
        overflow: auto;
      }

      [type="checkbox"],
      [type="radio"] {
        box-sizing: border-box;
        padding: 0;
      }

      [type="number"]::-webkit-inner-spin-button,
      [type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      input[type="number"] {
        -moz-appearance: textfield;
      }

      [type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      [type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      details {
        display: block;
      }

      summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      body,
      blockquote,
      dl,
      dd,
      h1,
      h2,
      h3,
      h4,
      h5,
      h6,
      hr,
      figure,
      p,
      pre {
        margin: 0;
      }

      button {
        background: transparent;
        padding: 0;
      }

      fieldset {
        margin: 0;
        padding: 0;
      }

      ol,
      ul {
        margin: 0;
        padding: 0;
      }

      textarea {
        resize: vertical;
      }

      button,
      [role="button"] {
        cursor: pointer;
      }

      button::-moz-focus-inner {
        border: 0 !important;
      }

      table {
        border-collapse: collapse;
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-size: inherit;
        font-weight: inherit;
      }

      button,
      input,
      optgroup,
      select,
      textarea {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      img,
      svg,
      video,
      canvas,
      audio,
      iframe,
      embed,
      object {
        display: block;
      }

      img,
      video {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible] :focus:not([data-focus-visible-added]):not([data-focus-visible-disabled]) {
        outline: none;
        box-shadow: none;
      }

      select::-ms-expand {
        display: none;
      }

      ${Hw}
    `});function ZP(e,t){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${t}`}function Co(e={}){const{name:t,strict:r=!0,hookName:n="useContext",providerName:i="Provider",errorMessage:a}=e,l=V.createContext(void 0);l.displayName=t;function f(){var m;const g=V.useContext(l);if(!g&&r){const E=new Error(a??ZP(n,i));throw E.name="ContextError",(m=Error.captureStackTrace)==null||m.call(Error,E,f),E}return g}return[l.Provider,f,l]}var[JP,eL]=Co({strict:!1,name:"PortalManagerContext"});function Gw(e){const{children:t,zIndex:r}=e;return we(JP,{value:{zIndex:r},children:t})}Gw.displayName="PortalManager";var gu=Boolean(globalThis==null?void 0:globalThis.document)?V.useLayoutEffect:V.useEffect,[Kw,tL]=Co({strict:!1,name:"PortalContext"}),zv="chakra-portal",rL=".chakra-portal",nL=e=>we("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:e.zIndex,top:0,left:0,right:0},children:e.children}),iL=e=>{const{appendToParentPortal:t,children:r}=e,[n,i]=V.useState(null),a=V.useRef(null),[,l]=V.useState({});V.useEffect(()=>l({}),[]);const f=tL(),m=eL();gu(()=>{if(!n)return;const E=n.ownerDocument,w=t?f??E.body:E.body;if(!w)return;a.current=E.createElement("div"),a.current.className=zv,w.appendChild(a.current),l({});const v=a.current;return()=>{w.contains(v)&&w.removeChild(v)}},[n]);const g=m!=null&&m.zIndex?we(nL,{zIndex:m==null?void 0:m.zIndex,children:r}):r;return a.current?ql.createPortal(we(Kw,{value:a.current,children:g}),a.current):we("span",{ref:E=>{E&&i(E)}})},aL=e=>{const{children:t,containerRef:r,appendToParentPortal:n}=e,i=r.current,a=i??(typeof window<"u"?document.body:void 0),l=V.useMemo(()=>{const m=i==null?void 0:i.ownerDocument.createElement("div");return m&&(m.className=zv),m},[i]),[,f]=V.useState({});return gu(()=>f({}),[]),gu(()=>{if(!(!l||!a))return a.appendChild(l),()=>{a.removeChild(l)}},[l,a]),a&&l?ql.createPortal(we(Kw,{value:n?l:null,children:t}),l):null};function Uf(e){const t={appendToParentPortal:!0,...e},{containerRef:r,...n}=t;return r?we(aL,{containerRef:r,...n}):we(iL,{...n})}Uf.className=zv;Uf.selector=rL;Uf.displayName="Portal";function Ww(){const e=V.useContext(mu);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}var Vv=V.createContext({});Vv.displayName="ColorModeContext";function Hv(){const e=V.useContext(Vv);if(e===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return e}var Pc={light:"chakra-ui-light",dark:"chakra-ui-dark"};function sL(e={}){const{preventTransition:t=!0}=e,r={setDataset:n=>{const i=t?r.preventTransition():void 0;document.documentElement.dataset.theme=n,document.documentElement.style.colorScheme=n,i==null||i()},setClassName(n){document.body.classList.add(n?Pc.dark:Pc.light),document.body.classList.remove(n?Pc.light:Pc.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(n){var i;return((i=r.query().matches)!=null?i:n==="dark")?"dark":"light"},addListener(n){const i=r.query(),a=l=>{n(l.matches?"dark":"light")};return typeof i.addListener=="function"?i.addListener(a):i.addEventListener("change",a),()=>{typeof i.removeListener=="function"?i.removeListener(a):i.removeEventListener("change",a)}},preventTransition(){const n=document.createElement("style");return n.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(n),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(n)})})}}};return r}var oL="chakra-ui-color-mode";function lL(e){return{ssr:!1,type:"localStorage",get(t){if(!(globalThis!=null&&globalThis.document))return t;let r;try{r=localStorage.getItem(e)||t}catch{}return r||t},set(t){try{localStorage.setItem(e,t)}catch{}}}}var uL=lL(oL),I1=()=>{};function O1(e,t){return e.type==="cookie"&&e.ssr?e.get(t):t}function qw(e){const{value:t,children:r,options:{useSystemColorMode:n,initialColorMode:i,disableTransitionOnChange:a}={},colorModeManager:l=uL}=e,f=i==="dark"?"dark":"light",[m,g]=V.useState(()=>O1(l,f)),[E,w]=V.useState(()=>O1(l)),{getSystemTheme:v,setClassName:x,setDataset:C,addListener:L}=V.useMemo(()=>sL({preventTransition:a}),[a]),I=i==="system"&&!m?E:m,P=V.useCallback(M=>{const j=M==="system"?v():M;g(j),x(j==="dark"),C(j),l.set(j)},[l,v,x,C]);gu(()=>{i==="system"&&w(v())},[]),V.useEffect(()=>{const M=l.get();if(M){P(M);return}if(i==="system"){P("system");return}P(f)},[l,f,i,P]);const R=V.useCallback(()=>{P(I==="dark"?"light":"dark")},[I,P]);V.useEffect(()=>{if(n)return L(P)},[n,L,P]);const A=V.useMemo(()=>({colorMode:t??I,toggleColorMode:t?I1:R,setColorMode:t?I1:P,forced:t!==void 0}),[I,R,P,t]);return we(Vv.Provider,{value:A,children:r})}qw.displayName="ColorModeProvider";function Yw(){const e=Hv(),t=Ww();return{...e,theme:t}}function cL(e,t,r){var n,i;if(t==null)return t;const a=l=>{var f,m;return(m=(f=e.__breakpoints)==null?void 0:f.asArray)==null?void 0:m[l]};return(i=(n=a(t))!=null?n:a(r))!=null?i:r}function dL(e,t,r){var n,i;if(t==null)return t;const a=l=>{var f,m;return(m=(f=e.__cssMap)==null?void 0:f[l])==null?void 0:m.value};return(i=(n=a(t))!=null?n:a(r))!=null?i:r}function d9(e,t,r){const n=Ww();return fL(e,t,r)(n)}function fL(e,t,r){const n=Array.isArray(t)?t:[t],i=Array.isArray(r)?r:[r];return a=>{const l=i.filter(Boolean),f=n.map((m,g)=>{var E,w;if(e==="breakpoints")return cL(a,m,(E=l[g])!=null?E:m);const v=`${e}.${m}`;return dL(a,v,(w=l[g])!=null?w:m)});return Array.isArray(t)?f:f[0]}}var Qn=(...e)=>e.filter(Boolean).join(" ");function sn(e){const t=typeof e;return e!=null&&(t==="object"||t==="function")&&!Array.isArray(e)}function li(e,...t){return hL(e)?e(...t):e}var hL=e=>typeof e=="function",F1=e=>e?"":void 0,f9=e=>e?!0:void 0;function h9(...e){return function(r){e.some(n=>(n==null||n(r),r==null?void 0:r.defaultPrevented))}}function p9(...e){return function(r){e.forEach(n=>{n==null||n(r)})}}var $d={},pL={get exports(){return $d},set exports(e){$d=e}};(function(e,t){var r=200,n="__lodash_hash_undefined__",i=800,a=16,l=9007199254740991,f="[object Arguments]",m="[object Array]",g="[object AsyncFunction]",E="[object Boolean]",w="[object Date]",v="[object Error]",x="[object Function]",C="[object GeneratorFunction]",L="[object Map]",I="[object Number]",P="[object Null]",R="[object Object]",A="[object Proxy]",M="[object RegExp]",j="[object Set]",$="[object String]",B="[object Undefined]",K="[object WeakMap]",ce="[object ArrayBuffer]",ye="[object DataView]",ie="[object Float32Array]",N="[object Float64Array]",Z="[object Int8Array]",G="[object Int16Array]",ue="[object Int32Array]",Ce="[object Uint8Array]",Se="[object Uint8ClampedArray]",ae="[object Uint16Array]",be="[object Uint32Array]",ke=/[\\^$.*+?()[\]{}|]/g,Re=/^\[object .+?Constructor\]$/,Le=/^(?:0|[1-9]\d*)$/,Ge={};Ge[ie]=Ge[N]=Ge[Z]=Ge[G]=Ge[ue]=Ge[Ce]=Ge[Se]=Ge[ae]=Ge[be]=!0,Ge[f]=Ge[m]=Ge[ce]=Ge[E]=Ge[ye]=Ge[w]=Ge[v]=Ge[x]=Ge[L]=Ge[I]=Ge[R]=Ge[M]=Ge[j]=Ge[$]=Ge[K]=!1;var nt=typeof hl=="object"&&hl&&hl.Object===Object&&hl,de=typeof self=="object"&&self&&self.Object===Object&&self,me=nt||de||Function("return this")(),le=t&&!t.nodeType&&t,De=le&&!0&&e&&!e.nodeType&&e,Ie=De&&De.exports===le,Fe=Ie&&nt.process,Me=function(){try{var z=De&&De.require&&De.require("util").types;return z||Fe&&Fe.binding&&Fe.binding("util")}catch{}}(),je=Me&&Me.isTypedArray;function Ke(z,ee,he){switch(he.length){case 0:return z.call(ee);case 1:return z.call(ee,he[0]);case 2:return z.call(ee,he[0],he[1]);case 3:return z.call(ee,he[0],he[1],he[2])}return z.apply(ee,he)}function oe(z,ee){for(var he=-1,Pe=Array(z);++he<z;)Pe[he]=ee(he);return Pe}function Qe(z){return function(ee){return z(ee)}}function Xe(z,ee){return z==null?void 0:z[ee]}function dt(z,ee){return function(he){return z(ee(he))}}var yt=Array.prototype,Tt=Function.prototype,Rt=Object.prototype,gt=me["__core-js_shared__"],st=Tt.toString,rt=Rt.hasOwnProperty,ft=function(){var z=/[^.]+$/.exec(gt&&gt.keys&&gt.keys.IE_PROTO||"");return z?"Symbol(src)_1."+z:""}(),ut=Rt.toString,_t=st.call(Object),or=RegExp("^"+st.call(rt).replace(ke,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zt=Ie?me.Buffer:void 0,br=me.Symbol,fr=me.Uint8Array,lr=Zt?Zt.allocUnsafe:void 0,se=dt(Object.getPrototypeOf,Object),Y=Object.create,O=Rt.propertyIsEnumerable,W=yt.splice,H=br?br.toStringTag:void 0,X=function(){try{var z=bs(Object,"defineProperty");return z({},"",{}),z}catch{}}(),J=Zt?Zt.isBuffer:void 0,ne=Math.max,ve=Date.now,Ee=bs(me,"Map"),xe=bs(Object,"create"),Oe=function(){function z(){}return function(ee){if(!vi(ee))return{};if(Y)return Y(ee);z.prototype=ee;var he=new z;return z.prototype=void 0,he}}();function He(z){var ee=-1,he=z==null?0:z.length;for(this.clear();++ee<he;){var Pe=z[ee];this.set(Pe[0],Pe[1])}}function Ue(){this.__data__=xe?xe(null):{},this.size=0}function Ye(z){var ee=this.has(z)&&delete this.__data__[z];return this.size-=ee?1:0,ee}function at(z){var ee=this.__data__;if(xe){var he=ee[z];return he===n?void 0:he}return rt.call(ee,z)?ee[z]:void 0}function mt(z){var ee=this.__data__;return xe?ee[z]!==void 0:rt.call(ee,z)}function qe(z,ee){var he=this.__data__;return this.size+=this.has(z)?0:1,he[z]=xe&&ee===void 0?n:ee,this}He.prototype.clear=Ue,He.prototype.delete=Ye,He.prototype.get=at,He.prototype.has=mt,He.prototype.set=qe;function ot(z){var ee=-1,he=z==null?0:z.length;for(this.clear();++ee<he;){var Pe=z[ee];this.set(Pe[0],Pe[1])}}function hr(){this.__data__=[],this.size=0}function wt(z){var ee=this.__data__,he=ji(ee,z);if(he<0)return!1;var Pe=ee.length-1;return he==Pe?ee.pop():W.call(ee,he,1),--this.size,!0}function pr(z){var ee=this.__data__,he=ji(ee,z);return he<0?void 0:ee[he][1]}function Yt(z){return ji(this.__data__,z)>-1}function Ze(z,ee){var he=this.__data__,Pe=ji(he,z);return Pe<0?(++this.size,he.push([z,ee])):he[Pe][1]=ee,this}ot.prototype.clear=hr,ot.prototype.delete=wt,ot.prototype.get=pr,ot.prototype.has=Yt,ot.prototype.set=Ze;function ar(z){var ee=-1,he=z==null?0:z.length;for(this.clear();++ee<he;){var Pe=z[ee];this.set(Pe[0],Pe[1])}}function wn(){this.size=0,this.__data__={hash:new He,map:new(Ee||ot),string:new He}}function Ut(z){var ee=Gi(this,z).delete(z);return this.size-=ee?1:0,ee}function mr(z){return Gi(this,z).get(z)}function kn(z){return Gi(this,z).has(z)}function gi(z,ee){var he=Gi(this,z),Pe=he.size;return he.set(z,ee),this.size+=he.size==Pe?0:1,this}ar.prototype.clear=wn,ar.prototype.delete=Ut,ar.prototype.get=mr,ar.prototype.has=kn,ar.prototype.set=gi;function Fr(z){var ee=this.__data__=new ot(z);this.size=ee.size}function zt(){this.__data__=new ot,this.size=0}function Lo(z){var ee=this.__data__,he=ee.delete(z);return this.size=ee.size,he}function Xu(z){return this.__data__.get(z)}function Zu(z){return this.__data__.has(z)}function Do(z,ee){var he=this.__data__;if(he instanceof ot){var Pe=he.__data__;if(!Ee||Pe.length<r-1)return Pe.push([z,ee]),this.size=++he.size,this;he=this.__data__=new ar(Pe)}return he.set(z,ee),this.size=he.size,this}Fr.prototype.clear=zt,Fr.prototype.delete=Lo,Fr.prototype.get=Xu,Fr.prototype.has=Zu,Fr.prototype.set=Do;function Ju(z,ee){var he=zo(z),Pe=!he&&Ki(z),St=!he&&!Pe&&Ho(z),Ot=!he&&!Pe&&!St&&ks(z),$t=he||Pe||St||Ot,vt=$t?oe(z.length,String):[],jt=vt.length;for(var Vr in z)(ee||rt.call(z,Vr))&&!($t&&(Vr=="length"||St&&(Vr=="offset"||Vr=="parent")||Ot&&(Vr=="buffer"||Vr=="byteLength"||Vr=="byteOffset")||Bo(Vr,jt)))&&vt.push(Vr);return vt}function gs(z,ee,he){(he!==void 0&&!Ts(z[ee],he)||he===void 0&&!(ee in z))&&Oo(z,ee,he)}function Io(z,ee,he){var Pe=z[ee];(!(rt.call(z,ee)&&Ts(Pe,he))||he===void 0&&!(ee in z))&&Oo(z,ee,he)}function ji(z,ee){for(var he=z.length;he--;)if(Ts(z[he][0],ee))return he;return-1}function Oo(z,ee,he){ee=="__proto__"&&X?X(z,ee,{configurable:!0,enumerable:!0,value:he,writable:!0}):z[ee]=he}var ch=Mo();function vs(z){return z==null?z===void 0?B:P:H&&H in Object(z)?No(z):hh(z)}function ec(z){return Ma(z)&&vs(z)==f}function Fo(z){if(!vi(z)||rc(z))return!1;var ee=Wi(z)?or:Re;return ee.test(jo(z))}function cn(z){return Ma(z)&&ws(z.length)&&!!Ge[vs(z)]}function ht(z){if(!vi(z))return Uo(z);var ee=Xn(z),he=[];for(var Pe in z)Pe=="constructor"&&(ee||!rt.call(z,Pe))||he.push(Pe);return he}function ys(z,ee,he,Pe,St){z!==ee&&ch(ee,function(Ot,$t){if(St||(St=new Fr),vi(Ot))zi(z,ee,$t,he,ys,Pe,St);else{var vt=Pe?Pe(Es(z,$t),Ot,$t+"",z,ee,St):void 0;vt===void 0&&(vt=Ot),gs(z,$t,vt)}},nc)}function zi(z,ee,he,Pe,St,Ot,$t){var vt=Es(z,he),jt=Es(ee,he),Vr=$t.get(jt);if(Vr){gs(z,he,Vr);return}var ur=Ot?Ot(vt,jt,he+"",z,ee,$t):void 0,Hr=ur===void 0;if(Hr){var Ko=zo(jt),Wo=!Ko&&Ho(jt),ac=!Ko&&!Wo&&ks(jt);ur=jt,Ko||Wo||ac?zo(vt)?ur=vt:gh(vt)?ur=Nn(vt):Wo?(Hr=!1,ur=xn(jt,!0)):ac?(Hr=!1,ur=Oa(jt,!0)):ur=[]:vh(jt)||Ki(jt)?(ur=vt,Ki(vt)?ur=yh(vt):(!vi(vt)||Wi(vt))&&(ur=tc(jt))):Hr=!1}Hr&&($t.set(jt,ur),St(ur,jt,Pe,Ot,$t),$t.delete(jt)),gs(z,he,ur)}function Vi(z,ee){return ph($o(z,ee,ic),z+"")}var Ss=X?function(z,ee){return X(z,"toString",{configurable:!0,enumerable:!1,value:Sh(ee),writable:!0})}:ic;function xn(z,ee){if(ee)return z.slice();var he=z.length,Pe=lr?lr(he):new z.constructor(he);return z.copy(Pe),Pe}function Ia(z){var ee=new z.constructor(z.byteLength);return new fr(ee).set(new fr(z)),ee}function Oa(z,ee){var he=ee?Ia(z.buffer):z.buffer;return new z.constructor(he,z.byteOffset,z.length)}function Nn(z,ee){var he=-1,Pe=z.length;for(ee||(ee=Array(Pe));++he<Pe;)ee[he]=z[he];return ee}function Fa(z,ee,he,Pe){var St=!he;he||(he={});for(var Ot=-1,$t=ee.length;++Ot<$t;){var vt=ee[Ot],jt=Pe?Pe(he[vt],z[vt],vt,he,z):void 0;jt===void 0&&(jt=z[vt]),St?Oo(he,vt,jt):Io(he,vt,jt)}return he}function Hi(z){return Vi(function(ee,he){var Pe=-1,St=he.length,Ot=St>1?he[St-1]:void 0,$t=St>2?he[2]:void 0;for(Ot=z.length>3&&typeof Ot=="function"?(St--,Ot):void 0,$t&&dh(he[0],he[1],$t)&&(Ot=St<3?void 0:Ot,St=1),ee=Object(ee);++Pe<St;){var vt=he[Pe];vt&&z(ee,vt,Pe,Ot)}return ee})}function Mo(z){return function(ee,he,Pe){for(var St=-1,Ot=Object(ee),$t=Pe(ee),vt=$t.length;vt--;){var jt=$t[z?vt:++St];if(he(Ot[jt],jt,Ot)===!1)break}return ee}}function Gi(z,ee){var he=z.__data__;return fh(ee)?he[typeof ee=="string"?"string":"hash"]:he.map}function bs(z,ee){var he=Xe(z,ee);return Fo(he)?he:void 0}function No(z){var ee=rt.call(z,H),he=z[H];try{z[H]=void 0;var Pe=!0}catch{}var St=ut.call(z);return Pe&&(ee?z[H]=he:delete z[H]),St}function tc(z){return typeof z.constructor=="function"&&!Xn(z)?Oe(se(z)):{}}function Bo(z,ee){var he=typeof z;return ee=ee??l,!!ee&&(he=="number"||he!="symbol"&&Le.test(z))&&z>-1&&z%1==0&&z<ee}function dh(z,ee,he){if(!vi(he))return!1;var Pe=typeof ee;return(Pe=="number"?Vo(he)&&Bo(ee,he.length):Pe=="string"&&ee in he)?Ts(he[ee],z):!1}function fh(z){var ee=typeof z;return ee=="string"||ee=="number"||ee=="symbol"||ee=="boolean"?z!=="__proto__":z===null}function rc(z){return!!ft&&ft in z}function Xn(z){var ee=z&&z.constructor,he=typeof ee=="function"&&ee.prototype||Rt;return z===he}function Uo(z){var ee=[];if(z!=null)for(var he in Object(z))ee.push(he);return ee}function hh(z){return ut.call(z)}function $o(z,ee,he){return ee=ne(ee===void 0?z.length-1:ee,0),function(){for(var Pe=arguments,St=-1,Ot=ne(Pe.length-ee,0),$t=Array(Ot);++St<Ot;)$t[St]=Pe[ee+St];St=-1;for(var vt=Array(ee+1);++St<ee;)vt[St]=Pe[St];return vt[ee]=he($t),Ke(z,this,vt)}}function Es(z,ee){if(!(ee==="constructor"&&typeof z[ee]=="function")&&ee!="__proto__")return z[ee]}var ph=mh(Ss);function mh(z){var ee=0,he=0;return function(){var Pe=ve(),St=a-(Pe-he);if(he=Pe,St>0){if(++ee>=i)return arguments[0]}else ee=0;return z.apply(void 0,arguments)}}function jo(z){if(z!=null){try{return st.call(z)}catch{}try{return z+""}catch{}}return""}function Ts(z,ee){return z===ee||z!==z&&ee!==ee}var Ki=ec(function(){return arguments}())?ec:function(z){return Ma(z)&&rt.call(z,"callee")&&!O.call(z,"callee")},zo=Array.isArray;function Vo(z){return z!=null&&ws(z.length)&&!Wi(z)}function gh(z){return Ma(z)&&Vo(z)}var Ho=J||bh;function Wi(z){if(!vi(z))return!1;var ee=vs(z);return ee==x||ee==C||ee==g||ee==A}function ws(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=l}function vi(z){var ee=typeof z;return z!=null&&(ee=="object"||ee=="function")}function Ma(z){return z!=null&&typeof z=="object"}function vh(z){if(!Ma(z)||vs(z)!=R)return!1;var ee=se(z);if(ee===null)return!0;var he=rt.call(ee,"constructor")&&ee.constructor;return typeof he=="function"&&he instanceof he&&st.call(he)==_t}var ks=je?Qe(je):cn;function yh(z){return Fa(z,nc(z))}function nc(z){return Vo(z)?Ju(z,!0):ht(z)}var Go=Hi(function(z,ee,he,Pe){ys(z,ee,he,Pe)});function Sh(z){return function(){return z}}function ic(z){return z}function bh(){return!1}e.exports=Go})(pL,$d);const Dn=$d;var mL=e=>/!(important)?$/.test(e),M1=e=>typeof e=="string"?e.replace(/!(important)?$/,"").trim():e,gL=(e,t)=>r=>{const n=String(t),i=mL(n),a=M1(n),l=e?`${e}.${a}`:a;let f=sn(r.__cssMap)&&l in r.__cssMap?r.__cssMap[l].varRef:t;return f=M1(f),i?`${f} !important`:f};function Gv(e){const{scale:t,transform:r,compose:n}=e;return(a,l)=>{var f;const m=gL(t,a)(l);let g=(f=r==null?void 0:r(m,l))!=null?f:m;return n&&(g=n(g,l)),g}}var Lc=(...e)=>t=>e.reduce((r,n)=>n(r),t);function $n(e,t){return r=>{const n={property:r,scale:e};return n.transform=Gv({scale:e,transform:t}),n}}var vL=({rtl:e,ltr:t})=>r=>r.direction==="rtl"?e:t;function yL(e){const{property:t,scale:r,transform:n}=e;return{scale:r,property:vL(t),transform:r?Gv({scale:r,compose:n}):n}}var Qw=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function SL(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...Qw].join(" ")}function bL(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...Qw].join(" ")}var EL={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},TL={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function wL(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var kL={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},Ym={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},xL=new Set(Object.values(Ym)),Xw=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),CL=e=>e.trim();function _L(e,t){if(e==null||Xw.has(e))return e;const n=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),i=n==null?void 0:n[1],a=n==null?void 0:n[2];if(!i||!a)return e;const l=i.includes("-gradient")?i:`${i}-gradient`,[f,...m]=a.split(",").map(CL).filter(Boolean);if((m==null?void 0:m.length)===0)return e;const g=f in Ym?Ym[f]:f;m.unshift(g);const E=m.map(w=>{if(xL.has(w))return w;const v=w.indexOf(" "),[x,C]=v!==-1?[w.substr(0,v),w.substr(v+1)]:[w],L=Zw(C)?C:C&&C.split(" "),I=`colors.${x}`,P=I in t.__cssMap?t.__cssMap[I].varRef:x;return L?[P,...Array.isArray(L)?L:[L]].join(" "):P});return`${l}(${E.join(", ")})`}var Zw=e=>typeof e=="string"&&e.includes("(")&&e.includes(")"),AL=(e,t)=>_L(e,t??{});function RL(e){return/^var\(--.+\)$/.test(e)}var PL=e=>{const t=parseFloat(e.toString()),r=e.toString().replace(String(t),"");return{unitless:!r,value:t,unit:r}},ei=e=>t=>`${e}(${t})`,kt={filter(e){return e!=="auto"?e:EL},backdropFilter(e){return e!=="auto"?e:TL},ring(e){return wL(kt.px(e))},bgClip(e){return e==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e}},transform(e){return e==="auto"?SL():e==="auto-gpu"?bL():e},vh(e){return e==="$100vh"?"var(--chakra-vh)":e},px(e){if(e==null)return e;const{unitless:t}=PL(e);return t||typeof e=="number"?`${e}px`:e},fraction(e){return typeof e!="number"||e>1?e:`${e*100}%`},float(e,t){const r={left:"right",right:"left"};return t.direction==="rtl"?r[e]:e},degree(e){if(RL(e)||e==null)return e;const t=typeof e=="string"&&!e.endsWith("deg");return typeof e=="number"||t?`${e}deg`:e},gradient:AL,blur:ei("blur"),opacity:ei("opacity"),brightness:ei("brightness"),contrast:ei("contrast"),dropShadow:ei("drop-shadow"),grayscale:ei("grayscale"),hueRotate:ei("hue-rotate"),invert:ei("invert"),saturate:ei("saturate"),sepia:ei("sepia"),bgImage(e){return e==null||Zw(e)||Xw.has(e)?e:`url(${e})`},outline(e){const t=String(e)==="0"||String(e)==="none";return e!==null&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection(e){var t;const{space:r,divide:n}=(t=kL[e])!=null?t:{},i={flexDirection:e};return r&&(i[r]=1),n&&(i[n]=1),i}},re={borderWidths:$n("borderWidths"),borderStyles:$n("borderStyles"),colors:$n("colors"),borders:$n("borders"),radii:$n("radii",kt.px),space:$n("space",Lc(kt.vh,kt.px)),spaceT:$n("space",Lc(kt.vh,kt.px)),degreeT(e){return{property:e,transform:kt.degree}},prop(e,t,r){return{property:e,scale:t,...t&&{transform:Gv({scale:t,transform:r})}}},propT(e,t){return{property:e,transform:t}},sizes:$n("sizes",Lc(kt.vh,kt.px)),sizesT:$n("sizes",Lc(kt.vh,kt.fraction)),shadows:$n("shadows"),logical:yL,blur:$n("blur",kt.blur)},rd={background:re.colors("background"),backgroundColor:re.colors("backgroundColor"),backgroundImage:re.propT("backgroundImage",kt.bgImage),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:kt.bgClip},bgSize:re.prop("backgroundSize"),bgPosition:re.prop("backgroundPosition"),bg:re.colors("background"),bgColor:re.colors("backgroundColor"),bgPos:re.prop("backgroundPosition"),bgRepeat:re.prop("backgroundRepeat"),bgAttachment:re.prop("backgroundAttachment"),bgGradient:re.propT("backgroundImage",kt.gradient),bgClip:{transform:kt.bgClip}};Object.assign(rd,{bgImage:rd.backgroundImage,bgImg:rd.backgroundImage});var Lt={border:re.borders("border"),borderWidth:re.borderWidths("borderWidth"),borderStyle:re.borderStyles("borderStyle"),borderColor:re.colors("borderColor"),borderRadius:re.radii("borderRadius"),borderTop:re.borders("borderTop"),borderBlockStart:re.borders("borderBlockStart"),borderTopLeftRadius:re.radii("borderTopLeftRadius"),borderStartStartRadius:re.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:re.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:re.radii("borderTopRightRadius"),borderStartEndRadius:re.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:re.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:re.borders("borderRight"),borderInlineEnd:re.borders("borderInlineEnd"),borderBottom:re.borders("borderBottom"),borderBlockEnd:re.borders("borderBlockEnd"),borderBottomLeftRadius:re.radii("borderBottomLeftRadius"),borderBottomRightRadius:re.radii("borderBottomRightRadius"),borderLeft:re.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:re.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:re.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:re.borders(["borderLeft","borderRight"]),borderInline:re.borders("borderInline"),borderY:re.borders(["borderTop","borderBottom"]),borderBlock:re.borders("borderBlock"),borderTopWidth:re.borderWidths("borderTopWidth"),borderBlockStartWidth:re.borderWidths("borderBlockStartWidth"),borderTopColor:re.colors("borderTopColor"),borderBlockStartColor:re.colors("borderBlockStartColor"),borderTopStyle:re.borderStyles("borderTopStyle"),borderBlockStartStyle:re.borderStyles("borderBlockStartStyle"),borderBottomWidth:re.borderWidths("borderBottomWidth"),borderBlockEndWidth:re.borderWidths("borderBlockEndWidth"),borderBottomColor:re.colors("borderBottomColor"),borderBlockEndColor:re.colors("borderBlockEndColor"),borderBottomStyle:re.borderStyles("borderBottomStyle"),borderBlockEndStyle:re.borderStyles("borderBlockEndStyle"),borderLeftWidth:re.borderWidths("borderLeftWidth"),borderInlineStartWidth:re.borderWidths("borderInlineStartWidth"),borderLeftColor:re.colors("borderLeftColor"),borderInlineStartColor:re.colors("borderInlineStartColor"),borderLeftStyle:re.borderStyles("borderLeftStyle"),borderInlineStartStyle:re.borderStyles("borderInlineStartStyle"),borderRightWidth:re.borderWidths("borderRightWidth"),borderInlineEndWidth:re.borderWidths("borderInlineEndWidth"),borderRightColor:re.colors("borderRightColor"),borderInlineEndColor:re.colors("borderInlineEndColor"),borderRightStyle:re.borderStyles("borderRightStyle"),borderInlineEndStyle:re.borderStyles("borderInlineEndStyle"),borderTopRadius:re.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:re.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:re.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:re.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Lt,{rounded:Lt.borderRadius,roundedTop:Lt.borderTopRadius,roundedTopLeft:Lt.borderTopLeftRadius,roundedTopRight:Lt.borderTopRightRadius,roundedTopStart:Lt.borderStartStartRadius,roundedTopEnd:Lt.borderStartEndRadius,roundedBottom:Lt.borderBottomRadius,roundedBottomLeft:Lt.borderBottomLeftRadius,roundedBottomRight:Lt.borderBottomRightRadius,roundedBottomStart:Lt.borderEndStartRadius,roundedBottomEnd:Lt.borderEndEndRadius,roundedLeft:Lt.borderLeftRadius,roundedRight:Lt.borderRightRadius,roundedStart:Lt.borderInlineStartRadius,roundedEnd:Lt.borderInlineEndRadius,borderStart:Lt.borderInlineStart,borderEnd:Lt.borderInlineEnd,borderTopStartRadius:Lt.borderStartStartRadius,borderTopEndRadius:Lt.borderStartEndRadius,borderBottomStartRadius:Lt.borderEndStartRadius,borderBottomEndRadius:Lt.borderEndEndRadius,borderStartRadius:Lt.borderInlineStartRadius,borderEndRadius:Lt.borderInlineEndRadius,borderStartWidth:Lt.borderInlineStartWidth,borderEndWidth:Lt.borderInlineEndWidth,borderStartColor:Lt.borderInlineStartColor,borderEndColor:Lt.borderInlineEndColor,borderStartStyle:Lt.borderInlineStartStyle,borderEndStyle:Lt.borderInlineEndStyle});var LL={color:re.colors("color"),textColor:re.colors("color"),fill:re.colors("fill"),stroke:re.colors("stroke")},Qm={boxShadow:re.shadows("boxShadow"),mixBlendMode:!0,blendMode:re.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:re.prop("backgroundBlendMode"),opacity:!0};Object.assign(Qm,{shadow:Qm.boxShadow});var DL={filter:{transform:kt.filter},blur:re.blur("--chakra-blur"),brightness:re.propT("--chakra-brightness",kt.brightness),contrast:re.propT("--chakra-contrast",kt.contrast),hueRotate:re.degreeT("--chakra-hue-rotate"),invert:re.propT("--chakra-invert",kt.invert),saturate:re.propT("--chakra-saturate",kt.saturate),dropShadow:re.propT("--chakra-drop-shadow",kt.dropShadow),backdropFilter:{transform:kt.backdropFilter},backdropBlur:re.blur("--chakra-backdrop-blur"),backdropBrightness:re.propT("--chakra-backdrop-brightness",kt.brightness),backdropContrast:re.propT("--chakra-backdrop-contrast",kt.contrast),backdropHueRotate:re.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:re.propT("--chakra-backdrop-invert",kt.invert),backdropSaturate:re.propT("--chakra-backdrop-saturate",kt.saturate)},jd={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:kt.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:re.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:re.space("gap"),rowGap:re.space("rowGap"),columnGap:re.space("columnGap")};Object.assign(jd,{flexDir:jd.flexDirection});var Jw={gridGap:re.space("gridGap"),gridColumnGap:re.space("gridColumnGap"),gridRowGap:re.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},IL={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:kt.outline},outlineOffset:!0,outlineColor:re.colors("outlineColor")},_n={width:re.sizesT("width"),inlineSize:re.sizesT("inlineSize"),height:re.sizes("height"),blockSize:re.sizes("blockSize"),boxSize:re.sizes(["width","height"]),minWidth:re.sizes("minWidth"),minInlineSize:re.sizes("minInlineSize"),minHeight:re.sizes("minHeight"),minBlockSize:re.sizes("minBlockSize"),maxWidth:re.sizes("maxWidth"),maxInlineSize:re.sizes("maxInlineSize"),maxHeight:re.sizes("maxHeight"),maxBlockSize:re.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,hideFrom:{scale:"breakpoints",transform:(e,t)=>{var r,n,i;return{[(i=(n=(r=t.__breakpoints)==null?void 0:r.get(e))==null?void 0:n.minWQuery)!=null?i:`@media screen and (min-width: ${e})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(e,t)=>{var r,n,i;return{[(i=(n=(r=t.__breakpoints)==null?void 0:r.get(e))==null?void 0:n.maxWQuery)!=null?i:`@media screen and (max-width: ${e})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:re.propT("float",kt.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(_n,{w:_n.width,h:_n.height,minW:_n.minWidth,maxW:_n.maxWidth,minH:_n.minHeight,maxH:_n.maxHeight,overscroll:_n.overscrollBehavior,overscrollX:_n.overscrollBehaviorX,overscrollY:_n.overscrollBehaviorY});var OL={listStyleType:!0,listStylePosition:!0,listStylePos:re.prop("listStylePosition"),listStyleImage:!0,listStyleImg:re.prop("listStyleImage")};function FL(e,t,r,n){const i=typeof t=="string"?t.split("."):[t];for(n=0;n<i.length&&e;n+=1)e=e[i[n]];return e===void 0?r:e}var ML=e=>{const t=new WeakMap;return(n,i,a,l)=>{if(typeof n>"u")return e(n,i,a);t.has(n)||t.set(n,new Map);const f=t.get(n);if(f.has(i))return f.get(i);const m=e(n,i,a,l);return f.set(i,m),m}},NL=ML(FL),BL={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},UL={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},mp=(e,t,r)=>{const n={},i=NL(e,t,{});for(const a in i)a in r&&r[a]!=null||(n[a]=i[a]);return n},$L={srOnly:{transform(e){return e===!0?BL:e==="focusable"?UL:{}}},layerStyle:{processResult:!0,transform:(e,t,r)=>mp(t,`layerStyles.${e}`,r)},textStyle:{processResult:!0,transform:(e,t,r)=>mp(t,`textStyles.${e}`,r)},apply:{processResult:!0,transform:(e,t,r)=>mp(t,e,r)}},Ol={position:!0,pos:re.prop("position"),zIndex:re.prop("zIndex","zIndices"),inset:re.spaceT("inset"),insetX:re.spaceT(["left","right"]),insetInline:re.spaceT("insetInline"),insetY:re.spaceT(["top","bottom"]),insetBlock:re.spaceT("insetBlock"),top:re.spaceT("top"),insetBlockStart:re.spaceT("insetBlockStart"),bottom:re.spaceT("bottom"),insetBlockEnd:re.spaceT("insetBlockEnd"),left:re.spaceT("left"),insetInlineStart:re.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:re.spaceT("right"),insetInlineEnd:re.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Ol,{insetStart:Ol.insetInlineStart,insetEnd:Ol.insetInlineEnd});var jL={ring:{transform:kt.ring},ringColor:re.colors("--chakra-ring-color"),ringOffset:re.prop("--chakra-ring-offset-width"),ringOffsetColor:re.colors("--chakra-ring-offset-color"),ringInset:re.prop("--chakra-ring-inset")},Gt={margin:re.spaceT("margin"),marginTop:re.spaceT("marginTop"),marginBlockStart:re.spaceT("marginBlockStart"),marginRight:re.spaceT("marginRight"),marginInlineEnd:re.spaceT("marginInlineEnd"),marginBottom:re.spaceT("marginBottom"),marginBlockEnd:re.spaceT("marginBlockEnd"),marginLeft:re.spaceT("marginLeft"),marginInlineStart:re.spaceT("marginInlineStart"),marginX:re.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:re.spaceT("marginInline"),marginY:re.spaceT(["marginTop","marginBottom"]),marginBlock:re.spaceT("marginBlock"),padding:re.space("padding"),paddingTop:re.space("paddingTop"),paddingBlockStart:re.space("paddingBlockStart"),paddingRight:re.space("paddingRight"),paddingBottom:re.space("paddingBottom"),paddingBlockEnd:re.space("paddingBlockEnd"),paddingLeft:re.space("paddingLeft"),paddingInlineStart:re.space("paddingInlineStart"),paddingInlineEnd:re.space("paddingInlineEnd"),paddingX:re.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:re.space("paddingInline"),paddingY:re.space(["paddingTop","paddingBottom"]),paddingBlock:re.space("paddingBlock")};Object.assign(Gt,{m:Gt.margin,mt:Gt.marginTop,mr:Gt.marginRight,me:Gt.marginInlineEnd,marginEnd:Gt.marginInlineEnd,mb:Gt.marginBottom,ml:Gt.marginLeft,ms:Gt.marginInlineStart,marginStart:Gt.marginInlineStart,mx:Gt.marginX,my:Gt.marginY,p:Gt.padding,pt:Gt.paddingTop,py:Gt.paddingY,px:Gt.paddingX,pb:Gt.paddingBottom,pl:Gt.paddingLeft,ps:Gt.paddingInlineStart,paddingStart:Gt.paddingInlineStart,pr:Gt.paddingRight,pe:Gt.paddingInlineEnd,paddingEnd:Gt.paddingInlineEnd});var zL={textDecorationColor:re.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:re.shadows("textShadow")},VL={clipPath:!0,transform:re.propT("transform",kt.transform),transformOrigin:!0,translateX:re.spaceT("--chakra-translate-x"),translateY:re.spaceT("--chakra-translate-y"),skewX:re.degreeT("--chakra-skew-x"),skewY:re.degreeT("--chakra-skew-y"),scaleX:re.prop("--chakra-scale-x"),scaleY:re.prop("--chakra-scale-y"),scale:re.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:re.degreeT("--chakra-rotate")},HL={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:re.prop("transitionDuration","transition.duration"),transitionProperty:re.prop("transitionProperty","transition.property"),transitionTimingFunction:re.prop("transitionTimingFunction","transition.easing")},GL={fontFamily:re.prop("fontFamily","fonts"),fontSize:re.prop("fontSize","fontSizes",kt.px),fontWeight:re.prop("fontWeight","fontWeights"),lineHeight:re.prop("lineHeight","lineHeights"),letterSpacing:re.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(e){if(e===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},KL={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:re.spaceT("scrollMargin"),scrollMarginTop:re.spaceT("scrollMarginTop"),scrollMarginBottom:re.spaceT("scrollMarginBottom"),scrollMarginLeft:re.spaceT("scrollMarginLeft"),scrollMarginRight:re.spaceT("scrollMarginRight"),scrollMarginX:re.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:re.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:re.spaceT("scrollPadding"),scrollPaddingTop:re.spaceT("scrollPaddingTop"),scrollPaddingBottom:re.spaceT("scrollPaddingBottom"),scrollPaddingLeft:re.spaceT("scrollPaddingLeft"),scrollPaddingRight:re.spaceT("scrollPaddingRight"),scrollPaddingX:re.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:re.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function ek(e){return sn(e)&&e.reference?e.reference:String(e)}var $f=(e,...t)=>t.map(ek).join(` ${e} `).replace(/calc/g,""),N1=(...e)=>`calc(${$f("+",...e)})`,B1=(...e)=>`calc(${$f("-",...e)})`,Xm=(...e)=>`calc(${$f("*",...e)})`,U1=(...e)=>`calc(${$f("/",...e)})`,$1=e=>{const t=ek(e);return t!=null&&!Number.isNaN(parseFloat(t))?String(t).startsWith("-")?String(t).slice(1):`-${t}`:Xm(t,-1)},Ga=Object.assign(e=>({add:(...t)=>Ga(N1(e,...t)),subtract:(...t)=>Ga(B1(e,...t)),multiply:(...t)=>Ga(Xm(e,...t)),divide:(...t)=>Ga(U1(e,...t)),negate:()=>Ga($1(e)),toString:()=>e.toString()}),{add:N1,subtract:B1,multiply:Xm,divide:U1,negate:$1});function WL(e,t="-"){return e.replace(/\s+/g,t)}function qL(e){const t=WL(e.toString());return QL(YL(t))}function YL(e){return e.includes("\\.")?e:!Number.isInteger(parseFloat(e.toString()))?e.replace(".","\\."):e}function QL(e){return e.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function XL(e,t=""){return[t,e].filter(Boolean).join("-")}function ZL(e,t){return`var(${e}${t?`, ${t}`:""})`}function JL(e,t=""){return qL(`--${XL(e,t)}`)}function At(e,t,r){const n=JL(e,r);return{variable:n,reference:ZL(n,t)}}function eD(e){const t=e==null?0:e.length;return t?e[t-1]:void 0}function tD(e){const t=parseFloat(e.toString()),r=e.toString().replace(String(t),"");return{unitless:!r,value:t,unit:r}}function Zm(e){if(e==null)return e;const{unitless:t}=tD(e);return t||typeof e=="number"?`${e}px`:e}var tk=(e,t)=>parseInt(e[1],10)>parseInt(t[1],10)?1:-1,Kv=e=>Object.fromEntries(Object.entries(e).sort(tk));function j1(e){const t=Kv(e);return Object.assign(Object.values(t),t)}function rD(e){const t=Object.keys(Kv(e));return new Set(t)}function z1(e){var t;if(!e)return e;e=(t=Zm(e))!=null?t:e;const r=-.02;return typeof e=="number"?`${e+r}`:e.replace(/(\d+\.?\d*)/u,n=>`${parseFloat(n)+r}`)}function yl(e,t){const r=["@media screen"];return e&&r.push("and",`(min-width: ${Zm(e)})`),t&&r.push("and",`(max-width: ${Zm(t)})`),r.join(" ")}function nD(e){var t;if(!e)return null;e.base=(t=e.base)!=null?t:"0px";const r=j1(e),n=Object.entries(e).sort(tk).map(([l,f],m,g)=>{var E;let[,w]=(E=g[m+1])!=null?E:[];return w=parseFloat(w)>0?z1(w):void 0,{_minW:z1(f),breakpoint:l,minW:f,maxW:w,maxWQuery:yl(null,w),minWQuery:yl(f),minMaxQuery:yl(f,w)}}),i=rD(e),a=Array.from(i.values());return{keys:i,normalized:r,isResponsive(l){const f=Object.keys(l);return f.length>0&&f.every(m=>i.has(m))},asObject:Kv(e),asArray:j1(e),details:n,get(l){return n.find(f=>f.breakpoint===l)},media:[null,...r.map(l=>yl(l)).slice(1)],toArrayValue(l){if(!sn(l))throw new Error("toArrayValue: value must be an object");const f=a.map(m=>{var g;return(g=l[m])!=null?g:null});for(;eD(f)===null;)f.pop();return f},toObjectValue(l){if(!Array.isArray(l))throw new Error("toObjectValue: value must be an array");return l.reduce((f,m,g)=>{const E=a[g];return E!=null&&m!=null&&(f[E]=m),f},{})}}}var Pr={hover:(e,t)=>`${e}:hover ${t}, ${e}[data-hover] ${t}`,focus:(e,t)=>`${e}:focus ${t}, ${e}[data-focus] ${t}`,focusVisible:(e,t)=>`${e}:focus-visible ${t}`,focusWithin:(e,t)=>`${e}:focus-within ${t}`,active:(e,t)=>`${e}:active ${t}, ${e}[data-active] ${t}`,disabled:(e,t)=>`${e}:disabled ${t}, ${e}[data-disabled] ${t}`,invalid:(e,t)=>`${e}:invalid ${t}, ${e}[data-invalid] ${t}`,checked:(e,t)=>`${e}:checked ${t}, ${e}[data-checked] ${t}`,indeterminate:(e,t)=>`${e}:indeterminate ${t}, ${e}[aria-checked=mixed] ${t}, ${e}[data-indeterminate] ${t}`,readOnly:(e,t)=>`${e}:read-only ${t}, ${e}[readonly] ${t}, ${e}[data-read-only] ${t}`,expanded:(e,t)=>`${e}:read-only ${t}, ${e}[aria-expanded=true] ${t}, ${e}[data-expanded] ${t}`,placeholderShown:(e,t)=>`${e}:placeholder-shown ${t}`},Qi=e=>rk(t=>e(t,"&"),"[role=group]","[data-group]",".group"),Ti=e=>rk(t=>e(t,"~ &"),"[data-peer]",".peer"),rk=(e,...t)=>t.map(e).join(", "),jf={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:Qi(Pr.hover),_peerHover:Ti(Pr.hover),_groupFocus:Qi(Pr.focus),_peerFocus:Ti(Pr.focus),_groupFocusVisible:Qi(Pr.focusVisible),_peerFocusVisible:Ti(Pr.focusVisible),_groupActive:Qi(Pr.active),_peerActive:Ti(Pr.active),_groupDisabled:Qi(Pr.disabled),_peerDisabled:Ti(Pr.disabled),_groupInvalid:Qi(Pr.invalid),_peerInvalid:Ti(Pr.invalid),_groupChecked:Qi(Pr.checked),_peerChecked:Ti(Pr.checked),_groupFocusWithin:Qi(Pr.focusWithin),_peerFocusWithin:Ti(Pr.focusWithin),_peerPlaceholderShown:Ti(Pr.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]"},iD=Object.keys(jf);function V1(e,t){return At(String(e).replace(/\./g,"-"),void 0,t)}function aD(e,t){let r={};const n={};for(const[i,a]of Object.entries(e)){const{isSemantic:l,value:f}=a,{variable:m,reference:g}=V1(i,t==null?void 0:t.cssVarPrefix);if(!l){if(i.startsWith("space")){const v=i.split("."),[x,...C]=v,L=`${x}.-${C.join(".")}`,I=Ga.negate(f),P=Ga.negate(g);n[L]={value:I,var:m,varRef:P}}r[m]=f,n[i]={value:f,var:m,varRef:g};continue}const E=v=>{const C=[String(i).split(".")[0],v].join(".");if(!e[C])return v;const{reference:I}=V1(C,t==null?void 0:t.cssVarPrefix);return I},w=sn(f)?f:{default:f};r=Dn(r,Object.entries(w).reduce((v,[x,C])=>{var L,I;const P=E(C);if(x==="default")return v[m]=P,v;const R=(I=(L=jf)==null?void 0:L[x])!=null?I:x;return v[R]={[m]:P},v},{})),n[i]={value:g,var:m,varRef:g}}return{cssVars:r,cssMap:n}}function sD(e,t=[]){const r=Object.assign({},e);for(const n of t)n in r&&delete r[n];return r}function oD(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}var lD=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function uD(e){return oD(e,lD)}function cD(e){return e.semanticTokens}function dD(e){const{__cssMap:t,__cssVars:r,__breakpoints:n,...i}=e;return i}function fD({tokens:e,semanticTokens:t}){var r,n;const i=Object.entries((r=Jm(e))!=null?r:{}).map(([l,f])=>[l,{isSemantic:!1,value:f}]),a=Object.entries((n=Jm(t,1))!=null?n:{}).map(([l,f])=>[l,{isSemantic:!0,value:f}]);return Object.fromEntries([...i,...a])}function Jm(e,t=1/0){return!sn(e)&&!Array.isArray(e)||!t?e:Object.entries(e).reduce((r,[n,i])=>(sn(i)||Array.isArray(i)?Object.entries(Jm(i,t-1)).forEach(([a,l])=>{r[`${n}.${a}`]=l}):r[n]=i,r),{})}function hD(e){var t;const r=dD(e),n=uD(r),i=cD(r),a=fD({tokens:n,semanticTokens:i}),l=(t=r.config)==null?void 0:t.cssVarPrefix,{cssMap:f,cssVars:m}=aD(a,{cssVarPrefix:l});return Object.assign(r,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...m},__cssMap:f,__breakpoints:nD(r.breakpoints)}),r}var Wv=Dn({},rd,Lt,LL,jd,_n,DL,jL,IL,Jw,$L,Ol,Qm,Gt,KL,GL,zL,VL,OL,HL),pD=Object.assign({},Gt,_n,jd,Jw,Ol),m9=Object.keys(pD),mD=[...Object.keys(Wv),...iD],gD={...Wv,...jf},vD=e=>e in gD,yD=e=>t=>{if(!t.__breakpoints)return e;const{isResponsive:r,toArrayValue:n,media:i}=t.__breakpoints,a={};for(const l in e){let f=li(e[l],t);if(f==null)continue;if(f=sn(f)&&r(f)?n(f):f,!Array.isArray(f)){a[l]=f;continue}const m=f.slice(0,i.length).length;for(let g=0;g<m;g+=1){const E=i==null?void 0:i[g];if(!E){a[l]=f[g];continue}a[E]=a[E]||{},f[g]!=null&&(a[E][l]=f[g])}}return a};function SD(e){const t=[];let r="",n=!1;for(let i=0;i<e.length;i++){const a=e[i];a==="("?(n=!0,r+=a):a===")"?(n=!1,r+=a):a===","&&!n?(t.push(r),r=""):r+=a}return r=r.trim(),r&&t.push(r),t}function bD(e){return/^var\(--.+\)$/.test(e)}var ED=(e,t)=>e.startsWith("--")&&typeof t=="string"&&!bD(t),TD=(e,t)=>{var r,n;if(t==null)return t;const i=m=>{var g,E;return(E=(g=e.__cssMap)==null?void 0:g[m])==null?void 0:E.varRef},a=m=>{var g;return(g=i(m))!=null?g:m},[l,f]=SD(t);return t=(n=(r=i(l))!=null?r:a(f))!=null?n:a(t),t};function wD(e){const{configs:t={},pseudos:r={},theme:n}=e,i=(a,l=!1)=>{var f,m,g;const E=li(a,n),w=yD(E)(n);let v={};for(let x in w){const C=w[x];let L=li(C,n);x in r&&(x=r[x]),ED(x,L)&&(L=TD(n,L));let I=t[x];if(I===!0&&(I={property:x}),sn(L)){v[x]=(f=v[x])!=null?f:{},v[x]=Dn({},v[x],i(L,!0));continue}let P=(g=(m=I==null?void 0:I.transform)==null?void 0:m.call(I,L,n,E))!=null?g:L;P=I!=null&&I.processResult?i(P,!0):P;const R=li(I==null?void 0:I.property,n);if(!l&&(I!=null&&I.static)){const A=li(I.static,n);v=Dn({},v,A)}if(R&&Array.isArray(R)){for(const A of R)v[A]=P;continue}if(R){R==="&"&&sn(P)?v=Dn({},v,P):v[R]=P;continue}if(sn(P)){v=Dn({},v,P);continue}v[x]=P}return v};return i}var nk=e=>t=>wD({theme:t,pseudos:jf,configs:Wv})(e);function qt(e){return{definePartsStyle(t){return t},defineMultiStyleConfig(t){return{parts:e,...t}}}}function kD(e,t){if(Array.isArray(e))return e;if(sn(e))return t(e);if(e!=null)return[e]}function xD(e,t){for(let r=t+1;r<e.length;r++)if(e[r]!=null)return r;return-1}function CD(e){const t=e.__breakpoints;return function(n,i,a,l){var f,m;if(!t)return;const g={},E=kD(a,t.toArrayValue);if(!E)return g;const w=E.length,v=w===1,x=!!n.parts;for(let C=0;C<w;C++){const L=t.details[C],I=t.details[xD(E,C)],P=yl(L.minW,I==null?void 0:I._minW),R=li((f=n[i])==null?void 0:f[E[C]],l);if(R){if(x){(m=n.parts)==null||m.forEach(A=>{Dn(g,{[A]:v?R[A]:{[P]:R[A]}})});continue}if(!x){v?Dn(g,R):g[P]=R;continue}g[P]=R}}return g}}function _D(e){return t=>{var r;const{variant:n,size:i,theme:a}=t,l=CD(a);return Dn({},li((r=e.baseStyle)!=null?r:{},t),l(e,"sizes",i,t),l(e,"variants",n,t))}}function g9(e,t,r){var n,i,a;return(a=(i=(n=e.__cssMap)==null?void 0:n[`${t}.${r}`])==null?void 0:i.varRef)!=null?a:r}function Mu(e){return sD(e,["styleConfig","size","variant","colorScheme"])}var AD=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function RD(e){return sn(e)?AD.every(t=>Object.prototype.hasOwnProperty.call(e,t)):!1}var PD={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},LD=PD,DD={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},ID=DD,OD={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},FD=OD,MD={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},ND=MD,BD={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},UD=BD,$D={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},jD={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},zD={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},VD={property:$D,easing:jD,duration:zD},HD=VD,GD={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},KD=GD,WD={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},qD=WD,YD={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},ik=YD,ak={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},QD={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},XD={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},ZD={...ak,...QD,container:XD},sk=ZD,JD={breakpoints:ID,zIndices:LD,radii:ND,blur:KD,colors:FD,...ik,sizes:sk,shadows:UD,space:ak,borders:qD,transition:HD};function Mt(e,t={}){let r=!1;function n(){if(!r){r=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...E){n();for(const w of E)t[w]=m(w);return Mt(e,t)}function a(...E){for(const w of E)w in t||(t[w]=m(w));return Mt(e,t)}function l(){return Object.fromEntries(Object.entries(t).map(([w,v])=>[w,v.selector]))}function f(){return Object.fromEntries(Object.entries(t).map(([w,v])=>[w,v.className]))}function m(E){const x=`chakra-${(["container","root"].includes(E??"")?[e]:[e,E]).filter(Boolean).join("__")}`;return{className:x,selector:`.${x}`,toString:()=>E}}return{parts:i,toPart:m,extend:a,selectors:l,classnames:f,get keys(){return Object.keys(t)},__type:{}}}var eI=Mt("accordion").parts("root","container","button","panel").extend("icon"),tI=Mt("alert").parts("title","description","container").extend("icon","spinner"),rI=Mt("avatar").parts("label","badge","container").extend("excessLabel","group"),nI=Mt("breadcrumb").parts("link","item","container").extend("separator");Mt("button").parts();var iI=Mt("checkbox").parts("control","icon","container").extend("label");Mt("progress").parts("track","filledTrack").extend("label");var aI=Mt("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),sI=Mt("editable").parts("preview","input","textarea"),oI=Mt("form").parts("container","requiredIndicator","helperText"),lI=Mt("formError").parts("text","icon"),uI=Mt("input").parts("addon","field","element"),cI=Mt("list").parts("container","item","icon"),dI=Mt("menu").parts("button","list","item").extend("groupTitle","command","divider"),fI=Mt("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),hI=Mt("numberinput").parts("root","field","stepperGroup","stepper");Mt("pininput").parts("field");var pI=Mt("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),mI=Mt("progress").parts("label","filledTrack","track"),gI=Mt("radio").parts("container","control","label"),vI=Mt("select").parts("field","icon"),yI=Mt("slider").parts("container","track","thumb","filledTrack","mark"),SI=Mt("stat").parts("container","label","helpText","number","icon"),bI=Mt("switch").parts("container","track","thumb"),EI=Mt("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),TI=Mt("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),wI=Mt("tag").parts("container","label","closeButton"),kI=Mt("card").parts("container","header","body","footer");function Qa(e,t,r){return Math.min(Math.max(e,r),t)}class xI extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var Sl=xI;function qv(e){if(typeof e!="string")throw new Sl(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=II.test(e)?AI(e):e;const r=RI.exec(t);if(r){const l=Array.from(r).slice(1);return[...l.slice(0,3).map(f=>parseInt(vu(f,2),16)),parseInt(vu(l[3]||"f",2),16)/255]}const n=PI.exec(t);if(n){const l=Array.from(n).slice(1);return[...l.slice(0,3).map(f=>parseInt(f,16)),parseInt(l[3]||"ff",16)/255]}const i=LI.exec(t);if(i){const l=Array.from(i).slice(1);return[...l.slice(0,3).map(f=>parseInt(f,10)),parseFloat(l[3]||"1")]}const a=DI.exec(t);if(a){const[l,f,m,g]=Array.from(a).slice(1).map(parseFloat);if(Qa(0,100,f)!==f)throw new Sl(e);if(Qa(0,100,m)!==m)throw new Sl(e);return[...OI(l,f,m),Number.isNaN(g)?1:g]}throw new Sl(e)}function CI(e){let t=5381,r=e.length;for(;r;)t=t*33^e.charCodeAt(--r);return(t>>>0)%2341}const H1=e=>parseInt(e.replace(/_/g,""),36),_I="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const r=H1(t.substring(0,3)),n=H1(t.substring(3)).toString(16);let i="";for(let a=0;a<6-n.length;a++)i+="0";return e[r]=`${i}${n}`,e},{});function AI(e){const t=e.toLowerCase().trim(),r=_I[CI(t)];if(!r)throw new Sl(e);return`#${r}`}const vu=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),RI=new RegExp(`^#${vu("([a-f0-9])",3)}([a-f0-9])?$`,"i"),PI=new RegExp(`^#${vu("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),LI=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${vu(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),DI=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,II=/^[a-z]+$/i,G1=e=>Math.round(e*255),OI=(e,t,r)=>{let n=r/100;if(t===0)return[n,n,n].map(G1);const i=(e%360+360)%360/60,a=(1-Math.abs(2*n-1))*(t/100),l=a*(1-Math.abs(i%2-1));let f=0,m=0,g=0;i>=0&&i<1?(f=a,m=l):i>=1&&i<2?(f=l,m=a):i>=2&&i<3?(m=a,g=l):i>=3&&i<4?(m=l,g=a):i>=4&&i<5?(f=l,g=a):i>=5&&i<6&&(f=a,g=l);const E=n-a/2,w=f+E,v=m+E,x=g+E;return[w,v,x].map(G1)};function FI(e,t,r,n){return`rgba(${Qa(0,255,e).toFixed()}, ${Qa(0,255,t).toFixed()}, ${Qa(0,255,r).toFixed()}, ${parseFloat(Qa(0,1,n).toFixed(3))})`}function MI(e,t){const[r,n,i,a]=qv(e);return FI(r,n,i,a-t)}function NI(e){const[t,r,n,i]=qv(e);let a=l=>{const f=Qa(0,255,l).toString(16);return f.length===1?`0${f}`:f};return`#${a(t)}${a(r)}${a(n)}${i<1?a(Math.round(i*255)):""}`}function BI(e,t,r,n,i){for(t=t.split?t.split("."):t,n=0;n<t.length;n++)e=e?e[t[n]]:i;return e===i?r:e}var UI=e=>Object.keys(e).length===0,Wr=(e,t,r)=>{const n=BI(e,`colors.${t}`,t);try{return NI(n),n}catch{return r??"#000000"}},$I=e=>{const[t,r,n]=qv(e);return(t*299+r*587+n*114)/1e3},jI=e=>t=>{const r=Wr(t,e);return $I(r)<128?"dark":"light"},zI=e=>t=>jI(e)(t)==="dark",mo=(e,t)=>r=>{const n=Wr(r,e);return MI(n,1-t)};function K1(e="1rem",t="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${t} 25%,
    transparent 25%,
    transparent 50%,
    ${t} 50%,
    ${t} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${e} ${e}`}}var VI=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function HI(e){const t=VI();return!e||UI(e)?t:e.string&&e.colors?KI(e.string,e.colors):e.string&&!e.colors?GI(e.string):e.colors&&!e.string?WI(e.colors):t}function GI(e){let t=0;if(e.length===0)return t.toString();for(let n=0;n<e.length;n+=1)t=e.charCodeAt(n)+((t<<5)-t),t=t&t;let r="#";for(let n=0;n<3;n+=1){const i=t>>n*8&255;r+=`00${i.toString(16)}`.substr(-2)}return r}function KI(e,t){let r=0;if(e.length===0)return t[0];for(let n=0;n<e.length;n+=1)r=e.charCodeAt(n)+((r<<5)-r),r=r&r;return r=(r%t.length+t.length)%t.length,t[r]}function WI(e){return e[Math.floor(Math.random()*e.length)]}function Je(e,t){return r=>r.colorMode==="dark"?t:e}function Yv(e){const{orientation:t,vertical:r,horizontal:n}=e;return t?t==="vertical"?r:n:{}}function ok(e){return sn(e)&&e.reference?e.reference:String(e)}var zf=(e,...t)=>t.map(ok).join(` ${e} `).replace(/calc/g,""),W1=(...e)=>`calc(${zf("+",...e)})`,q1=(...e)=>`calc(${zf("-",...e)})`,eg=(...e)=>`calc(${zf("*",...e)})`,Y1=(...e)=>`calc(${zf("/",...e)})`,Q1=e=>{const t=ok(e);return t!=null&&!Number.isNaN(parseFloat(t))?String(t).startsWith("-")?String(t).slice(1):`-${t}`:eg(t,-1)},xi=Object.assign(e=>({add:(...t)=>xi(W1(e,...t)),subtract:(...t)=>xi(q1(e,...t)),multiply:(...t)=>xi(eg(e,...t)),divide:(...t)=>xi(Y1(e,...t)),negate:()=>xi(Q1(e)),toString:()=>e.toString()}),{add:W1,subtract:q1,multiply:eg,divide:Y1,negate:Q1});function qI(e){return!Number.isInteger(parseFloat(e.toString()))}function YI(e,t="-"){return e.replace(/\s+/g,t)}function lk(e){const t=YI(e.toString());return t.includes("\\.")?e:qI(e)?t.replace(".","\\."):e}function QI(e,t=""){return[t,lk(e)].filter(Boolean).join("-")}function XI(e,t){return`var(${lk(e)}${t?`, ${t}`:""})`}function ZI(e,t=""){return`--${QI(e,t)}`}function xr(e,t){const r=ZI(e,t==null?void 0:t.prefix);return{variable:r,reference:XI(r,JI(t==null?void 0:t.fallback))}}function JI(e){return typeof e=="string"?e:e==null?void 0:e.reference}var{defineMultiStyleConfig:eO,definePartsStyle:nd}=qt(bI.keys),Fl=xr("switch-track-width"),ts=xr("switch-track-height"),gp=xr("switch-track-diff"),tO=xi.subtract(Fl,ts),tg=xr("switch-thumb-x"),ol=xr("switch-bg"),rO=e=>{const{colorScheme:t}=e;return{borderRadius:"full",p:"0.5",width:[Fl.reference],height:[ts.reference],transitionProperty:"common",transitionDuration:"fast",[ol.variable]:"colors.gray.300",_dark:{[ol.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[ol.variable]:`colors.${t}.500`,_dark:{[ol.variable]:`colors.${t}.200`}},bg:ol.reference}},nO={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[ts.reference],height:[ts.reference],_checked:{transform:`translateX(${tg.reference})`}},iO=nd(e=>({container:{[gp.variable]:tO,[tg.variable]:gp.reference,_rtl:{[tg.variable]:xi(gp).negate().toString()}},track:rO(e),thumb:nO})),aO={sm:nd({container:{[Fl.variable]:"1.375rem",[ts.variable]:"sizes.3"}}),md:nd({container:{[Fl.variable]:"1.875rem",[ts.variable]:"sizes.4"}}),lg:nd({container:{[Fl.variable]:"2.875rem",[ts.variable]:"sizes.6"}})},sO=eO({baseStyle:iO,sizes:aO,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:oO,definePartsStyle:to}=qt(EI.keys),lO=to({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),zd={"&[data-is-numeric=true]":{textAlign:"end"}},uO=to(e=>{const{colorScheme:t}=e;return{th:{color:Je("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Je(`${t}.100`,`${t}.700`)(e),...zd},td:{borderBottom:"1px",borderColor:Je(`${t}.100`,`${t}.700`)(e),...zd},caption:{color:Je("gray.600","gray.100")(e)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),cO=to(e=>{const{colorScheme:t}=e;return{th:{color:Je("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Je(`${t}.100`,`${t}.700`)(e),...zd},td:{borderBottom:"1px",borderColor:Je(`${t}.100`,`${t}.700`)(e),...zd},caption:{color:Je("gray.600","gray.100")(e)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Je(`${t}.100`,`${t}.700`)(e)},td:{background:Je(`${t}.100`,`${t}.700`)(e)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),dO={simple:uO,striped:cO,unstyled:{}},fO={sm:to({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:to({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:to({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},hO=oO({baseStyle:lO,variants:dO,sizes:fO,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),en=At("tabs-color"),Gn=At("tabs-bg"),Dc=At("tabs-border-color"),{defineMultiStyleConfig:pO,definePartsStyle:pi}=qt(TI.keys),mO=e=>{const{orientation:t}=e;return{display:t==="vertical"?"flex":"block"}},gO=e=>{const{isFitted:t}=e;return{flex:t?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},vO=e=>{const{align:t="start",orientation:r}=e;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[t],flexDirection:r==="vertical"?"column":"row"}},yO={p:4},SO=pi(e=>({root:mO(e),tab:gO(e),tablist:vO(e),tabpanel:yO})),bO={sm:pi({tab:{py:1,px:4,fontSize:"sm"}}),md:pi({tab:{fontSize:"md",py:2,px:4}}),lg:pi({tab:{fontSize:"lg",py:3,px:4}})},EO=pi(e=>{const{colorScheme:t,orientation:r}=e,n=r==="vertical",i=r==="vertical"?"borderStart":"borderBottom",a=n?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[a]:"-2px",_selected:{[en.variable]:`colors.${t}.600`,_dark:{[en.variable]:`colors.${t}.300`},borderColor:"currentColor"},_active:{[Gn.variable]:"colors.gray.200",_dark:{[Gn.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:en.reference,bg:Gn.reference}}}),TO=pi(e=>{const{colorScheme:t}=e;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[Dc.variable]:"transparent",_selected:{[en.variable]:`colors.${t}.600`,[Dc.variable]:"colors.white",_dark:{[en.variable]:`colors.${t}.300`,[Dc.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:Dc.reference},color:en.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),wO=pi(e=>{const{colorScheme:t}=e;return{tab:{border:"1px solid",borderColor:"inherit",[Gn.variable]:"colors.gray.50",_dark:{[Gn.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[Gn.variable]:"colors.white",[en.variable]:`colors.${t}.600`,_dark:{[Gn.variable]:"colors.gray.800",[en.variable]:`colors.${t}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:en.reference,bg:Gn.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),kO=pi(e=>{const{colorScheme:t,theme:r}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:Wr(r,`${t}.700`),bg:Wr(r,`${t}.100`)}}}}),xO=pi(e=>{const{colorScheme:t}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",[en.variable]:"colors.gray.600",_dark:{[en.variable]:"inherit"},_selected:{[en.variable]:"colors.white",[Gn.variable]:`colors.${t}.600`,_dark:{[en.variable]:"colors.gray.800",[Gn.variable]:`colors.${t}.300`}},color:en.reference,bg:Gn.reference}}}),CO=pi({}),_O={line:EO,enclosed:TO,"enclosed-colored":wO,"soft-rounded":kO,"solid-rounded":xO,unstyled:CO},AO=pO({baseStyle:SO,sizes:bO,variants:_O,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),RO={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold"},ro=At("badge-bg"),ui=At("badge-color"),PO=e=>{const{colorScheme:t,theme:r}=e,n=mo(`${t}.500`,.6)(r);return{[ro.variable]:`colors.${t}.500`,[ui.variable]:"colors.white",_dark:{[ro.variable]:n,[ui.variable]:"colors.whiteAlpha.800"},bg:ro.reference,color:ui.reference}},LO=e=>{const{colorScheme:t,theme:r}=e,n=mo(`${t}.200`,.16)(r);return{[ro.variable]:`colors.${t}.100`,[ui.variable]:`colors.${t}.800`,_dark:{[ro.variable]:n,[ui.variable]:`colors.${t}.200`},bg:ro.reference,color:ui.reference}},DO=e=>{const{colorScheme:t,theme:r}=e,n=mo(`${t}.200`,.8)(r);return{[ui.variable]:`colors.${t}.500`,_dark:{[ui.variable]:n},color:ui.reference,boxShadow:`inset 0 0 0px 1px ${ui.reference}`}},IO={solid:PO,subtle:LO,outline:DO},Ml={baseStyle:RO,variants:IO,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:OO,definePartsStyle:rs}=qt(wI.keys),FO={fontWeight:"medium",lineHeight:1.2,outline:0,borderRadius:"md",_focusVisible:{boxShadow:"outline"}},MO={lineHeight:1.2,overflow:"visible"},NO={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},BO=rs({container:FO,label:MO,closeButton:NO}),UO={sm:rs({container:{minH:"5",minW:"5",fontSize:"xs",px:"2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:rs({container:{minH:"6",minW:"6",fontSize:"sm",px:"2"}}),lg:rs({container:{minH:"8",minW:"8",fontSize:"md",px:"3"}})},$O={subtle:rs(e=>{var t;return{container:(t=Ml.variants)==null?void 0:t.subtle(e)}}),solid:rs(e=>{var t;return{container:(t=Ml.variants)==null?void 0:t.solid(e)}}),outline:rs(e=>{var t;return{container:(t=Ml.variants)==null?void 0:t.outline(e)}})},jO=OO({variants:$O,baseStyle:BO,sizes:UO,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:Ai,defineMultiStyleConfig:zO}=qt(uI.keys),VO=Ai({field:{width:"100%",minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),Xi={lg:{fontSize:"lg",px:"4",h:"12",borderRadius:"md"},md:{fontSize:"md",px:"4",h:"10",borderRadius:"md"},sm:{fontSize:"sm",px:"3",h:"8",borderRadius:"sm"},xs:{fontSize:"xs",px:"2",h:"6",borderRadius:"sm"}},HO={lg:Ai({field:Xi.lg,addon:Xi.lg}),md:Ai({field:Xi.md,addon:Xi.md}),sm:Ai({field:Xi.sm,addon:Xi.sm}),xs:Ai({field:Xi.xs,addon:Xi.xs})};function Qv(e){const{focusBorderColor:t,errorBorderColor:r}=e;return{focusBorderColor:t||Je("blue.500","blue.300")(e),errorBorderColor:r||Je("red.500","red.300")(e)}}var GO=Ai(e=>{const{theme:t}=e,{focusBorderColor:r,errorBorderColor:n}=Qv(e);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Je("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Wr(t,n),boxShadow:`0 0 0 1px ${Wr(t,n)}`},_focusVisible:{zIndex:1,borderColor:Wr(t,r),boxShadow:`0 0 0 1px ${Wr(t,r)}`}},addon:{border:"1px solid",borderColor:Je("inherit","whiteAlpha.50")(e),bg:Je("gray.100","whiteAlpha.300")(e)}}}),KO=Ai(e=>{const{theme:t}=e,{focusBorderColor:r,errorBorderColor:n}=Qv(e);return{field:{border:"2px solid",borderColor:"transparent",bg:Je("gray.100","whiteAlpha.50")(e),_hover:{bg:Je("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Wr(t,n)},_focusVisible:{bg:"transparent",borderColor:Wr(t,r)}},addon:{border:"2px solid",borderColor:"transparent",bg:Je("gray.100","whiteAlpha.50")(e)}}}),WO=Ai(e=>{const{theme:t}=e,{focusBorderColor:r,errorBorderColor:n}=Qv(e);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Wr(t,n),boxShadow:`0px 1px 0px 0px ${Wr(t,n)}`},_focusVisible:{borderColor:Wr(t,r),boxShadow:`0px 1px 0px 0px ${Wr(t,r)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),qO=Ai({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),YO={outline:GO,filled:KO,flushed:WO,unstyled:qO},It=zO({baseStyle:VO,sizes:HO,variants:YO,defaultProps:{size:"md",variant:"outline"}}),X1,QO={...(X1=It.baseStyle)==null?void 0:X1.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},Z1,J1,XO={outline:e=>{var t,r;return(r=(t=It.variants)==null?void 0:t.outline(e).field)!=null?r:{}},flushed:e=>{var t,r;return(r=(t=It.variants)==null?void 0:t.flushed(e).field)!=null?r:{}},filled:e=>{var t,r;return(r=(t=It.variants)==null?void 0:t.filled(e).field)!=null?r:{}},unstyled:(J1=(Z1=It.variants)==null?void 0:Z1.unstyled.field)!=null?J1:{}},eS,tS,rS,nS,iS,aS,sS,oS,ZO={xs:(tS=(eS=It.sizes)==null?void 0:eS.xs.field)!=null?tS:{},sm:(nS=(rS=It.sizes)==null?void 0:rS.sm.field)!=null?nS:{},md:(aS=(iS=It.sizes)==null?void 0:iS.md.field)!=null?aS:{},lg:(oS=(sS=It.sizes)==null?void 0:sS.lg.field)!=null?oS:{}},JO={baseStyle:QO,sizes:ZO,variants:XO,defaultProps:{size:"md",variant:"outline"}},Ic=xr("tooltip-bg"),vp=xr("tooltip-fg"),e2=xr("popper-arrow-bg"),t2={bg:Ic.reference,color:vp.reference,[Ic.variable]:"colors.gray.700",[vp.variable]:"colors.whiteAlpha.900",_dark:{[Ic.variable]:"colors.gray.300",[vp.variable]:"colors.gray.900"},[e2.variable]:Ic.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},r2={baseStyle:t2},{defineMultiStyleConfig:n2,definePartsStyle:bl}=qt(mI.keys),i2=e=>{const{colorScheme:t,theme:r,isIndeterminate:n,hasStripe:i}=e,a=Je(K1(),K1("1rem","rgba(0,0,0,0.1)"))(e),l=Je(`${t}.500`,`${t}.200`)(e),f=`linear-gradient(
    to right,
    transparent 0%,
    ${Wr(r,l)} 50%,
    transparent 100%
  )`;return{...!n&&i&&a,...n?{bgImage:f}:{bgColor:l}}},a2={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},s2=e=>({bg:Je("gray.100","whiteAlpha.300")(e)}),o2=e=>({transitionProperty:"common",transitionDuration:"slow",...i2(e)}),l2=bl(e=>({label:a2,filledTrack:o2(e),track:s2(e)})),u2={xs:bl({track:{h:"1"}}),sm:bl({track:{h:"2"}}),md:bl({track:{h:"3"}}),lg:bl({track:{h:"4"}})},c2=n2({sizes:u2,baseStyle:l2,defaultProps:{size:"md",colorScheme:"blue"}}),d2=e=>typeof e=="function";function Yr(e,...t){return d2(e)?e(...t):e}var{definePartsStyle:id,defineMultiStyleConfig:f2}=qt(iI.keys),Nl=At("checkbox-size"),h2=e=>{const{colorScheme:t}=e;return{w:Nl.reference,h:Nl.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Je(`${t}.500`,`${t}.200`)(e),borderColor:Je(`${t}.500`,`${t}.200`)(e),color:Je("white","gray.900")(e),_hover:{bg:Je(`${t}.600`,`${t}.300`)(e),borderColor:Je(`${t}.600`,`${t}.300`)(e)},_disabled:{borderColor:Je("gray.200","transparent")(e),bg:Je("gray.200","whiteAlpha.300")(e),color:Je("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:Je(`${t}.500`,`${t}.200`)(e),borderColor:Je(`${t}.500`,`${t}.200`)(e),color:Je("white","gray.900")(e)},_disabled:{bg:Je("gray.100","whiteAlpha.100")(e),borderColor:Je("gray.100","transparent")(e)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Je("red.500","red.300")(e)}}},p2={_disabled:{cursor:"not-allowed"}},m2={userSelect:"none",_disabled:{opacity:.4}},g2={transitionProperty:"transform",transitionDuration:"normal"},v2=id(e=>({icon:g2,container:p2,control:Yr(h2,e),label:m2})),y2={sm:id({control:{[Nl.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:id({control:{[Nl.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:id({control:{[Nl.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},Vd=f2({baseStyle:v2,sizes:y2,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:S2,definePartsStyle:ad}=qt(gI.keys),b2=e=>{var t;const r=(t=Yr(Vd.baseStyle,e))==null?void 0:t.control;return{...r,borderRadius:"full",_checked:{...r==null?void 0:r._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},E2=ad(e=>{var t,r,n,i;return{label:(r=(t=Vd).baseStyle)==null?void 0:r.call(t,e).label,container:(i=(n=Vd).baseStyle)==null?void 0:i.call(n,e).container,control:b2(e)}}),T2={md:ad({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:ad({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:ad({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},w2=S2({baseStyle:E2,sizes:T2,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:k2,definePartsStyle:x2}=qt(vI.keys),Oc=At("select-bg"),lS,C2={...(lS=It.baseStyle)==null?void 0:lS.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:Oc.reference,[Oc.variable]:"colors.white",_dark:{[Oc.variable]:"colors.gray.700"},"> option, > optgroup":{bg:Oc.reference}},_2={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},A2=x2({field:C2,icon:_2}),Fc={paddingInlineEnd:"8"},uS,cS,dS,fS,hS,pS,mS,gS,R2={lg:{...(uS=It.sizes)==null?void 0:uS.lg,field:{...(cS=It.sizes)==null?void 0:cS.lg.field,...Fc}},md:{...(dS=It.sizes)==null?void 0:dS.md,field:{...(fS=It.sizes)==null?void 0:fS.md.field,...Fc}},sm:{...(hS=It.sizes)==null?void 0:hS.sm,field:{...(pS=It.sizes)==null?void 0:pS.sm.field,...Fc}},xs:{...(mS=It.sizes)==null?void 0:mS.xs,field:{...(gS=It.sizes)==null?void 0:gS.xs.field,...Fc},icon:{insetEnd:"1"}}},P2=k2({baseStyle:A2,sizes:R2,variants:It.variants,defaultProps:It.defaultProps}),yp=At("skeleton-start-color"),Sp=At("skeleton-end-color"),L2={[yp.variable]:"colors.gray.100",[Sp.variable]:"colors.gray.400",_dark:{[yp.variable]:"colors.gray.800",[Sp.variable]:"colors.gray.600"},background:yp.reference,borderColor:Sp.reference,opacity:.7,borderRadius:"sm"},D2={baseStyle:L2},bp=At("skip-link-bg"),I2={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[bp.variable]:"colors.white",_dark:{[bp.variable]:"colors.gray.700"},bg:bp.reference}},O2={baseStyle:I2},{defineMultiStyleConfig:F2,definePartsStyle:Vf}=qt(yI.keys),yu=At("slider-thumb-size"),Su=At("slider-track-size"),oa=At("slider-bg"),M2=e=>{const{orientation:t}=e;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...Yv({orientation:t,vertical:{h:"100%"},horizontal:{w:"100%"}})}},N2=e=>({...Yv({orientation:e.orientation,horizontal:{h:Su.reference},vertical:{w:Su.reference}}),overflow:"hidden",borderRadius:"sm",[oa.variable]:"colors.gray.200",_dark:{[oa.variable]:"colors.whiteAlpha.200"},_disabled:{[oa.variable]:"colors.gray.300",_dark:{[oa.variable]:"colors.whiteAlpha.300"}},bg:oa.reference}),B2=e=>{const{orientation:t}=e;return{...Yv({orientation:t,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:yu.reference,h:yu.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},U2=e=>{const{colorScheme:t}=e;return{width:"inherit",height:"inherit",[oa.variable]:`colors.${t}.500`,_dark:{[oa.variable]:`colors.${t}.200`},bg:oa.reference}},$2=Vf(e=>({container:M2(e),track:N2(e),thumb:B2(e),filledTrack:U2(e)})),j2=Vf({container:{[yu.variable]:"sizes.4",[Su.variable]:"sizes.1"}}),z2=Vf({container:{[yu.variable]:"sizes.3.5",[Su.variable]:"sizes.1"}}),V2=Vf({container:{[yu.variable]:"sizes.2.5",[Su.variable]:"sizes.0.5"}}),H2={lg:j2,md:z2,sm:V2},G2=F2({baseStyle:$2,sizes:H2,defaultProps:{size:"md",colorScheme:"blue"}}),Ka=xr("spinner-size"),K2={width:[Ka.reference],height:[Ka.reference]},W2={xs:{[Ka.variable]:"sizes.3"},sm:{[Ka.variable]:"sizes.4"},md:{[Ka.variable]:"sizes.6"},lg:{[Ka.variable]:"sizes.8"},xl:{[Ka.variable]:"sizes.12"}},q2={baseStyle:K2,sizes:W2,defaultProps:{size:"md"}},{defineMultiStyleConfig:Y2,definePartsStyle:uk}=qt(SI.keys),Q2={fontWeight:"medium"},X2={opacity:.8,marginBottom:"2"},Z2={verticalAlign:"baseline",fontWeight:"semibold"},J2={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},eF=uk({container:{},label:Q2,helpText:X2,number:Z2,icon:J2}),tF={md:uk({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},rF=Y2({baseStyle:eF,sizes:tF,defaultProps:{size:"md"}}),Ep=At("kbd-bg"),nF={[Ep.variable]:"colors.gray.100",_dark:{[Ep.variable]:"colors.whiteAlpha.100"},bg:Ep.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},iF={baseStyle:nF},aF={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},sF={baseStyle:aF},{defineMultiStyleConfig:oF,definePartsStyle:lF}=qt(cI.keys),uF={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},cF=lF({icon:uF}),dF=oF({baseStyle:cF}),{defineMultiStyleConfig:fF,definePartsStyle:hF}=qt(dI.keys),ni=At("menu-bg"),Tp=At("menu-shadow"),pF={[ni.variable]:"#fff",[Tp.variable]:"shadows.sm",_dark:{[ni.variable]:"colors.gray.700",[Tp.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:ni.reference,boxShadow:Tp.reference},mF={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[ni.variable]:"colors.gray.100",_dark:{[ni.variable]:"colors.whiteAlpha.100"}},_active:{[ni.variable]:"colors.gray.200",_dark:{[ni.variable]:"colors.whiteAlpha.200"}},_expanded:{[ni.variable]:"colors.gray.100",_dark:{[ni.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:ni.reference},gF={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},vF={opacity:.6},yF={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},SF={transitionProperty:"common",transitionDuration:"normal"},bF=hF({button:SF,list:pF,item:mF,groupTitle:gF,command:vF,divider:yF}),EF=fF({baseStyle:bF}),{defineMultiStyleConfig:TF,definePartsStyle:rg}=qt(fI.keys),wF={bg:"blackAlpha.600",zIndex:"modal"},kF=e=>{const{isCentered:t,scrollBehavior:r}=e;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:t?"center":"flex-start",overflow:r==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},xF=e=>{const{scrollBehavior:t}=e;return{borderRadius:"md",bg:Je("white","gray.700")(e),color:"inherit",my:"16",zIndex:"modal",maxH:t==="inside"?"calc(100% - 7.5rem)":void 0,boxShadow:Je("lg","dark-lg")(e)}},CF={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},_F={position:"absolute",top:"2",insetEnd:"3"},AF=e=>{const{scrollBehavior:t}=e;return{px:"6",py:"2",flex:"1",overflow:t==="inside"?"auto":void 0}},RF={px:"6",py:"4"},PF=rg(e=>({overlay:wF,dialogContainer:Yr(kF,e),dialog:Yr(xF,e),header:CF,closeButton:_F,body:Yr(AF,e),footer:RF}));function jn(e){return rg(e==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:e}})}var LF={xs:jn("xs"),sm:jn("sm"),md:jn("md"),lg:jn("lg"),xl:jn("xl"),"2xl":jn("2xl"),"3xl":jn("3xl"),"4xl":jn("4xl"),"5xl":jn("5xl"),"6xl":jn("6xl"),full:jn("full")},DF=TF({baseStyle:PF,sizes:LF,defaultProps:{size:"md"}}),{defineMultiStyleConfig:IF,definePartsStyle:ck}=qt(hI.keys),Xv=xr("number-input-stepper-width"),dk=xr("number-input-input-padding"),OF=xi(Xv).add("0.5rem").toString(),wp=xr("number-input-bg"),kp=xr("number-input-color"),xp=xr("number-input-border-color"),FF={[Xv.variable]:"sizes.6",[dk.variable]:OF},MF=e=>{var t,r;return(r=(t=Yr(It.baseStyle,e))==null?void 0:t.field)!=null?r:{}},NF={width:Xv.reference},BF={borderStart:"1px solid",borderStartColor:xp.reference,color:kp.reference,bg:wp.reference,[kp.variable]:"colors.chakra-body-text",[xp.variable]:"colors.chakra-border-color",_dark:{[kp.variable]:"colors.whiteAlpha.800",[xp.variable]:"colors.whiteAlpha.300"},_active:{[wp.variable]:"colors.gray.200",_dark:{[wp.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},UF=ck(e=>{var t;return{root:FF,field:(t=Yr(MF,e))!=null?t:{},stepperGroup:NF,stepper:BF}});function Mc(e){var t,r,n;const i=(t=It.sizes)==null?void 0:t[e],a={lg:"md",md:"md",sm:"sm",xs:"sm"},l=(n=(r=i.field)==null?void 0:r.fontSize)!=null?n:"md",f=ik.fontSizes[l];return ck({field:{...i.field,paddingInlineEnd:dk.reference,verticalAlign:"top"},stepper:{fontSize:xi(f).multiply(.75).toString(),_first:{borderTopEndRadius:a[e]},_last:{borderBottomEndRadius:a[e],mt:"-1px",borderTopWidth:1}}})}var $F={xs:Mc("xs"),sm:Mc("sm"),md:Mc("md"),lg:Mc("lg")},jF=IF({baseStyle:UF,sizes:$F,variants:It.variants,defaultProps:It.defaultProps}),vS,zF={...(vS=It.baseStyle)==null?void 0:vS.field,textAlign:"center"},VF={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},yS,SS,HF={outline:e=>{var t,r,n;return(n=(r=Yr((t=It.variants)==null?void 0:t.outline,e))==null?void 0:r.field)!=null?n:{}},flushed:e=>{var t,r,n;return(n=(r=Yr((t=It.variants)==null?void 0:t.flushed,e))==null?void 0:r.field)!=null?n:{}},filled:e=>{var t,r,n;return(n=(r=Yr((t=It.variants)==null?void 0:t.filled,e))==null?void 0:r.field)!=null?n:{}},unstyled:(SS=(yS=It.variants)==null?void 0:yS.unstyled.field)!=null?SS:{}},GF={baseStyle:zF,sizes:VF,variants:HF,defaultProps:It.defaultProps},{defineMultiStyleConfig:KF,definePartsStyle:WF}=qt(pI.keys),Nc=xr("popper-bg"),qF=xr("popper-arrow-bg"),bS=xr("popper-arrow-shadow-color"),YF={zIndex:10},QF={[Nc.variable]:"colors.white",bg:Nc.reference,[qF.variable]:Nc.reference,[bS.variable]:"colors.gray.200",_dark:{[Nc.variable]:"colors.gray.700",[bS.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},XF={px:3,py:2,borderBottomWidth:"1px"},ZF={px:3,py:2},JF={px:3,py:2,borderTopWidth:"1px"},eM={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},tM=WF({popper:YF,content:QF,header:XF,body:ZF,footer:JF,closeButton:eM}),rM=KF({baseStyle:tM}),{definePartsStyle:ng,defineMultiStyleConfig:nM}=qt(aI.keys),Cp=At("drawer-bg"),_p=At("drawer-box-shadow");function Ps(e){return ng(e==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}})}var iM={bg:"blackAlpha.600",zIndex:"overlay"},aM={display:"flex",zIndex:"modal",justifyContent:"center"},sM=e=>{const{isFullHeight:t}=e;return{...t&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[Cp.variable]:"colors.white",[_p.variable]:"shadows.lg",_dark:{[Cp.variable]:"colors.gray.700",[_p.variable]:"shadows.dark-lg"},bg:Cp.reference,boxShadow:_p.reference}},oM={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},lM={position:"absolute",top:"2",insetEnd:"3"},uM={px:"6",py:"2",flex:"1",overflow:"auto"},cM={px:"6",py:"4"},dM=ng(e=>({overlay:iM,dialogContainer:aM,dialog:Yr(sM,e),header:oM,closeButton:lM,body:uM,footer:cM})),fM={xs:Ps("xs"),sm:Ps("md"),md:Ps("lg"),lg:Ps("2xl"),xl:Ps("4xl"),full:Ps("full")},hM=nM({baseStyle:dM,sizes:fM,defaultProps:{size:"xs"}}),{definePartsStyle:pM,defineMultiStyleConfig:mM}=qt(sI.keys),gM={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},vM={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},yM={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},SM=pM({preview:gM,input:vM,textarea:yM}),bM=mM({baseStyle:SM}),{definePartsStyle:EM,defineMultiStyleConfig:TM}=qt(oI.keys),no=At("form-control-color"),wM={marginStart:"1",[no.variable]:"colors.red.500",_dark:{[no.variable]:"colors.red.300"},color:no.reference},kM={mt:"2",[no.variable]:"colors.gray.600",_dark:{[no.variable]:"colors.whiteAlpha.600"},color:no.reference,lineHeight:"normal",fontSize:"sm"},xM=EM({container:{width:"100%",position:"relative"},requiredIndicator:wM,helperText:kM}),CM=TM({baseStyle:xM}),{definePartsStyle:_M,defineMultiStyleConfig:AM}=qt(lI.keys),io=At("form-error-color"),RM={[io.variable]:"colors.red.500",_dark:{[io.variable]:"colors.red.300"},color:io.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},PM={marginEnd:"0.5em",[io.variable]:"colors.red.500",_dark:{[io.variable]:"colors.red.300"},color:io.reference},LM=_M({text:RM,icon:PM}),DM=AM({baseStyle:LM}),IM={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},OM={baseStyle:IM},FM={fontFamily:"heading",fontWeight:"bold"},MM={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},NM={baseStyle:FM,sizes:MM,defaultProps:{size:"xl"}},{defineMultiStyleConfig:BM,definePartsStyle:UM}=qt(nI.keys),$M={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},jM=UM({link:$M}),zM=BM({baseStyle:jM}),VM={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},fk=e=>{const{colorScheme:t,theme:r}=e;if(t==="gray")return{color:Je("inherit","whiteAlpha.900")(e),_hover:{bg:Je("gray.100","whiteAlpha.200")(e)},_active:{bg:Je("gray.200","whiteAlpha.300")(e)}};const n=mo(`${t}.200`,.12)(r),i=mo(`${t}.200`,.24)(r);return{color:Je(`${t}.600`,`${t}.200`)(e),bg:"transparent",_hover:{bg:Je(`${t}.50`,n)(e)},_active:{bg:Je(`${t}.100`,i)(e)}}},HM=e=>{const{colorScheme:t}=e,r=Je("gray.200","whiteAlpha.300")(e);return{border:"1px solid",borderColor:t==="gray"?r:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...Yr(fk,e)}},GM={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},KM=e=>{var t;const{colorScheme:r}=e;if(r==="gray"){const m=Je("gray.100","whiteAlpha.200")(e);return{bg:m,_hover:{bg:Je("gray.200","whiteAlpha.300")(e),_disabled:{bg:m}},_active:{bg:Je("gray.300","whiteAlpha.400")(e)}}}const{bg:n=`${r}.500`,color:i="white",hoverBg:a=`${r}.600`,activeBg:l=`${r}.700`}=(t=GM[r])!=null?t:{},f=Je(n,`${r}.200`)(e);return{bg:f,color:Je(i,"gray.800")(e),_hover:{bg:Je(a,`${r}.300`)(e),_disabled:{bg:f}},_active:{bg:Je(l,`${r}.400`)(e)}}},WM=e=>{const{colorScheme:t}=e;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Je(`${t}.500`,`${t}.200`)(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Je(`${t}.700`,`${t}.500`)(e)}}},qM={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},YM={ghost:fk,outline:HM,solid:KM,link:WM,unstyled:qM},QM={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},XM={baseStyle:VM,variants:YM,sizes:QM,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:ns,defineMultiStyleConfig:ZM}=qt(kI.keys),Hd=At("card-bg"),Li=At("card-padding"),hk=At("card-shadow"),sd=At("card-radius"),pk=At("card-border-width","0"),mk=At("card-border-color"),JM=ns({container:{[Hd.variable]:"colors.chakra-body-bg",backgroundColor:Hd.reference,boxShadow:hk.reference,borderRadius:sd.reference,color:"chakra-body-text",borderWidth:pk.reference,borderColor:mk.reference},body:{padding:Li.reference,flex:"1 1 0%"},header:{padding:Li.reference},footer:{padding:Li.reference}}),eN={sm:ns({container:{[sd.variable]:"radii.base",[Li.variable]:"space.3"}}),md:ns({container:{[sd.variable]:"radii.md",[Li.variable]:"space.5"}}),lg:ns({container:{[sd.variable]:"radii.xl",[Li.variable]:"space.7"}})},tN={elevated:ns({container:{[hk.variable]:"shadows.base",_dark:{[Hd.variable]:"colors.gray.700"}}}),outline:ns({container:{[pk.variable]:"1px",[mk.variable]:"colors.chakra-border-color"}}),filled:ns({container:{[Hd.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[Li.variable]:0},header:{[Li.variable]:0},footer:{[Li.variable]:0}}},rN=ZM({baseStyle:JM,variants:tN,sizes:eN,defaultProps:{variant:"elevated",size:"md"}}),Bl=xr("close-button-size"),ll=xr("close-button-bg"),nN={w:[Bl.reference],h:[Bl.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[ll.variable]:"colors.blackAlpha.100",_dark:{[ll.variable]:"colors.whiteAlpha.100"}},_active:{[ll.variable]:"colors.blackAlpha.200",_dark:{[ll.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:ll.reference},iN={lg:{[Bl.variable]:"sizes.10",fontSize:"md"},md:{[Bl.variable]:"sizes.8",fontSize:"xs"},sm:{[Bl.variable]:"sizes.6",fontSize:"2xs"}},aN={baseStyle:nN,sizes:iN,defaultProps:{size:"md"}},{variants:sN,defaultProps:oN}=Ml,lN={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm"},uN={baseStyle:lN,variants:sN,defaultProps:oN},cN={w:"100%",mx:"auto",maxW:"prose",px:"4"},dN={baseStyle:cN},fN={opacity:.6,borderColor:"inherit"},hN={borderStyle:"solid"},pN={borderStyle:"dashed"},mN={solid:hN,dashed:pN},gN={baseStyle:fN,variants:mN,defaultProps:{variant:"solid"}},{definePartsStyle:vN,defineMultiStyleConfig:yN}=qt(eI.keys),SN={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},bN={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},EN={pt:"2",px:"4",pb:"5"},TN={fontSize:"1.25em"},wN=vN({container:SN,button:bN,panel:EN,icon:TN}),kN=yN({baseStyle:wN}),{definePartsStyle:Nu,defineMultiStyleConfig:xN}=qt(tI.keys),vn=At("alert-fg"),Bi=At("alert-bg"),CN=Nu({container:{bg:Bi.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:vn.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:vn.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function Zv(e){const{theme:t,colorScheme:r}=e,n=mo(`${r}.200`,.16)(t);return{light:`colors.${r}.100`,dark:n}}var _N=Nu(e=>{const{colorScheme:t}=e,r=Zv(e);return{container:{[vn.variable]:`colors.${t}.500`,[Bi.variable]:r.light,_dark:{[vn.variable]:`colors.${t}.200`,[Bi.variable]:r.dark}}}}),AN=Nu(e=>{const{colorScheme:t}=e,r=Zv(e);return{container:{[vn.variable]:`colors.${t}.500`,[Bi.variable]:r.light,_dark:{[vn.variable]:`colors.${t}.200`,[Bi.variable]:r.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:vn.reference}}}),RN=Nu(e=>{const{colorScheme:t}=e,r=Zv(e);return{container:{[vn.variable]:`colors.${t}.500`,[Bi.variable]:r.light,_dark:{[vn.variable]:`colors.${t}.200`,[Bi.variable]:r.dark},pt:"2",borderTopWidth:"4px",borderTopColor:vn.reference}}}),PN=Nu(e=>{const{colorScheme:t}=e;return{container:{[vn.variable]:"colors.white",[Bi.variable]:`colors.${t}.500`,_dark:{[vn.variable]:"colors.gray.900",[Bi.variable]:`colors.${t}.200`},color:vn.reference}}}),LN={subtle:_N,"left-accent":AN,"top-accent":RN,solid:PN},DN=xN({baseStyle:CN,variants:LN,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:gk,defineMultiStyleConfig:IN}=qt(rI.keys),ao=At("avatar-border-color"),Ap=At("avatar-bg"),ON={borderRadius:"full",border:"0.2em solid",[ao.variable]:"white",_dark:{[ao.variable]:"colors.gray.800"},borderColor:ao.reference},FN={[Ap.variable]:"colors.gray.200",_dark:{[Ap.variable]:"colors.whiteAlpha.400"},bgColor:Ap.reference},ES=At("avatar-background"),MN=e=>{const{name:t,theme:r}=e,n=t?HI({string:t}):"colors.gray.400",i=zI(n)(r);let a="white";return i||(a="gray.800"),{bg:ES.reference,"&:not([data-loaded])":{[ES.variable]:n},color:a,[ao.variable]:"colors.white",_dark:{[ao.variable]:"colors.gray.800"},borderColor:ao.reference,verticalAlign:"top"}},NN=gk(e=>({badge:Yr(ON,e),excessLabel:Yr(FN,e),container:Yr(MN,e)}));function Zi(e){const t=e!=="100%"?sk[e]:void 0;return gk({container:{width:e,height:e,fontSize:`calc(${t??e} / 2.5)`},excessLabel:{width:e,height:e},label:{fontSize:`calc(${t??e} / 2.5)`,lineHeight:e!=="100%"?t??e:void 0}})}var BN={"2xs":Zi(4),xs:Zi(6),sm:Zi(8),md:Zi(12),lg:Zi(16),xl:Zi(24),"2xl":Zi(32),full:Zi("100%")},UN=IN({baseStyle:NN,sizes:BN,defaultProps:{size:"md"}}),$N={Accordion:kN,Alert:DN,Avatar:UN,Badge:Ml,Breadcrumb:zM,Button:XM,Checkbox:Vd,CloseButton:aN,Code:uN,Container:dN,Divider:gN,Drawer:hM,Editable:bM,Form:CM,FormError:DM,FormLabel:OM,Heading:NM,Input:It,Kbd:iF,Link:sF,List:dF,Menu:EF,Modal:DF,NumberInput:jF,PinInput:GF,Popover:rM,Progress:c2,Radio:w2,Select:P2,Skeleton:D2,SkipLink:O2,Slider:G2,Spinner:q2,Stat:rF,Switch:sO,Table:hO,Tabs:AO,Tag:jO,Textarea:JO,Tooltip:r2,Card:rN},jN={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},zN={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color",wordWrap:"break-word"}}},VN="ltr",HN={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},vk={semanticTokens:jN,direction:VN,...JD,components:$N,styles:zN,config:HN};function El(e){return typeof e=="function"}function GN(...e){return t=>e.reduce((r,n)=>n(r),t)}var KN=e=>function(...r){let n=[...r],i=r[r.length-1];return RD(i)&&n.length>1?n=n.slice(0,n.length-1):i=e,GN(...n.map(a=>l=>El(a)?a(l):qN(l,a)))(i)},WN=KN(vk);function qN(...e){return Dn({},...e,yk)}function yk(e,t,r,n){if((El(e)||El(t))&&Object.prototype.hasOwnProperty.call(n,r))return(...i)=>{const a=El(e)?e(...i):e,l=El(t)?t(...i):t;return Dn({},a,l,yk)}}function YN(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var QN=YN();function XN(e,t){const r={};return Object.keys(e).forEach(n=>{t.includes(n)||(r[n]=e[n])}),r}function ZN(e,t,r,n){const i=typeof t=="string"?t.split("."):[t];for(n=0;n<i.length&&e;n+=1)e=e[i[n]];return e===void 0?r:e}var JN=e=>{const t=new WeakMap;return(n,i,a,l)=>{if(typeof n>"u")return e(n,i,a);t.has(n)||t.set(n,new Map);const f=t.get(n);if(f.has(i))return f.get(i);const m=e(n,i,a,l);return f.set(i,m),m}},Sk=JN(ZN);function bk(e,t){const r={};return Object.keys(e).forEach(n=>{const i=e[n];t(i,n,e)&&(r[n]=i)}),r}var Ek=e=>bk(e,t=>t!=null);function e5(e){return typeof e=="function"}function Tk(e,...t){return e5(e)?e(...t):e}function t5(...e){return function(r){e.some(n=>(n==null||n(r),r==null?void 0:r.defaultPrevented))}}var r5=typeof Element<"u",n5=typeof Map=="function",i5=typeof Set=="function",a5=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function od(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!od(e[n],t[n]))return!1;return!0}var a;if(n5&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;for(a=e.entries();!(n=a.next()).done;)if(!od(n.value[1],t.get(n.value[0])))return!1;return!0}if(i5&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(a5&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;if(r5&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&e.$$typeof)&&!od(e[i[n]],t[i[n]]))return!1;return!0}return e!==e&&t!==t}var s5=function(t,r){try{return od(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};function wk(e,t={}){var r;const{styleConfig:n,...i}=t,{theme:a,colorMode:l}=Yw(),f=e?Sk(a,`components.${e}`):void 0,m=n||f,g=Dn({theme:a,colorMode:l},(r=m==null?void 0:m.defaultProps)!=null?r:{},Ek(XN(i,["children"]))),E=V.useRef({});if(m){const v=_D(m)(g);s5(E.current,v)||(E.current=v)}return E.current}function Bu(e,t={}){return wk(e,t)}function o5(e,t={}){return wk(e,t)}var l5=new Set([...mD,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),u5=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function c5(e){return u5.has(e)||!l5.has(e)}function d5(e){const t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function f5(e,...t){if(e==null)throw new TypeError("Cannot convert undefined or null to object");const r={...e};for(const n of t)if(n!=null)for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(i in r&&delete r[i],r[i]=n[i]);return r}var h5=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,p5=Iw(function(e){return h5.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),m5=p5,g5=function(t){return t!=="theme"},TS=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?m5:g5},wS=function(t,r,n){var i;if(r){var a=r.shouldForwardProp;i=t.__emotion_forwardProp&&a?function(l){return t.__emotion_forwardProp(l)&&a(l)}:a}return typeof i!="function"&&n&&(i=t.__emotion_forwardProp),i},v5=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return Bw(r,n,i),HP(function(){return Uw(r,n,i)}),null},y5=function e(t,r){var n=t.__emotion_real===t,i=n&&t.__emotion_base||t,a,l;r!==void 0&&(a=r.label,l=r.target);var f=wS(t,r,n),m=f||TS(i),g=!m("as");return function(){var E=arguments,w=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&w.push("label:"+a+";"),E[0]==null||E[0].raw===void 0)w.push.apply(w,E);else{w.push(E[0][0]);for(var v=E.length,x=1;x<v;x++)w.push(E[x],E[0][x])}var C=Vw(function(L,I,P){var R=g&&L.as||i,A="",M=[],j=L;if(L.theme==null){j={};for(var $ in L)j[$]=L[$];j.theme=V.useContext(mu)}typeof L.className=="string"?A=NP(I.registered,M,L.className):L.className!=null&&(A=L.className+" ");var B=jv(w.concat(M),I.registered,j);A+=I.key+"-"+B.name,l!==void 0&&(A+=" "+l);var K=g&&f===void 0?TS(R):m,ce={};for(var ye in L)g&&ye==="as"||K(ye)&&(ce[ye]=L[ye]);return ce.className=A,ce.ref=P,V.createElement(V.Fragment,null,V.createElement(v5,{cache:I,serialized:B,isStringTag:typeof R=="string"}),V.createElement(R,ce))});return C.displayName=a!==void 0?a:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",C.defaultProps=t.defaultProps,C.__emotion_real=C,C.__emotion_base=i,C.__emotion_styles=w,C.__emotion_forwardProp=f,Object.defineProperty(C,"toString",{value:function(){return"."+l}}),C.withComponent=function(L,I){return e(L,Ud({},r,I,{shouldForwardProp:wS(C,I,!0)})).apply(void 0,w)},C}},S5=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Gd=y5.bind();S5.forEach(function(e){Gd[e]=Gd(e)});var kS,b5=(kS=Gd.default)!=null?kS:Gd,E5=({baseStyle:e})=>t=>{const{theme:r,css:n,__css:i,sx:a,...l}=t,f=bk(l,(w,v)=>vD(v)),m=Tk(e,t),g=f5({},i,m,Ek(f),a),E=nk(g)(t.theme);return n?[E,n]:E};function Rp(e,t){const{baseStyle:r,...n}=t??{};n.shouldForwardProp||(n.shouldForwardProp=c5);const i=E5({baseStyle:r}),a=b5(e,n)(i);return pn.forwardRef(function(m,g){const{colorMode:E,forced:w}=Hv();return pn.createElement(a,{ref:g,"data-theme":w?E:void 0,...m})})}function T5(){const e=new Map;return new Proxy(Rp,{apply(t,r,n){return Rp(...n)},get(t,r){return e.has(r)||e.set(r,Rp(r)),e.get(r)}})}var ir=T5();function un(e){return V.forwardRef(e)}function kk(e={}){const{strict:t=!0,errorMessage:r="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:n}=e,i=V.createContext(void 0);i.displayName=n;function a(){var l;const f=V.useContext(i);if(!f&&t){const m=new Error(r);throw m.name="ContextError",(l=Error.captureStackTrace)==null||l.call(Error,m,a),m}return f}return[i.Provider,a,i]}function w5(e){const{cssVarsRoot:t,theme:r,children:n}=e,i=V.useMemo(()=>hD(r),[r]);return jr(WP,{theme:i,children:[we(k5,{root:t}),n]})}function k5({root:e=":host, :root"}){const t=[e,"[data-theme]"].join(",");return we(Bf,{styles:r=>({[t]:r.__cssVars})})}kk({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function v9(e){return kk({name:`${e}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${e} />" `})}function x5(){const{colorMode:e}=Hv();return we(Bf,{styles:t=>{const r=Sk(t,"styles.global"),n=Tk(r,{theme:t,colorMode:e});return n?nk(n)(t):void 0}})}var xk=V.createContext({getDocument(){return document},getWindow(){return window}});xk.displayName="EnvironmentContext";function Ck(e){const{children:t,environment:r,disabled:n}=e,i=V.useRef(null),a=V.useMemo(()=>r||{getDocument:()=>{var f,m;return(m=(f=i.current)==null?void 0:f.ownerDocument)!=null?m:document},getWindow:()=>{var f,m;return(m=(f=i.current)==null?void 0:f.ownerDocument.defaultView)!=null?m:window}},[r]),l=!n||!r;return jr(xk.Provider,{value:a,children:[t,l&&we("span",{id:"__chakra_env",hidden:!0,ref:i})]})}Ck.displayName="EnvironmentProvider";var C5=e=>{const{children:t,colorModeManager:r,portalZIndex:n,resetCSS:i=!0,theme:a={},environment:l,cssVarsRoot:f,disableEnvironment:m}=e,g=we(Ck,{environment:l,disabled:m,children:t});return we(w5,{theme:a,cssVarsRoot:f,children:jr(qw,{colorModeManager:r,options:a.config,children:[i?we(XP,{}):we(QP,{}),we(x5,{}),n?we(Gw,{zIndex:n,children:g}):g]})})},_5=(e,t)=>e.find(r=>r.id===t);function xS(e,t){const r=_k(e,t),n=r?e[r].findIndex(i=>i.id===t):-1;return{position:r,index:n}}function _k(e,t){for(const[r,n]of Object.entries(e))if(_5(n,t))return r}function A5(e){const t=e.includes("right"),r=e.includes("left");let n="center";return t&&(n="flex-end"),r&&(n="flex-start"),{display:"flex",flexDirection:"column",alignItems:n}}function R5(e){const r=e==="top"||e==="bottom"?"0 auto":void 0,n=e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,a=e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",l=e.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:5500,pointerEvents:"none",display:"flex",flexDirection:"column",margin:r,top:n,bottom:i,right:a,left:l}}function P5(e,t=[]){const r=V.useRef(e);return V.useEffect(()=>{r.current=e}),V.useCallback((...n)=>{var i;return(i=r.current)==null?void 0:i.call(r,...n)},t)}function L5(e,t){const r=P5(e);V.useEffect(()=>{if(t==null)return;let n=null;return n=window.setTimeout(()=>{r()},t),()=>{n&&window.clearTimeout(n)}},[t,r])}function CS(e,t){const r=V.useRef(!1),n=V.useRef(!1);V.useEffect(()=>{if(r.current&&n.current)return e();n.current=!0},t),V.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[])}const Ak=V.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Hf=V.createContext({}),Uu=V.createContext(null),Gf=typeof document<"u",Kd=Gf?V.useLayoutEffect:V.useEffect,Rk=V.createContext({strict:!1});function D5(e,t,r,n){const{visualElement:i}=V.useContext(Hf),a=V.useContext(Rk),l=V.useContext(Uu),f=V.useContext(Ak).reducedMotion,m=V.useRef();n=n||a.renderer,!m.current&&n&&(m.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:f}));const g=m.current;return V.useInsertionEffect(()=>{g&&g.update(r,l)}),Kd(()=>{g&&g.render()}),V.useEffect(()=>{g&&g.updateFeatures()}),(window.HandoffAppearAnimations?Kd:V.useEffect)(()=>{g&&g.animationState&&g.animationState.animateChanges()}),g}function Gs(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function I5(e,t,r){return V.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Gs(r)&&(r.current=n))},[t])}function bu(e){return typeof e=="string"||Array.isArray(e)}function Kf(e){return typeof e=="object"&&typeof e.start=="function"}const Jv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ey=["initial",...Jv];function Wf(e){return Kf(e.animate)||ey.some(t=>bu(e[t]))}function Pk(e){return Boolean(Wf(e)||e.variants)}function O5(e,t){if(Wf(e)){const{initial:r,animate:n}=e;return{initial:r===!1||bu(r)?r:void 0,animate:bu(n)?n:void 0}}return e.inherit!==!1?t:{}}function F5(e){const{initial:t,animate:r}=O5(e,V.useContext(Hf));return V.useMemo(()=>({initial:t,animate:r}),[_S(t),_S(r)])}function _S(e){return Array.isArray(e)?e.join(" "):e}const AS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Eu={};for(const e in AS)Eu[e]={isEnabled:t=>AS[e].some(r=>!!t[r])};function M5(e){for(const t in e)Eu[t]={...Eu[t],...e[t]}}function ty(e){const t=V.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ul={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let N5=1;function B5(){return ty(()=>{if(Ul.hasEverUpdated)return N5++})}const ry=V.createContext({}),Lk=V.createContext({}),U5=Symbol.for("motionComponentSymbol");function $5({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){e&&M5(e);function a(f,m){let g;const E={...V.useContext(Ak),...f,layoutId:j5(f)},{isStatic:w}=E,v=F5(f),x=w?void 0:B5(),C=n(f,w);if(!w&&Gf){v.visualElement=D5(i,C,E,t);const L=V.useContext(Lk),I=V.useContext(Rk).strict;v.visualElement&&(g=v.visualElement.loadFeatures(E,I,e,x,L))}return V.createElement(Hf.Provider,{value:v},g&&v.visualElement?V.createElement(g,{visualElement:v.visualElement,...E}):null,r(i,f,x,I5(C,v.visualElement,m),C,w,v.visualElement))}const l=V.forwardRef(a);return l[U5]=i,l}function j5({layoutId:e}){const t=V.useContext(ry).id;return t&&e!==void 0?t+"-"+e:e}function z5(e){function t(n,i={}){return $5(e(n,i))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,i)=>(r.has(i)||r.set(i,t(i)),r.get(i))})}const V5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ny(e){return typeof e!="string"||e.includes("-")?!1:!!(V5.indexOf(e)>-1||/[A-Z]/.test(e))}const Wd={};function H5(e){Object.assign(Wd,e)}const qf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hs=new Set(qf);function Dk(e,{layout:t,layoutId:r}){return hs.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Wd[e]||e==="opacity")}const ln=e=>Boolean(e&&e.getVelocity),G5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},K5=qf.length;function W5(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,i){let a="";for(let l=0;l<K5;l++){const f=qf[l];if(e[f]!==void 0){const m=G5[f]||f;a+=`${m}(${e[f]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,n?"":a):r&&n&&(a="none"),a}const Ik=e=>t=>typeof t=="string"&&t.startsWith(e),Ok=Ik("--"),ig=Ik("var(--"),q5=(e,t)=>t&&typeof e=="number"?t.transform(e):e,us=(e,t,r)=>Math.min(Math.max(r,e),t),ps={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},$l={...ps,transform:e=>us(0,1,e)},Bc={...ps,default:1},jl=e=>Math.round(e*1e5)/1e5,Tu=/(-)?([\d]*\.?[\d])+/g,ag=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Y5=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function $u(e){return typeof e=="string"}const ju=e=>({test:t=>$u(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ea=ju("deg"),mi=ju("%"),et=ju("px"),Q5=ju("vh"),X5=ju("vw"),RS={...mi,parse:e=>mi.parse(e)/100,transform:e=>mi.transform(e*100)},PS={...ps,transform:Math.round},Fk={borderWidth:et,borderTopWidth:et,borderRightWidth:et,borderBottomWidth:et,borderLeftWidth:et,borderRadius:et,radius:et,borderTopLeftRadius:et,borderTopRightRadius:et,borderBottomRightRadius:et,borderBottomLeftRadius:et,width:et,maxWidth:et,height:et,maxHeight:et,size:et,top:et,right:et,bottom:et,left:et,padding:et,paddingTop:et,paddingRight:et,paddingBottom:et,paddingLeft:et,margin:et,marginTop:et,marginRight:et,marginBottom:et,marginLeft:et,rotate:ea,rotateX:ea,rotateY:ea,rotateZ:ea,scale:Bc,scaleX:Bc,scaleY:Bc,scaleZ:Bc,skew:ea,skewX:ea,skewY:ea,distance:et,translateX:et,translateY:et,translateZ:et,x:et,y:et,z:et,perspective:et,transformPerspective:et,opacity:$l,originX:RS,originY:RS,originZ:et,zIndex:PS,fillOpacity:$l,strokeOpacity:$l,numOctaves:PS};function iy(e,t,r,n){const{style:i,vars:a,transform:l,transformOrigin:f}=e;let m=!1,g=!1,E=!0;for(const w in t){const v=t[w];if(Ok(w)){a[w]=v;continue}const x=Fk[w],C=q5(v,x);if(hs.has(w)){if(m=!0,l[w]=C,!E)continue;v!==(x.default||0)&&(E=!1)}else w.startsWith("origin")?(g=!0,f[w]=C):i[w]=C}if(t.transform||(m||n?i.transform=W5(e.transform,r,E,n):i.transform&&(i.transform="none")),g){const{originX:w="50%",originY:v="50%",originZ:x=0}=f;i.transformOrigin=`${w} ${v} ${x}`}}const ay=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Mk(e,t,r){for(const n in t)!ln(t[n])&&!Dk(n,r)&&(e[n]=t[n])}function Z5({transformTemplate:e},t,r){return V.useMemo(()=>{const n=ay();return iy(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function J5(e,t,r){const n=e.style||{},i={};return Mk(i,n,e),Object.assign(i,Z5(e,t,r)),e.transformValues?e.transformValues(i):i}function e4(e,t,r){const n={},i=J5(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const t4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function qd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||t4.has(e)}let Nk=e=>!qd(e);function r4(e){e&&(Nk=t=>t.startsWith("on")?!qd(t):e(t))}try{r4(require("@emotion/is-prop-valid").default)}catch{}function n4(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(Nk(i)||r===!0&&qd(i)||!t&&!qd(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function LS(e,t,r){return typeof e=="string"?e:et.transform(t+r*e)}function i4(e,t,r){const n=LS(t,e.x,e.width),i=LS(r,e.y,e.height);return`${n} ${i}`}const a4={offset:"stroke-dashoffset",array:"stroke-dasharray"},s4={offset:"strokeDashoffset",array:"strokeDasharray"};function o4(e,t,r=1,n=0,i=!0){e.pathLength=1;const a=i?a4:s4;e[a.offset]=et.transform(-n);const l=et.transform(t),f=et.transform(r);e[a.array]=`${l} ${f}`}function sy(e,{attrX:t,attrY:r,originX:n,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:f=0,...m},g,E,w){if(iy(e,m,g,w),E){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:x,dimensions:C}=e;v.transform&&(C&&(x.transform=v.transform),delete v.transform),C&&(n!==void 0||i!==void 0||x.transform)&&(x.transformOrigin=i4(C,n!==void 0?n:.5,i!==void 0?i:.5)),t!==void 0&&(v.x=t),r!==void 0&&(v.y=r),a!==void 0&&o4(v,a,l,f,!1)}const Bk=()=>({...ay(),attrs:{}}),oy=e=>typeof e=="string"&&e.toLowerCase()==="svg";function l4(e,t,r,n){const i=V.useMemo(()=>{const a=Bk();return sy(a,t,{enableHardwareAcceleration:!1},oy(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Mk(a,e.style,e),i.style={...a,...i.style}}return i}function u4(e=!1){return(r,n,i,a,{latestValues:l},f)=>{const g=(ny(r)?l4:e4)(n,l,f,r),w={...n4(n,typeof r=="string",e),...g,ref:a},{children:v}=n,x=V.useMemo(()=>ln(v)?v.get():v,[v]);return i&&(w["data-projection-id"]=i),V.createElement(r,{...w,children:x})}}const ly=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Uk(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}const $k=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jk(e,t,r,n){Uk(e,t,void 0,n);for(const i in t.attrs)e.setAttribute($k.has(i)?i:ly(i),t.attrs[i])}function uy(e,t){const{style:r}=e,n={};for(const i in r)(ln(r[i])||t.style&&ln(t.style[i])||Dk(i,e))&&(n[i]=r[i]);return n}function zk(e,t){const r=uy(e,t);for(const n in e)if(ln(e[n])||ln(t[n])){const i=n==="x"||n==="y"?"attr"+n.toUpperCase():n;r[i]=e[n]}return r}function cy(e,t,r,n={},i={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,i)),t}const Yd=e=>Array.isArray(e),c4=e=>Boolean(e&&typeof e=="object"&&e.mix&&e.toValue),d4=e=>Yd(e)?e[e.length-1]||0:e;function ld(e){const t=ln(e)?e.get():e;return c4(t)?t.toValue():t}function f4({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,i,a){const l={latestValues:h4(n,i,a,e),renderState:t()};return r&&(l.mount=f=>r(n,f,l)),l}const Vk=e=>(t,r)=>{const n=V.useContext(Hf),i=V.useContext(Uu),a=()=>f4(e,t,n,i);return r?a():ty(a)};function h4(e,t,r,n){const i={},a=n(e,{});for(const v in a)i[v]=ld(a[v]);let{initial:l,animate:f}=e;const m=Wf(e),g=Pk(e);t&&g&&!m&&e.inherit!==!1&&(l===void 0&&(l=t.initial),f===void 0&&(f=t.animate));let E=r?r.initial===!1:!1;E=E||l===!1;const w=E?f:l;return w&&typeof w!="boolean"&&!Kf(w)&&(Array.isArray(w)?w:[w]).forEach(x=>{const C=cy(e,x);if(!C)return;const{transitionEnd:L,transition:I,...P}=C;for(const R in P){let A=P[R];if(Array.isArray(A)){const M=E?A.length-1:0;A=A[M]}A!==null&&(i[R]=A)}for(const R in L)i[R]=L[R]}),i}const p4={useVisualState:Vk({scrapeMotionValuesFromProps:zk,createRenderState:Bk,onMount:(e,t,{renderState:r,latestValues:n})=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}sy(r,n,{enableHardwareAcceleration:!1},oy(t.tagName),e.transformTemplate),jk(t,r)}})},m4={useVisualState:Vk({scrapeMotionValuesFromProps:uy,createRenderState:ay})};function g4(e,{forwardMotionProps:t=!1},r,n){return{...ny(e)?p4:m4,preloadedFeatures:r,useRender:u4(t),createVisualElement:n,Component:e}}function Ri(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const Hk=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Yf(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const v4=e=>t=>Hk(t)&&e(t,Yf(t));function Di(e,t,r,n){return Ri(e,t,v4(r),n)}const y4=(e,t)=>r=>t(e(r)),Sa=(...e)=>e.reduce(y4);function Gk(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const DS=Gk("dragHorizontal"),IS=Gk("dragVertical");function Kk(e){let t=!1;if(e==="y")t=IS();else if(e==="x")t=DS();else{const r=DS(),n=IS();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function Wk(){const e=Kk(!0);return e?(e(),!1):!0}class La{constructor(t){this.isMounted=!1,this.node=t}update(){}}function S4(e){let t=[],r=[],n=0,i=!1,a=!1;const l=new WeakSet,f={schedule:(m,g=!1,E=!1)=>{const w=E&&i,v=w?t:r;return g&&l.add(m),v.indexOf(m)===-1&&(v.push(m),w&&i&&(n=t.length)),m},cancel:m=>{const g=r.indexOf(m);g!==-1&&r.splice(g,1),l.delete(m)},process:m=>{if(i){a=!0;return}if(i=!0,[t,r]=[r,t],r.length=0,n=t.length,n)for(let g=0;g<n;g++){const E=t[g];E(m),l.has(E)&&(f.schedule(E),e())}i=!1,a&&(a=!1,f.process(m))}};return f}const qn={delta:0,timestamp:0},b4=40;let sg=!0,wu=!1,og=!1;const zu=["read","update","preRender","render","postRender"],Qf=zu.reduce((e,t)=>(e[t]=S4(()=>wu=!0),e),{}),Wt=zu.reduce((e,t)=>{const r=Qf[t];return e[t]=(n,i=!1,a=!1)=>(wu||T4(),r.schedule(n,i,a)),e},{}),xa=zu.reduce((e,t)=>(e[t]=Qf[t].cancel,e),{}),Pp=zu.reduce((e,t)=>(e[t]=()=>Qf[t].process(qn),e),{}),E4=e=>Qf[e].process(qn),qk=e=>{wu=!1,qn.delta=sg?1e3/60:Math.max(Math.min(e-qn.timestamp,b4),1),qn.timestamp=e,og=!0,zu.forEach(E4),og=!1,wu&&(sg=!1,requestAnimationFrame(qk))},T4=()=>{wu=!0,sg=!0,og||requestAnimationFrame(qk)};function OS(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),i=(a,l)=>{if(a.type==="touch"||Wk())return;const f=e.getProps();e.animationState&&f.whileHover&&e.animationState.setActive("whileHover",t),f[n]&&Wt.update(()=>f[n](a,l))};return Di(e.current,r,i,{passive:!e.getProps()[n]})}class w4 extends La{mount(){this.unmount=Sa(OS(this.node,!0),OS(this.node,!1))}unmount(){}}class k4 extends La{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sa(Ri(this.node.current,"focus",()=>this.onFocus()),Ri(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Yk=(e,t)=>t?e===t?!0:Yk(e,t.parentElement):!1,On=e=>e;function Lp(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Yf(r))}class x4 extends La{constructor(){super(...arguments),this.removeStartListeners=On,this.removeEndListeners=On,this.removeAccessibleListeners=On,this.startPointerPress=(t,r)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),a=Di(window,"pointerup",(f,m)=>{if(!this.checkPressEnd())return;const{onTap:g,onTapCancel:E}=this.node.getProps();Wt.update(()=>{Yk(this.node.current,f.target)?g&&g(f,m):E&&E(f,m)})},{passive:!(n.onTap||n.onPointerUp)}),l=Di(window,"pointercancel",(f,m)=>this.cancelPress(f,m),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Sa(a,l),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const l=f=>{f.key!=="Enter"||!this.checkPressEnd()||Lp("up",(m,g)=>{const{onTap:E}=this.node.getProps();E&&Wt.update(()=>E(m,g))})};this.removeEndListeners(),this.removeEndListeners=Ri(this.node.current,"keyup",l),Lp("down",(f,m)=>{this.startPress(f,m)})},r=Ri(this.node.current,"keydown",t),n=()=>{this.isPressing&&Lp("cancel",(a,l)=>this.cancelPress(a,l))},i=Ri(this.node.current,"blur",n);this.removeAccessibleListeners=Sa(r,i)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Wt.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Wk()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Wt.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=Di(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Ri(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Sa(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const lg=new WeakMap,Dp=new WeakMap,C4=e=>{const t=lg.get(e.target);t&&t(e)},_4=e=>{e.forEach(C4)};function A4({root:e,...t}){const r=e||document;Dp.has(r)||Dp.set(r,{});const n=Dp.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(_4,{root:e,...t})),n[i]}function R4(e,t,r){const n=A4(t);return lg.set(e,r),n.observe(e),()=>{lg.delete(e),n.unobserve(e)}}const P4={some:0,all:1};class L4 extends La{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=t,l={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:P4[i]},f=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,a&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:E,onViewportLeave:w}=this.node.getProps(),v=g?E:w;v&&v(m)};return R4(this.node.current,l,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(D4(t,r))&&this.startObserver()}unmount(){}}function D4({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const I4={inView:{Feature:L4},tap:{Feature:x4},focus:{Feature:k4},hover:{Feature:w4}};function Qk(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const O4=e=>/^\-?\d*\.?\d+$/.test(e),F4=e=>/^0[^.\s]+$/.test(e);function dy(e,t){e.indexOf(t)===-1&&e.push(t)}function fy(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class hy{constructor(){this.subscriptions=[]}add(t){return dy(this.subscriptions,t),()=>fy(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Xk(e,t){return t?e*(1e3/t):0}const M4=e=>!isNaN(parseFloat(e));class N4{constructor(t,r={}){this.version="10.2.5",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:a,timestamp:l}=qn;this.lastUpdated!==l&&(this.timeDelta=a,this.lastUpdated=l,Wt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Wt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=M4(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new hy);const n=this.events[t].add(r);return t==="change"?()=>{n(),Wt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Xk(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function go(e,t){return new N4(e,t)}const py=(e,t)=>r=>Boolean($u(r)&&Y5.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),Zk=(e,t,r)=>n=>{if(!$u(n))return n;const[i,a,l,f]=n.match(Tu);return{[e]:parseFloat(i),[t]:parseFloat(a),[r]:parseFloat(l),alpha:f!==void 0?parseFloat(f):1}},B4=e=>us(0,255,e),Ip={...ps,transform:e=>Math.round(B4(e))},Xa={test:py("rgb","red"),parse:Zk("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Ip.transform(e)+", "+Ip.transform(t)+", "+Ip.transform(r)+", "+jl($l.transform(n))+")"};function U4(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const ug={test:py("#"),parse:U4,transform:Xa.transform},Ks={test:py("hsl","hue"),parse:Zk("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+mi.transform(jl(t))+", "+mi.transform(jl(r))+", "+jl($l.transform(n))+")"},Gr={test:e=>Xa.test(e)||ug.test(e)||Ks.test(e),parse:e=>Xa.test(e)?Xa.parse(e):Ks.test(e)?Ks.parse(e):ug.parse(e),transform:e=>$u(e)?e:e.hasOwnProperty("red")?Xa.transform(e):Ks.transform(e)},Jk="${c}",ex="${n}";function $4(e){var t,r;return isNaN(e)&&$u(e)&&(((t=e.match(Tu))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(ag))===null||r===void 0?void 0:r.length)||0)>0}function Qd(e){typeof e=="number"&&(e=`${e}`);const t=[];let r=0,n=0;const i=e.match(ag);i&&(r=i.length,e=e.replace(ag,Jk),t.push(...i.map(Gr.parse)));const a=e.match(Tu);return a&&(n=a.length,e=e.replace(Tu,ex),t.push(...a.map(ps.parse))),{values:t,numColors:r,numNumbers:n,tokenised:e}}function tx(e){return Qd(e).values}function rx(e){const{values:t,numColors:r,tokenised:n}=Qd(e),i=t.length;return a=>{let l=n;for(let f=0;f<i;f++)l=l.replace(f<r?Jk:ex,f<r?Gr.transform(a[f]):jl(a[f]));return l}}const j4=e=>typeof e=="number"?0:e;function z4(e){const t=tx(e);return rx(e)(t.map(j4))}const Ca={test:$4,parse:tx,createTransformer:rx,getAnimatableNone:z4},V4=new Set(["brightness","contrast","saturate","opacity"]);function H4(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Tu)||[];if(!n)return e;const i=r.replace(n,"");let a=V4.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+i+")"}const G4=/([a-z-]*)\(.*?\)/g,cg={...Ca,getAnimatableNone:e=>{const t=e.match(G4);return t?t.map(H4).join(" "):e}},K4={...Fk,color:Gr,backgroundColor:Gr,outlineColor:Gr,fill:Gr,stroke:Gr,borderColor:Gr,borderTopColor:Gr,borderRightColor:Gr,borderBottomColor:Gr,borderLeftColor:Gr,filter:cg,WebkitFilter:cg},my=e=>K4[e];function gy(e,t){let r=my(e);return r!==cg&&(r=Ca),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const nx=e=>t=>t.test(e),W4={test:e=>e==="auto",parse:e=>e},ix=[ps,et,mi,ea,X5,Q5,W4],ul=e=>ix.find(nx(e)),q4=[...ix,Gr,Ca],Y4=e=>q4.find(nx(e));function Q4(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function X4(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function Xf(e,t,r){const n=e.getProps();return cy(n,t,r!==void 0?r:n.custom,Q4(e),X4(e))}function Z4(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,go(r))}function J4(e,t){const r=Xf(e,t);let{transitionEnd:n={},transition:i={},...a}=r?e.makeTargetAnimatable(r,!1):{};a={...a,...n};for(const l in a){const f=d4(a[l]);Z4(e,l,f)}}function e3(e,t,r){var n,i;const a=Object.keys(t).filter(f=>!e.hasValue(f)),l=a.length;if(l)for(let f=0;f<l;f++){const m=a[f],g=t[m];let E=null;Array.isArray(g)&&(E=g[0]),E===null&&(E=(i=(n=r[m])!==null&&n!==void 0?n:e.readValue(m))!==null&&i!==void 0?i:t[m]),E!=null&&(typeof E=="string"&&(O4(E)||F4(E))?E=parseFloat(E):!Y4(E)&&Ca.test(g)&&(E=gy(m,g)),e.addValue(m,go(E,{owner:e})),r[m]===void 0&&(r[m]=E),E!==null&&e.setBaseTarget(m,E))}}function t3(e,t){return t?(t[e]||t.default||t).from:void 0}function r3(e,t,r){const n={};for(const i in e){const a=t3(i,t);if(a!==void 0)n[i]=a;else{const l=r.getValue(i);l&&(n[i]=l.get())}}return n}function Xd(e){return Boolean(ln(e)&&e.add)}const n3="framerAppearId",i3="data-"+ly(n3);let a3=On,Zd=On;const ba=e=>e*1e3,vo=e=>e/1e3,s3={current:!1};function o3(e){return!e||Array.isArray(e)||typeof e=="string"&&ax[e]}const Tl=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,ax={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tl([0,.65,.55,1]),circOut:Tl([.55,0,1,.45]),backIn:Tl([.31,.01,.66,-.59]),backOut:Tl([.33,1.53,.69,.99])};function l3(e){if(e)return Array.isArray(e)?Tl(e):ax[e]}function u3(e,t,r,{delay:n=0,duration:i,repeat:a=0,repeatType:l="loop",ease:f,times:m}={}){const g={[t]:r};return m&&(g.offset=m),e.animate(g,{delay:n,duration:i,easing:l3(f),fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const FS={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},Op={},sx={};for(const e in FS)sx[e]=()=>(Op[e]===void 0&&(Op[e]=FS[e]()),Op[e]);function c3(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const vy=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yy=e=>t=>1-e(1-t),Sy=e=>e*e,d3=yy(Sy),ox=vy(Sy),tr=(e,t,r)=>-r*e+r*t+e;function Fp(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function f3({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,a=0,l=0;if(!t)i=a=l=r;else{const f=r<.5?r*(1+t):r+t-r*t,m=2*r-f;i=Fp(m,f,e+1/3),a=Fp(m,f,e),l=Fp(m,f,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:n}}const Mp=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},h3=[ug,Xa,Ks],p3=e=>h3.find(t=>t.test(e));function MS(e){const t=p3(e);let r=t.parse(e);return t===Ks&&(r=f3(r)),r}const lx=(e,t)=>{const r=MS(e),n=MS(t),i={...r};return a=>(i.red=Mp(r.red,n.red,a),i.green=Mp(r.green,n.green,a),i.blue=Mp(r.blue,n.blue,a),i.alpha=tr(r.alpha,n.alpha,a),Xa.transform(i))};function ux(e,t){return typeof e=="number"?r=>tr(e,t,r):Gr.test(e)?lx(e,t):dx(e,t)}const cx=(e,t)=>{const r=[...e],n=r.length,i=e.map((a,l)=>ux(a,t[l]));return a=>{for(let l=0;l<n;l++)r[l]=i[l](a);return r}},m3=(e,t)=>{const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=ux(e[i],t[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}},dx=(e,t)=>{const r=Ca.createTransformer(t),n=Qd(e),i=Qd(t);return n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?Sa(cx(n.values,i.values),r):l=>`${l>0?t:e}`},ku=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},NS=(e,t)=>r=>tr(e,t,r);function g3(e){return typeof e=="number"?NS:typeof e=="string"?Gr.test(e)?lx:dx:Array.isArray(e)?cx:typeof e=="object"?m3:NS}function v3(e,t,r){const n=[],i=r||g3(e[0]),a=e.length-1;for(let l=0;l<a;l++){let f=i(e[l],e[l+1]);if(t){const m=Array.isArray(t)?t[l]:t;f=Sa(m,f)}n.push(f)}return n}function fx(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const a=e.length;Zd(a===t.length),Zd(!n||!Array.isArray(n)||n.length===a-1),e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=v3(t,n,i),f=l.length,m=g=>{let E=0;if(f>1)for(;E<e.length-2&&!(g<e[E+1]);E++);const w=ku(e[E],e[E+1],g);return l[E](w)};return r?g=>m(us(e[0],e[a-1],g)):m}function y3(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=ku(0,t,n);e.push(tr(r,1,i))}}function S3(e){const t=[0];return y3(t,e.length-1),t}function b3(e,t){return e.map(r=>r*t)}const hx=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,E3=1e-7,T3=12;function w3(e,t,r,n,i){let a,l,f=0;do l=t+(r-t)/2,a=hx(l,n,i)-e,a>0?r=l:t=l;while(Math.abs(a)>E3&&++f<T3);return l}function px(e,t,r,n){if(e===t&&r===n)return On;const i=a=>w3(a,0,1,e,r);return a=>a===0||a===1?a:hx(i(a),t,n)}const mx=e=>1-Math.sin(Math.acos(e)),by=yy(mx),k3=vy(by),gx=px(.33,1.53,.69,.99),Ey=yy(gx),x3=vy(Ey),C3=e=>(e*=2)<1?.5*Ey(e):.5*(2-Math.pow(2,-10*(e-1))),_3={linear:On,easeIn:Sy,easeInOut:ox,easeOut:d3,circIn:mx,circInOut:k3,circOut:by,backIn:Ey,backInOut:x3,backOut:gx,anticipate:C3},BS=e=>{if(Array.isArray(e)){Zd(e.length===4);const[t,r,n,i]=e;return px(t,r,n,i)}else if(typeof e=="string")return _3[e];return e},A3=e=>Array.isArray(e)&&typeof e[0]!="number";function R3(e,t){return e.map(()=>t||ox).splice(0,e.length-1)}function Jd({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=A3(n)?n.map(BS):BS(n),a={done:!1,value:t[0]},l=b3(r&&r.length===t.length?r:S3(t),e),f=fx(l,t,{ease:Array.isArray(i)?i:R3(t,i)});return{calculatedDuration:e,next:m=>(a.value=f(m),a.done=m>=e,a)}}const P3=5;function vx(e,t,r){const n=Math.max(t-P3,0);return Xk(r-e(n),t-n)}const Np=.001,L3=.01,US=10,D3=.05,I3=1;function O3({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let i,a;a3(e<=ba(US));let l=1-t;l=us(D3,I3,l),e=us(L3,US,vo(e)),l<1?(i=g=>{const E=g*l,w=E*e,v=E-r,x=dg(g,l),C=Math.exp(-w);return Np-v/x*C},a=g=>{const w=g*l*e,v=w*r+r,x=Math.pow(l,2)*Math.pow(g,2)*e,C=Math.exp(-w),L=dg(Math.pow(g,2),l);return(-i(g)+Np>0?-1:1)*((v-x)*C)/L}):(i=g=>{const E=Math.exp(-g*e),w=(g-r)*e+1;return-Np+E*w},a=g=>{const E=Math.exp(-g*e),w=(r-g)*(e*e);return E*w});const f=5/e,m=M3(i,a,f);if(e=ba(e),isNaN(m))return{stiffness:100,damping:10,duration:e};{const g=Math.pow(m,2)*n;return{stiffness:g,damping:l*2*Math.sqrt(n*g),duration:e}}}const F3=12;function M3(e,t,r){let n=r;for(let i=1;i<F3;i++)n=n-e(n)/t(n);return n}function dg(e,t){return e*Math.sqrt(1-t*t)}const N3=["duration","bounce"],B3=["stiffness","damping","mass"];function $S(e,t){return t.some(r=>e[r]!==void 0)}function U3(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!$S(e,B3)&&$S(e,N3)){const r=O3(e);t={...t,...r,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function yx({keyframes:e,restDelta:t,restSpeed:r,...n}){const i=e[0],a=e[e.length-1],l={done:!1,value:i},{stiffness:f,damping:m,mass:g,velocity:E,duration:w,isResolvedFromDuration:v}=U3(n),x=E?-vo(E):0,C=m/(2*Math.sqrt(f*g)),L=a-i,I=vo(Math.sqrt(f/g)),P=Math.abs(L)<5;r||(r=P?.01:2),t||(t=P?.005:.5);let R;if(C<1){const A=dg(I,C);R=M=>{const j=Math.exp(-C*I*M);return a-j*((x+C*I*L)/A*Math.sin(A*M)+L*Math.cos(A*M))}}else if(C===1)R=A=>a-Math.exp(-I*A)*(L+(x+I*L)*A);else{const A=I*Math.sqrt(C*C-1);R=M=>{const j=Math.exp(-C*I*M),$=Math.min(A*M,300);return a-j*((x+C*I*L)*Math.sinh($)+A*L*Math.cosh($))/A}}return{calculatedDuration:v&&w||null,next:A=>{const M=R(A);if(v)l.done=A>=w;else{let j=x;A!==0&&(C<1?j=vx(R,A,M):j=0);const $=Math.abs(j)<=r,B=Math.abs(a-M)<=t;l.done=$&&B}return l.value=l.done?a:M,l}}}function jS({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:f,max:m,restDelta:g=.5,restSpeed:E}){const w=e[0],v={done:!1,value:w},x=K=>f!==void 0&&K<f||m!==void 0&&K>m,C=K=>f===void 0?m:m===void 0||Math.abs(f-K)<Math.abs(m-K)?f:m;let L=r*t;const I=w+L,P=l===void 0?I:l(I);P!==I&&(L=P-w);const R=K=>-L*Math.exp(-K/n),A=K=>P+R(K),M=K=>{const ce=R(K),ye=A(K);v.done=Math.abs(ce)<=g,v.value=v.done?P:ye};let j,$;const B=K=>{x(v.value)&&(j=K,$=yx({keyframes:[v.value,C(v.value)],velocity:vx(A,K,v.value),damping:i,stiffness:a,restDelta:g,restSpeed:E}))};return B(0),{calculatedDuration:null,next:K=>{let ce=!1;return!$&&j===void 0&&(ce=!0,M(K),B(K)),j!==void 0&&K>j?$.next(K-j):(!ce&&M(K),v)}}}const $3=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Wt.update(t,!0),stop:()=>xa.update(t),now:()=>performance.now()}},j3={decay:jS,inertia:jS,tween:Jd,keyframes:Jd,spring:yx},z3=2e4;function V3(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<z3;)t+=r,n=e.next(t);return t}function ef({autoplay:e=!0,delay:t=0,driver:r=$3,keyframes:n,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:f="loop",onPlay:m,onStop:g,onComplete:E,onUpdate:w,...v}){let x;const C=j3[i]||Jd;let L;C!==Jd&&typeof n[0]!="number"&&(L=fx([0,100],n,{clamp:!1}),n=[0,100]);const I=C({...v,keyframes:n});let P;f==="mirror"&&(P=C({...v,keyframes:[...n].reverse(),velocity:-(v.velocity||0)}));let R="idle",A=null,M=null;I.calculatedDuration===null&&a&&(I.calculatedDuration=V3(I));const{calculatedDuration:j}=I;let $=1/0,B=1/0;j&&($=j+l,B=$*(a+1)-l);let K=0;const ce=N=>{if(M===null)return;A!==null?K=A:K=N-M,K=Math.max(K-t,0),R==="finished"&&A===null&&(K=B);let Z=K,G=I;if(a){const be=K/$;let ke=Math.floor(be),Re=be%1;!Re&&be>=1&&(Re=1),Re===1&&ke--;const Le=ke%2;Le&&(f==="reverse"?(Re=1-Re,l&&(Re-=l/$)):f==="mirror"&&(G=P)),Z=(K>=B?f==="reverse"&&Le?0:1:us(0,1,Re))*$}const ue=G.next(Z);let{value:Ce,done:Se}=ue;return w&&w(L?L(Ce):Ce),j!==null&&(Se=K>=B),A===null&&(R==="finished"||R==="running"&&Se)&&(R="finished",E&&E(),x&&x.stop()),ue};return e&&(()=>{x=r(ce);const N=x.now();m&&m(),R="running",A!==null?M=N-A:M||(M=N),A=null,x.start()})(),{get currentTime(){return vo(K)},set currentTime(N){A!==null||!x?A=0:M=x.now()-ba(N)},stop:()=>{g&&g(),x&&x.stop()},sample:N=>(M=0,ce(N))}}const H3=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Uc=10,G3=2e4,K3=(e,t)=>t.type==="spring"||e==="backgroundColor"||!o3(t.ease);function W3(e,t,{onUpdate:r,onComplete:n,...i}){if(!(sx.waapi()&&H3.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let{keyframes:l,duration:f=300,ease:m}=i;if(K3(t,i)){const E=ef({...i,repeat:0,delay:0});let w={done:!1,value:l[0]};const v=[];let x=0;for(;!w.done&&x<G3;)w=E.sample(x),v.push(w.value),x+=Uc;l=v,f=x-Uc,m="linear"}const g=u3(e.owner.current,t,l,{...i,duration:f,ease:m});return g.onfinish=()=>{e.set(c3(l,i)),Wt.update(()=>g.cancel()),n&&n()},{get currentTime(){return vo(g.currentTime||0)},set currentTime(E){g.currentTime=ba(E)},stop:()=>{const{currentTime:E}=g;if(E){const w=ef({...i,autoplay:!1});e.setWithVelocity(w.sample(E-Uc).value,w.sample(E).value,Uc)}Wt.update(()=>g.cancel())}}}function q3({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const i=()=>(r&&r(e[e.length-1]),n&&n(),{stop:()=>{},currentTime:0});return t?ef({keyframes:[0,1],duration:t,onComplete:i}):i()}const Y3={type:"spring",stiffness:500,damping:25,restSpeed:10},Q3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),X3={type:"keyframes",duration:.8},Z3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},J3=(e,{keyframes:t})=>t.length>2?X3:hs.has(e)?e.startsWith("scale")?Q3(t[1]):Y3:Z3,fg=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&Ca.test(t)&&!t.startsWith("url("));function eB({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:f,from:m,elapsed:g,...E}){return!!Object.keys(E).length}function zS(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function VS(e){return typeof e=="number"?0:gy("",e)}function Sx(e,t){return e[t]||e.default||e}function tB(e,t,r,n){const i=fg(t,r);let a=n.from!==void 0?n.from:e.get();return a==="none"&&i&&typeof r=="string"?a=gy(t,r):zS(a)&&typeof r=="string"?a=VS(r):!Array.isArray(r)&&zS(r)&&typeof a=="string"&&(r=VS(a)),Array.isArray(r)?(r[0]===null&&(r[0]=a),r):[a,r]}const Ty=(e,t,r,n={})=>i=>{const a=Sx(n,e)||{},l=a.delay||n.delay||0;let{elapsed:f=0}=n;f=f-ba(l);const m=tB(t,e,r,a),g=m[0],E=m[m.length-1],w=fg(e,g),v=fg(e,E);let x={keyframes:m,velocity:t.getVelocity(),...a,delay:-f,onUpdate:C=>{t.set(C),a.onUpdate&&a.onUpdate(C)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(!w||!v||s3.current||a.type===!1)return q3(x);if(eB(a)||(x={...x,...J3(e,x)}),x.duration&&(x.duration=ba(x.duration)),x.repeatDelay&&(x.repeatDelay=ba(x.repeatDelay)),t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const C=W3(t,e,x);if(C)return C}return ef(x)};function rB(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>hg(e,a,r));n=Promise.all(i)}else if(typeof t=="string")n=hg(e,t,r);else{const i=typeof t=="function"?Xf(e,t,r.custom):t;n=bx(e,i,r)}return n.then(()=>e.notify("AnimationComplete",t))}function hg(e,t,r={}){const n=Xf(e,t,r.custom);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>bx(e,n,r):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:E,staggerDirection:w}=i;return nB(e,t,g+m,E,w,r)}:()=>Promise.resolve(),{when:f}=i;if(f){const[m,g]=f==="beforeChildren"?[a,l]:[l,a];return m().then(g)}else return Promise.all([a(),l(r.delay)])}function bx(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:l,...f}=e.makeTargetAnimatable(t);const m=e.getValue("willChange");n&&(a=n);const g=[],E=i&&e.animationState&&e.animationState.getState()[i];for(const w in f){const v=e.getValue(w),x=f[w];if(!v||x===void 0||E&&aB(E,w))continue;const C={delay:r,elapsed:0,...a};if(window.HandoffAppearAnimations&&!v.hasAnimated){const I=e.getProps()[i3];I&&(C.elapsed=window.HandoffAppearAnimations(I,w,v,Wt))}let L=v.start(Ty(w,v,x,e.shouldReduceMotion&&hs.has(w)?{type:!1}:C));Xd(m)&&(m.add(w),L=L.then(()=>m.remove(w))),g.push(L)}return Promise.all(g).then(()=>{l&&J4(e,l)})}function nB(e,t,r=0,n=0,i=1,a){const l=[],f=(e.variantChildren.size-1)*n,m=i===1?(g=0)=>g*n:(g=0)=>f-g*n;return Array.from(e.variantChildren).sort(iB).forEach((g,E)=>{g.notify("AnimationStart",t),l.push(hg(g,t,{...a,delay:r+m(E)}).then(()=>g.notify("AnimationComplete",t)))}),Promise.all(l)}function iB(e,t){return e.sortNodePosition(t)}function aB({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}const sB=[...Jv].reverse(),oB=Jv.length;function lB(e){return t=>Promise.all(t.map(({animation:r,options:n})=>rB(e,r,n)))}function uB(e){let t=lB(e);const r=dB();let n=!0;const i=(m,g)=>{const E=Xf(e,g);if(E){const{transition:w,transitionEnd:v,...x}=E;m={...m,...x,...v}}return m};function a(m){t=m(e)}function l(m,g){const E=e.getProps(),w=e.getVariantContext(!0)||{},v=[],x=new Set;let C={},L=1/0;for(let P=0;P<oB;P++){const R=sB[P],A=r[R],M=E[R]!==void 0?E[R]:w[R],j=bu(M),$=R===g?A.isActive:null;$===!1&&(L=P);let B=M===w[R]&&M!==E[R]&&j;if(B&&n&&e.manuallyAnimateOnMount&&(B=!1),A.protectedKeys={...C},!A.isActive&&$===null||!M&&!A.prevProp||Kf(M)||typeof M=="boolean")continue;const K=cB(A.prevProp,M);let ce=K||R===g&&A.isActive&&!B&&j||P>L&&j;const ye=Array.isArray(M)?M:[M];let ie=ye.reduce(i,{});$===!1&&(ie={});const{prevResolvedValues:N={}}=A,Z={...N,...ie},G=ue=>{ce=!0,x.delete(ue),A.needsAnimating[ue]=!0};for(const ue in Z){const Ce=ie[ue],Se=N[ue];C.hasOwnProperty(ue)||(Ce!==Se?Yd(Ce)&&Yd(Se)?!Qk(Ce,Se)||K?G(ue):A.protectedKeys[ue]=!0:Ce!==void 0?G(ue):x.add(ue):Ce!==void 0&&x.has(ue)?G(ue):A.protectedKeys[ue]=!0)}A.prevProp=M,A.prevResolvedValues=ie,A.isActive&&(C={...C,...ie}),n&&e.blockInitialAnimation&&(ce=!1),ce&&!B&&v.push(...ye.map(ue=>({animation:ue,options:{type:R,...m}})))}if(x.size){const P={};x.forEach(R=>{const A=e.getBaseTarget(R);A!==void 0&&(P[R]=A)}),v.push({animation:P})}let I=Boolean(v.length);return n&&E.initial===!1&&!e.manuallyAnimateOnMount&&(I=!1),n=!1,I?t(v):Promise.resolve()}function f(m,g,E){var w;if(r[m].isActive===g)return Promise.resolve();(w=e.variantChildren)===null||w===void 0||w.forEach(x=>{var C;return(C=x.animationState)===null||C===void 0?void 0:C.setActive(m,g)}),r[m].isActive=g;const v=l(E,m);for(const x in r)r[x].protectedKeys={};return v}return{animateChanges:l,setActive:f,setAnimateFunction:a,getState:()=>r}}function cB(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Qk(t,e):!1}function $a(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dB(){return{animate:$a(!0),whileInView:$a(),whileHover:$a(),whileTap:$a(),whileDrag:$a(),whileFocus:$a(),exit:$a()}}class fB extends La{constructor(t){super(t),t.animationState||(t.animationState=uB(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Kf(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let hB=0;class pB extends La{constructor(){super(...arguments),this.id=hB++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const mB={animation:{Feature:fB},exit:{Feature:pB}},HS=(e,t)=>Math.abs(e-t);function gB(e,t){const r=HS(e.x,t.x),n=HS(e.y,t.y);return Math.sqrt(r**2+n**2)}class Ex{constructor(t,r,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Up(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,w=gB(g.offset,{x:0,y:0})>=3;if(!E&&!w)return;const{point:v}=g,{timestamp:x}=qn;this.history.push({...v,timestamp:x});const{onStart:C,onMove:L}=this.handlers;E||(C&&C(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,g)},this.handlePointerMove=(g,E)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Bp(E,this.transformPagePoint),Wt.update(this.updatePoint,!0)},this.handlePointerUp=(g,E)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:w,onSessionEnd:v}=this.handlers,x=Up(g.type==="pointercancel"?this.lastMoveEventInfo:Bp(E,this.transformPagePoint),this.history);this.startEvent&&w&&w(g,x),v&&v(g,x)},!Hk(t))return;this.handlers=r,this.transformPagePoint=n;const i=Yf(t),a=Bp(i,this.transformPagePoint),{point:l}=a,{timestamp:f}=qn;this.history=[{...l,timestamp:f}];const{onSessionStart:m}=r;m&&m(t,Up(a,this.history)),this.removeListeners=Sa(Di(window,"pointermove",this.handlePointerMove),Di(window,"pointerup",this.handlePointerUp),Di(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),xa.update(this.updatePoint)}}function Bp(e,t){return t?{point:t(e.point)}:e}function GS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Up({point:e},t){return{point:e,delta:GS(e,Tx(t)),offset:GS(e,vB(t)),velocity:yB(t,.1)}}function vB(e){return e[0]}function Tx(e){return e[e.length-1]}function yB(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=Tx(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>ba(t)));)r--;if(!n)return{x:0,y:0};const a=vo(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Sn(e){return e.max-e.min}function pg(e,t=0,r=.01){return Math.abs(e-t)<=r}function KS(e,t,r,n=.5){e.origin=n,e.originPoint=tr(t.min,t.max,e.origin),e.scale=Sn(r)/Sn(t),(pg(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=tr(r.min,r.max,e.origin)-e.originPoint,(pg(e.translate)||isNaN(e.translate))&&(e.translate=0)}function zl(e,t,r,n){KS(e.x,t.x,r.x,n?n.originX:void 0),KS(e.y,t.y,r.y,n?n.originY:void 0)}function WS(e,t,r){e.min=r.min+t.min,e.max=e.min+Sn(t)}function SB(e,t,r){WS(e.x,t.x,r.x),WS(e.y,t.y,r.y)}function qS(e,t,r){e.min=t.min-r.min,e.max=e.min+Sn(t)}function Vl(e,t,r){qS(e.x,t.x,r.x),qS(e.y,t.y,r.y)}function bB(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?tr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?tr(r,e,n.max):Math.min(e,r)),e}function YS(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function EB(e,{top:t,left:r,bottom:n,right:i}){return{x:YS(e.x,r,i),y:YS(e.y,t,n)}}function QS(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function TB(e,t){return{x:QS(e.x,t.x),y:QS(e.y,t.y)}}function wB(e,t){let r=.5;const n=Sn(e),i=Sn(t);return i>n?r=ku(t.min,t.max-n,e.min):n>i&&(r=ku(e.min,e.max-i,t.min)),us(0,1,r)}function kB(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const mg=.35;function xB(e=mg){return e===!1?e=0:e===!0&&(e=mg),{x:XS(e,"left","right"),y:XS(e,"top","bottom")}}function XS(e,t,r){return{min:ZS(e,t),max:ZS(e,r)}}function ZS(e,t){return typeof e=="number"?e:e[t]||0}const JS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hl=()=>({x:JS(),y:JS()}),eb=()=>({min:0,max:0}),gr=()=>({x:eb(),y:eb()});function ri(e){return[e("x"),e("y")]}function wx({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function CB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function _B(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function $p(e){return e===void 0||e===1}function gg({scale:e,scaleX:t,scaleY:r}){return!$p(e)||!$p(t)||!$p(r)}function Va(e){return gg(e)||kx(e)||e.z||e.rotate||e.rotateX||e.rotateY}function kx(e){return tb(e.x)||tb(e.y)}function tb(e){return e&&e!=="0%"}function tf(e,t,r){const n=e-r,i=t*n;return r+i}function rb(e,t,r,n,i){return i!==void 0&&(e=tf(e,i,n)),tf(e,r,n)+t}function vg(e,t=0,r=1,n,i){e.min=rb(e.min,t,r,n,i),e.max=rb(e.max,t,r,n,i)}function xx(e,{x:t,y:r}){vg(e.x,t.translate,t.scale,t.originPoint),vg(e.y,r.translate,r.scale,r.originPoint)}function AB(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let a,l;for(let f=0;f<i;f++){a=r[f],l=a.projectionDelta;const m=a.instance;m&&m.style&&m.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ws(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,xx(e,l)),n&&Va(a.latestValues)&&Ws(e,a.latestValues))}t.x=nb(t.x),t.y=nb(t.y)}function nb(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function na(e,t){e.min=e.min+t,e.max=e.max+t}function ib(e,t,[r,n,i]){const a=t[i]!==void 0?t[i]:.5,l=tr(e.min,e.max,a);vg(e,t[r],t[n],l,t.scale)}const RB=["x","scaleX","originX"],PB=["y","scaleY","originY"];function Ws(e,t){ib(e.x,t,RB),ib(e.y,t,PB)}function Cx(e,t){return wx(_B(e.getBoundingClientRect(),t))}function LB(e,t,r){const n=Cx(e,r),{scroll:i}=t;return i&&(na(n.x,i.offset.x),na(n.y,i.offset.y)),n}const DB=new WeakMap;class IB{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gr(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=m=>{this.stopAnimation(),r&&this.snapToCursor(Yf(m,"page").point)},a=(m,g)=>{const{drag:E,dragPropagation:w,onDragStart:v}=this.getProps();if(E&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Kk(E),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ri(C=>{let L=this.getAxisMotionValue(C).get()||0;if(mi.test(L)){const{projection:I}=this.visualElement;if(I&&I.layout){const P=I.layout.layoutBox[C];P&&(L=Sn(P)*(parseFloat(L)/100))}}this.originPoint[C]=L}),v&&Wt.update(()=>v(m,g));const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(m,g)=>{const{dragPropagation:E,dragDirectionLock:w,onDirectionLock:v,onDrag:x}=this.getProps();if(!E&&!this.openGlobalLock)return;const{offset:C}=g;if(w&&this.currentDirection===null){this.currentDirection=OB(C),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",g.point,C),this.updateAxis("y",g.point,C),this.visualElement.render(),x&&x(m,g)},f=(m,g)=>this.stop(m,g);this.panSession=new Ex(t,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:f},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Wt.update(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!$c(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let l=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(l=bB(l,this.constraints[t],this.elastic[t])),a.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),{layout:n}=this.visualElement.projection||{},i=this.constraints;t&&Gs(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=EB(n.layoutBox,t):this.constraints=!1,this.elastic=xB(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ri(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=kB(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Gs(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=LB(n,i.root,this.visualElement.getTransformPagePoint());let l=TB(i.layout.layoutBox,a);if(r){const f=r(CB(l));this.hasMutatedConstraints=!!f,f&&(l=wx(f))}return l}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},g=ri(E=>{if(!$c(E,r,this.currentDirection))return;let w=m&&m[E]||{};l&&(w={min:0,max:0});const v=i?200:1e6,x=i?40:1e7,C={type:"inertia",velocity:n?t[E]:0,bounceStiffness:v,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(E,C)});return Promise.all(g).then(f)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(Ty(t,n,0,r))}stopAnimation(){ri(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ri(r=>{const{drag:n}=this.getProps();if(!$c(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:l,max:f}=i.layout.layoutBox[r];a.set(t[r]-tr(l,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Gs(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ri(l=>{const f=this.getAxisMotionValue(l);if(f){const m=f.get();i[l]=wB({min:m,max:m},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ri(l=>{if(!$c(l,t,null))return;const f=this.getAxisMotionValue(l),{min:m,max:g}=this.constraints[l];f.set(tr(m,g,i[l]))})}addListeners(){if(!this.visualElement.current)return;DB.set(this.visualElement,this);const t=this.visualElement.current,r=Di(t,"pointerdown",m=>{const{drag:g,dragListener:E=!0}=this.getProps();g&&E&&this.start(m)}),n=()=>{const{dragConstraints:m}=this.getProps();Gs(m)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const l=Ri(window,"resize",()=>this.scalePositionWithinConstraints()),f=i.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(ri(E=>{const w=this.getAxisMotionValue(E);w&&(this.originPoint[E]+=m[E].translate,w.set(w.get()+m[E].translate))}),this.visualElement.render())});return()=>{l(),r(),a(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=mg,dragMomentum:f=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:f}}}function $c(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function OB(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class FB extends La{constructor(t){super(t),this.removeGroupControls=On,this.removeListeners=On,this.controls=new IB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||On}unmount(){this.removeGroupControls(),this.removeListeners()}}const ab=e=>(t,r)=>{e&&Wt.update(()=>e(t,r))};class MB extends La{constructor(){super(...arguments),this.removePointerDownListener=On}onPointerDown(t){this.session=new Ex(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:ab(t),onStart:ab(r),onMove:n,onEnd:(a,l)=>{delete this.session,i&&Wt.update(()=>i(a,l))}}}mount(){this.removePointerDownListener=Di(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function NB(){const e=V.useContext(Uu);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,i=V.useId();return V.useEffect(()=>n(i),[]),!t&&r?[!1,()=>r&&r(i)]:[!0]}function BB(){return UB(V.useContext(Uu))}function UB(e){return e===null?!0:e.isPresent}function sb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const cl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(et.test(e))e=parseFloat(e);else return e;const r=sb(e,t.target.x),n=sb(e,t.target.y);return`${r}% ${n}%`}},_x=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function $B(e){const t=_x.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function yg(e,t,r=1){const[n,i]=$B(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);return a?a.trim():ig(i)?yg(i,t,r+1):i}function jB(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(i=>{const a=i.get();if(!ig(a))return;const l=yg(a,n);l&&i.set(l)});for(const i in t){const a=t[i];if(!ig(a))continue;const l=yg(a,n);l&&(t[i]=l,r&&r[i]===void 0&&(r[i]=a))}return{target:t,transitionEnd:r}}const ob="_$css",zB={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=e.includes("var("),a=[];i&&(e=e.replace(_x,x=>(a.push(x),ob)));const l=Ca.parse(e);if(l.length>5)return n;const f=Ca.createTransformer(e),m=typeof l[0]!="number"?1:0,g=r.x.scale*t.x,E=r.y.scale*t.y;l[0+m]/=g,l[1+m]/=E;const w=tr(g,E,.5);typeof l[2+m]=="number"&&(l[2+m]/=w),typeof l[3+m]=="number"&&(l[3+m]/=w);let v=f(l);if(i){let x=0;v=v.replace(ob,()=>{const C=a[x];return x++,C})}return v}};class VB extends pn.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;H5(HB),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ul.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,l=n.projection;return l&&(l.isPresent=a,i||t.layoutDependency!==r||r===void 0?l.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?l.promote():l.relegate()||Wt.postRender(()=>{const f=l.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Ax(e){const[t,r]=NB(),n=V.useContext(ry);return pn.createElement(VB,{...e,layoutGroup:n,switchLayoutGroup:V.useContext(Lk),isPresent:t,safeToRemove:r})}const HB={borderRadius:{...cl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cl,borderTopRightRadius:cl,borderBottomLeftRadius:cl,borderBottomRightRadius:cl,boxShadow:zB};class GB{constructor(t){this.animations=t.filter(Boolean)}get currentTime(){return this.animations[0].currentTime}set currentTime(t){for(let r=0;r<this.animations.length;r++)this.animations[r].currentTime=t}stop(){this.animations.forEach(t=>t.stop())}}function KB(e,t,r={}){const n=ln(e)?e:go(e);return n.start(Ty("",n,t,r)),n.animation||new GB([])}const Rx=["TopLeft","TopRight","BottomLeft","BottomRight"],WB=Rx.length,lb=e=>typeof e=="string"?parseFloat(e):e,ub=e=>typeof e=="number"||et.test(e);function qB(e,t,r,n,i,a){i?(e.opacity=tr(0,r.opacity!==void 0?r.opacity:1,YB(n)),e.opacityExit=tr(t.opacity!==void 0?t.opacity:1,0,QB(n))):a&&(e.opacity=tr(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let l=0;l<WB;l++){const f=`border${Rx[l]}Radius`;let m=cb(t,f),g=cb(r,f);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||ub(m)===ub(g)?(e[f]=Math.max(tr(lb(m),lb(g),n),0),(mi.test(g)||mi.test(m))&&(e[f]+="%")):e[f]=g}(t.rotate||r.rotate)&&(e.rotate=tr(t.rotate||0,r.rotate||0,n))}function cb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const YB=Px(0,.5,by),QB=Px(.5,.95,On);function Px(e,t,r){return n=>n<e?0:n>t?1:r(ku(e,t,n))}function db(e,t){e.min=t.min,e.max=t.max}function Cn(e,t){db(e.x,t.x),db(e.y,t.y)}function fb(e,t,r,n,i){return e-=t,e=tf(e,1/r,n),i!==void 0&&(e=tf(e,1/i,n)),e}function XB(e,t=0,r=1,n=.5,i,a=e,l=e){if(mi.test(t)&&(t=parseFloat(t),t=tr(l.min,l.max,t/100)-l.min),typeof t!="number")return;let f=tr(a.min,a.max,n);e===a&&(f-=t),e.min=fb(e.min,t,r,f,i),e.max=fb(e.max,t,r,f,i)}function hb(e,t,[r,n,i],a,l){XB(e,t[r],t[n],t[i],t.scale,a,l)}const ZB=["x","scaleX","originX"],JB=["y","scaleY","originY"];function pb(e,t,r,n){hb(e.x,t,ZB,r?r.x:void 0,n?n.x:void 0),hb(e.y,t,JB,r?r.y:void 0,n?n.y:void 0)}function mb(e){return e.translate===0&&e.scale===1}function Lx(e){return mb(e.x)&&mb(e.y)}function Sg(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function gb(e){return Sn(e.x)/Sn(e.y)}class eU{constructor(){this.members=[]}add(t){dy(this.members,t),t.scheduleRender()}remove(t){if(fy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vb(e,t,r){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(n=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:m,rotateX:g,rotateY:E}=r;m&&(n+=`rotate(${m}deg) `),g&&(n+=`rotateX(${g}deg) `),E&&(n+=`rotateY(${E}deg) `)}const l=e.x.scale*t.x,f=e.y.scale*t.y;return(l!==1||f!==1)&&(n+=`scale(${l}, ${f})`),n||"none"}const tU=(e,t)=>e.depth-t.depth;class rU{constructor(){this.children=[],this.isDirty=!1}add(t){dy(this.children,t),this.isDirty=!0}remove(t){fy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(tU),this.isDirty=!1,this.children.forEach(t)}}function nU(e,t){const r=performance.now(),n=({timestamp:i})=>{const a=i-r;a>=t&&(xa.read(n),e(a-t))};return Wt.read(n,!0),()=>xa.read(n)}function iU(e){window.MotionDebug&&window.MotionDebug.record(e)}const yb=["","X","Y","Z"],Sb=1e3;let aU=0;const Ha={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Dx({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(l,f={},m=t==null?void 0:t()){this.id=aU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Ha.totalNodes=Ha.resolvedTargetDeltas=Ha.recalculatedProjection=0,this.nodes.forEach(lU),this.nodes.forEach(fU),this.nodes.forEach(hU),this.nodes.forEach(uU),iU(Ha)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=l,this.latestValues=f,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0,l&&this.root.registerPotentialNode(l,this);for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new rU)}addEventListener(l,f){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new hy),this.eventHandlers.get(l).add(f)}notifyListeners(l,...f){const m=this.eventHandlers.get(l);m&&m.notify(...f)}hasListeners(l){return this.eventHandlers.has(l)}registerPotentialNode(l,f){this.potentialNodes.set(l,f)}mount(l,f=!1){if(this.instance)return;this.isSVG=l instanceof SVGElement&&l.tagName!=="svg",this.instance=l;const{layoutId:m,layout:g,visualElement:E}=this.options;if(E&&!E.current&&E.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),f&&(g||m)&&(this.isLayoutDirty=!0),e){let w;const v=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=nU(v,250),Ul.hasAnimatedSinceResize&&(Ul.hasAnimatedSinceResize=!1,this.nodes.forEach(Eb))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&E&&(m||g)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:v,hasRelativeTargetChanged:x,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||E.getDefaultTransition()||yU,{onLayoutAnimationStart:I,onLayoutAnimationComplete:P}=E.getProps(),R=!this.targetLayout||!Sg(this.targetLayout,C)||x,A=!v&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||v&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,A);const M={...Sx(L,"layout"),onPlay:I,onComplete:P};(E.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else!v&&this.animationProgress===0&&Eb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xa.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pU),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let E=0;E<this.path.length;E++){const w=this.path[E];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bb);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(SU),this.potentialNodes.clear()),this.nodes.forEach(dU),this.nodes.forEach(sU),this.nodes.forEach(oU),this.clearAllSnapshots(),Pp.update(),Pp.preRender(),Pp.render())}clearAllSnapshots(){this.nodes.forEach(cU),this.sharedNodes.forEach(mU)}scheduleUpdateProjection(){Wt.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let f=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(f=!1),f&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform,f=this.projectionDelta&&!Lx(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,E=g!==this.prevTransformTemplateValue;l&&(f||Va(this.latestValues)||E)&&(i(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return l&&(m=this.removeTransform(m)),bU(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return gr();const f=l.measureViewportBox(),{scroll:m}=this.root;return m&&(na(f.x,m.offset.x),na(f.y,m.offset.y)),f}removeElementScroll(l){const f=gr();Cn(f,l);for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:E,options:w}=g;if(g!==this.root&&E&&w.layoutScroll){if(E.isRoot){Cn(f,l);const{scroll:v}=this.root;v&&(na(f.x,-v.offset.x),na(f.y,-v.offset.y))}na(f.x,E.offset.x),na(f.y,E.offset.y)}}return f}applyTransform(l,f=!1){const m=gr();Cn(m,l);for(let g=0;g<this.path.length;g++){const E=this.path[g];!f&&E.options.layoutScroll&&E.scroll&&E!==E.root&&Ws(m,{x:-E.scroll.offset.x,y:-E.scroll.offset.y}),Va(E.latestValues)&&Ws(m,E.latestValues)}return Va(this.latestValues)&&Ws(m,this.latestValues),m}removeTransform(l){const f=gr();Cn(f,l);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Va(g.latestValues))continue;gg(g.latestValues)&&g.updateSnapshot();const E=gr(),w=g.measurePageBox();Cn(E,w),pb(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,E)}return Va(this.latestValues)&&pb(f,this.latestValues),f}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(l=!1){var f;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const g=Boolean(this.resumingFrom)||this!==m;if(!(l||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:w,layoutId:v}=this.options;if(!(!this.layout||!(w||v))){if(this.resolvedRelativeTargetAt=qn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout?(this.relativeParent=x,this.relativeTarget=gr(),this.relativeTargetOrigin=gr(),Vl(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=gr(),this.targetWithTransforms=gr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.relativeParent.resolvedRelativeTargetAt!==qn.timestamp&&this.relativeParent.resolveTargetDelta(!0),SB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Cn(this.target,this.layout.layoutBox),xx(this.target,this.targetDelta)):Cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&Boolean(x.resumingFrom)===Boolean(this.resumingFrom)&&!x.options.layoutScroll&&x.target?(this.relativeParent=x,this.relativeTarget=gr(),this.relativeTargetOrigin=gr(),Vl(this.relativeTargetOrigin,this.target,x.target),Cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ha.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gg(this.parent.latestValues)||kx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const f=this.getLead(),m=Boolean(this.resumingFrom)||this!==f;let g=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(g=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===qn.timestamp&&(g=!1),g)return;const{layout:E,layoutId:w}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(E||w))return;Cn(this.layoutCorrected,this.layout.layoutBox),AB(this.layoutCorrected,this.treeScale,this.path,m);const{target:v}=f;if(!v)return;this.projectionDelta||(this.projectionDelta=Hl(),this.projectionDeltaWithTransform=Hl());const x=this.treeScale.x,C=this.treeScale.y,L=this.projectionTransform;zl(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=vb(this.projectionDelta,this.treeScale),(this.projectionTransform!==L||this.treeScale.x!==x||this.treeScale.y!==C)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Ha.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,f=!1){const m=this.snapshot,g=m?m.latestValues:{},E={...this.latestValues},w=Hl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const v=gr(),x=m?m.source:void 0,C=this.layout?this.layout.source:void 0,L=x!==C,I=this.getStack(),P=!I||I.members.length<=1,R=Boolean(L&&!P&&this.options.crossfade===!0&&!this.path.some(vU));this.animationProgress=0;let A;this.mixTargetDelta=M=>{const j=M/1e3;Tb(w.x,l.x,j),Tb(w.y,l.y,j),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vl(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gU(this.relativeTarget,this.relativeTargetOrigin,v,j),A&&Sg(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=gr()),Cn(A,this.relativeTarget)),L&&(this.animationValues=E,qB(E,g,this.latestValues,j,R,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xa.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Wt.update(()=>{Ul.hasAnimatedSinceResize=!0,this.currentAnimation=KB(0,Sb,{...l,onUpdate:f=>{this.mixTargetDelta(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Sb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:f,target:m,layout:g,latestValues:E}=l;if(!(!f||!m||!g)){if(this!==l&&this.layout&&g&&Ix(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||gr();const w=Sn(this.layout.layoutBox.x);m.x.min=l.target.x.min,m.x.max=m.x.min+w;const v=Sn(this.layout.layoutBox.y);m.y.min=l.target.y.min,m.y.max=m.y.min+v}Cn(f,m),Ws(f,E),zl(this.projectionDeltaWithTransform,this.layoutCorrected,f,E)}}registerSharedNode(l,f){this.sharedNodes.has(l)||this.sharedNodes.set(l,new eU),this.sharedNodes.get(l).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:f}=this.options;return f?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:f}=this.options;return f?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:f,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),l&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let f=!1;const{latestValues:m}=l;if((m.rotate||m.rotateX||m.rotateY||m.rotateZ)&&(f=!0),!f)return;const g={};for(let E=0;E<yb.length;E++){const w="rotate"+yb[E];m[w]&&(g[w]=m[w],l.setStaticValue(w,0))}l.render();for(const E in g)l.setStaticValue(E,g[E]);l.scheduleRender()}getProjectionStyles(l={}){var f,m;const g={};if(!this.instance||this.isSVG)return g;if(this.isVisible)g.visibility="";else return{visibility:"hidden"};const E=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=ld(l.pointerEvents)||"",g.transform=E?E(this.latestValues,""):"none",g;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const L={};return this.options.layoutId&&(L.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,L.pointerEvents=ld(l.pointerEvents)||""),this.hasProjected&&!Va(this.latestValues)&&(L.transform=E?E({},""):"none",this.hasProjected=!1),L}const v=w.animationValues||w.latestValues;this.applyTransformsToTarget(),g.transform=vb(this.projectionDeltaWithTransform,this.treeScale,v),E&&(g.transform=E(v,g.transform));const{x,y:C}=this.projectionDelta;g.transformOrigin=`${x.origin*100}% ${C.origin*100}% 0`,w.animationValues?g.opacity=w===this?(m=(f=v.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:g.opacity=w===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const L in Wd){if(v[L]===void 0)continue;const{correct:I,applyTo:P}=Wd[L],R=g.transform==="none"?v[L]:I(v[L],w);if(P){const A=P.length;for(let M=0;M<A;M++)g[P[M]]=R}else g[L]=R}return this.options.layoutId&&(g.pointerEvents=w===this?ld(l.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var f;return(f=l.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(bb),this.root.sharedNodes.clear()}}}function sU(e){e.updateLayout()}function oU(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,l=r.source!==e.layout.source;a==="size"?ri(w=>{const v=l?r.measuredBox[w]:r.layoutBox[w],x=Sn(v);v.min=n[w].min,v.max=v.min+x}):Ix(a,r.layoutBox,n)&&ri(w=>{const v=l?r.measuredBox[w]:r.layoutBox[w],x=Sn(n[w]);v.max=v.min+x});const f=Hl();zl(f,n,r.layoutBox);const m=Hl();l?zl(m,e.applyTransform(i,!0),r.measuredBox):zl(m,n,r.layoutBox);const g=!Lx(f);let E=!1;if(!e.resumeFrom){const w=e.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:v,layout:x}=w;if(v&&x){const C=gr();Vl(C,r.layoutBox,v.layoutBox);const L=gr();Vl(L,n,x.layoutBox),Sg(C,L)||(E=!0),w.options.layoutRoot&&(e.relativeTarget=L,e.relativeTargetOrigin=C,e.relativeParent=w)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:m,layoutDelta:f,hasLayoutChanged:g,hasRelativeTargetChanged:E})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function lU(e){Ha.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function uU(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function cU(e){e.clearSnapshot()}function bb(e){e.clearMeasurements()}function dU(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Eb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function fU(e){e.resolveTargetDelta()}function hU(e){e.calcProjection()}function pU(e){e.resetRotation()}function mU(e){e.removeLeadSnapshot()}function Tb(e,t,r){e.translate=tr(t.translate,0,r),e.scale=tr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function wb(e,t,r,n){e.min=tr(t.min,r.min,n),e.max=tr(t.max,r.max,n)}function gU(e,t,r,n){wb(e.x,t.x,r.x,n),wb(e.y,t.y,r.y,n)}function vU(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const yU={duration:.45,ease:[.4,0,.1,1]};function SU(e,t){let r=e.root;for(let a=e.path.length-1;a>=0;a--)if(Boolean(e.path[a].instance)){r=e.path[a];break}const i=(r&&r!==e.root?r.instance:document).querySelector(`[data-projection-id="${t}"]`);i&&e.mount(i,!0)}function kb(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function bU(e){kb(e.x),kb(e.y)}function Ix(e,t,r){return e==="position"||e==="preserve-aspect"&&!pg(gb(t),gb(r),.2)}const EU=Dx({attachResizeListener:(e,t)=>Ri(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jp={current:void 0},Ox=Dx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!jp.current){const e=new EU(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),jp.current=e}return jp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>Boolean(window.getComputedStyle(e).position==="fixed")}),TU={pan:{Feature:MB},drag:{Feature:FB,ProjectionNode:Ox,MeasureLayout:Ax}},wU=new Set(["width","height","top","left","right","bottom","x","y"]),Fx=e=>wU.has(e),kU=e=>Object.keys(e).some(Fx),xb=e=>e===ps||e===et,Cb=(e,t)=>parseFloat(e.split(", ")[t]),_b=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return Cb(i[1],t);{const a=n.match(/^matrix\((.+)\)$/);return a?Cb(a[1],e):0}},xU=new Set(["x","y","z"]),CU=qf.filter(e=>!xU.has(e));function _U(e){const t=[];return CU.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ab={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:_b(4,13),y:_b(5,14)},AU=(e,t,r)=>{const n=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:l}=a,f={};l==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(g=>{f[g]=Ab[g](n,a)}),t.render();const m=t.measureViewportBox();return r.forEach(g=>{const E=t.getValue(g);E&&E.jump(f[g]),e[g]=Ab[g](m,a)}),e},RU=(e,t,r={},n={})=>{t={...t},n={...n};const i=Object.keys(t).filter(Fx);let a=[],l=!1;const f=[];if(i.forEach(m=>{const g=e.getValue(m);if(!e.hasValue(m))return;let E=r[m],w=ul(E);const v=t[m];let x;if(Yd(v)){const C=v.length,L=v[0]===null?1:0;E=v[L],w=ul(E);for(let I=L;I<C;I++)x?Zd(ul(v[I])===x):x=ul(v[I])}else x=ul(v);if(w!==x)if(xb(w)&&xb(x)){const C=g.get();typeof C=="string"&&g.set(parseFloat(C)),typeof v=="string"?t[m]=parseFloat(v):Array.isArray(v)&&x===et&&(t[m]=v.map(parseFloat))}else w!=null&&w.transform&&(x!=null&&x.transform)&&(E===0||v===0)?E===0?g.set(x.transform(E)):t[m]=w.transform(v):(l||(a=_U(e),l=!0),f.push(m),n[m]=n[m]!==void 0?n[m]:t[m],g.jump(v))}),f.length){const m=f.indexOf("height")>=0?window.pageYOffset:null,g=AU(t,e,f);return a.length&&a.forEach(([E,w])=>{e.getValue(E).set(w)}),e.render(),Gf&&m!==null&&window.scrollTo({top:m}),{target:g,transitionEnd:n}}else return{target:t,transitionEnd:n}};function PU(e,t,r,n){return kU(t)?RU(e,t,r,n):{target:t,transitionEnd:n}}const LU=(e,t,r,n)=>{const i=jB(e,t,n);return t=i.target,n=i.transitionEnd,PU(e,t,r,n)},bg={current:null},Mx={current:!1};function DU(){if(Mx.current=!0,!!Gf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bg.current=e.matches;e.addListener(t),t()}else bg.current=!1}function IU(e,t,r){const{willChange:n}=t;for(const i in t){const a=t[i],l=r[i];if(ln(a))e.addValue(i,a),Xd(n)&&n.add(i);else if(ln(l))e.addValue(i,go(a,{owner:e})),Xd(n)&&n.remove(i);else if(l!==a)if(e.hasValue(i)){const f=e.getValue(i);!f.hasAnimated&&f.set(a)}else{const f=e.getStaticValue(i);e.addValue(i,go(f!==void 0?f:a,{owner:e}))}}for(const i in r)t[i]===void 0&&e.removeValue(i);return t}const Nx=Object.keys(Eu),OU=Nx.length,Rb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],FU=ey.length;class MU{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Wt.render(this.render,!1,!0);const{latestValues:f,renderState:m}=a;this.latestValues=f,this.baseTarget={...f},this.initialValues=r.initial?{...f}:{},this.renderState=m,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.isControllingVariants=Wf(r),this.isVariantNode=Pk(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:g,...E}=this.scrapeMotionValuesFromProps(r,{});for(const w in E){const v=E[w];f[w]!==void 0&&ln(v)&&(v.set(f[w],!1),Xd(g)&&g.add(w))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,this.projection&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Mx.current||DU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xa.update(this.notifyUpdate),xa.render(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=hs.has(t),i=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Wt.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,i,a,l){let f,m;for(let g=0;g<OU;g++){const E=Nx[g],{isEnabled:w,Feature:v,ProjectionNode:x,MeasureLayout:C}=Eu[E];x&&(f=x),w(r)&&(!this.features[E]&&v&&(this.features[E]=new v(this)),C&&(m=C))}if(!this.projection&&f){this.projection=new f(a,this.latestValues,this.parent&&this.parent.projection);const{layoutId:g,layout:E,drag:w,dragConstraints:v,layoutScroll:x,layoutRoot:C}=r;this.projection.setOptions({layoutId:g,layout:E,alwaysMeasureLayout:Boolean(w)||v&&Gs(v),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof E=="string"?E:"both",initialPromotionConfig:l,layoutScroll:x,layoutRoot:C})}return m}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update(this.props,this.prevProps):(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Rb.length;n++){const i=Rb[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=IU(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<FU;n++){const i=ey[n],a=this.props[i];(bu(a)||a===!1)&&(r[i]=a)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=go(r,{owner:this}),this.addValue(t,n)),n}readValue(t){return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=cy(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ln(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new hy),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Bx extends MU{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:i},a){let l=r3(n,t||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),l&&(l=i(l))),a){e3(this,n,l);const f=LU(this,n,l,r);r=f.transitionEnd,n=f.target}return{transition:t,transitionEnd:r,...n}}}function NU(e){return window.getComputedStyle(e)}class BU extends Bx{readValueFromInstance(t,r){if(hs.has(r)){const n=my(r);return n&&n.default||0}else{const n=NU(t),i=(Ok(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Cx(t,r)}build(t,r,n,i){iy(t,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,r){return uy(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ln(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,i){Uk(t,r,n,i)}}class UU extends Bx{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(hs.has(r)){const n=my(r);return n&&n.default||0}return r=$k.has(r)?r:ly(r),t.getAttribute(r)}measureInstanceViewportBox(){return gr()}scrapeMotionValuesFromProps(t,r){return zk(t,r)}build(t,r,n,i){sy(t,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,r,n,i){jk(t,r,n,i)}mount(t){this.isSVGTag=oy(t.tagName),super.mount(t)}}const $U=(e,t)=>ny(e)?new UU(t,{enableHardwareAcceleration:!1}):new BU(t,{enableHardwareAcceleration:!0}),jU={layout:{ProjectionNode:Ox,MeasureLayout:Ax}},zU={...mB,...I4,...TU,...jU},VU=z5((e,t)=>g4(e,t,zU,$U));function Ux(){const e=V.useRef(!1);return Kd(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function HU(){const e=Ux(),[t,r]=V.useState(0),n=V.useCallback(()=>{e.current&&r(t+1)},[t]);return[V.useCallback(()=>Wt.postRender(n),[n]),t]}class GU extends V.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function KU({children:e,isPresent:t}){const r=V.useId(),n=V.useRef(null),i=V.useRef({width:0,height:0,top:0,left:0});return V.useInsertionEffect(()=>{const{width:a,height:l,top:f,left:m}=i.current;if(t||!n.current||!a||!l)return;n.current.dataset.motionPopId=r;const g=document.createElement("style");return document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${f}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[t]),V.createElement(GU,{isPresent:t,childRef:n,sizeRef:i},V.cloneElement(e,{ref:n}))}const zp=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:l})=>{const f=ty(WU),m=V.useId(),g=V.useMemo(()=>({id:m,initial:t,isPresent:r,custom:i,onExitComplete:E=>{f.set(E,!0);for(const w of f.values())if(!w)return;n&&n()},register:E=>(f.set(E,!1),()=>f.delete(E))}),a?void 0:[r]);return V.useMemo(()=>{f.forEach((E,w)=>f.set(w,!1))},[r]),V.useEffect(()=>{!r&&!f.size&&n&&n()},[r]),l==="popLayout"&&(e=V.createElement(KU,{isPresent:r},e)),V.createElement(Uu.Provider,{value:g},e)};function WU(){return new Map}function qU(e){return V.useEffect(()=>()=>e(),[])}const Ds=e=>e.key||"";function YU(e,t){e.forEach(r=>{const n=Ds(r);t.set(n,r)})}function QU(e){const t=[];return V.Children.forEach(e,r=>{V.isValidElement(r)&&t.push(r)}),t}const XU=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:l="sync"})=>{let[f]=HU();const m=V.useContext(ry).forceRender;m&&(f=m);const g=Ux(),E=QU(e);let w=E;const v=new Set,x=V.useRef(w),C=V.useRef(new Map).current,L=V.useRef(!0);if(Kd(()=>{L.current=!1,YU(E,C),x.current=w}),qU(()=>{L.current=!0,C.clear(),v.clear()}),L.current)return V.createElement(V.Fragment,null,w.map(A=>V.createElement(zp,{key:Ds(A),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:a,mode:l},A)));w=[...w];const I=x.current.map(Ds),P=E.map(Ds),R=I.length;for(let A=0;A<R;A++){const M=I[A];P.indexOf(M)===-1&&v.add(M)}return l==="wait"&&v.size&&(w=[]),v.forEach(A=>{if(P.indexOf(A)!==-1)return;const M=C.get(A);if(!M)return;const j=I.indexOf(A),$=()=>{C.delete(A),v.delete(A);const B=x.current.findIndex(K=>K.key===A);if(x.current.splice(B,1),!v.size){if(x.current=E,g.current===!1)return;f(),n&&n()}};w.splice(j,0,V.createElement(zp,{key:Ds(M),isPresent:!1,onExitComplete:$,custom:t,presenceAffectsLayout:a,mode:l},M))}),w=w.map(A=>{const M=A.key;return v.has(M)?A:V.createElement(zp,{key:Ds(A),isPresent:!0,presenceAffectsLayout:a,mode:l},A)}),V.createElement(V.Fragment,null,v.size?w:w.map(A=>V.cloneElement(A)))};var ZU={initial:e=>{const{position:t}=e,r=["top","bottom"].includes(t)?"y":"x";let n=["top-right","bottom-right"].includes(t)?1:-1;return t==="bottom"&&(n=1),{opacity:0,[r]:n*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},$x=V.memo(e=>{const{id:t,message:r,onCloseComplete:n,onRequestRemove:i,requestClose:a=!1,position:l="bottom",duration:f=5e3,containerStyle:m,motionVariants:g=ZU,toastSpacing:E="0.5rem"}=e,[w,v]=V.useState(f),x=BB();CS(()=>{x||n==null||n()},[x]),CS(()=>{v(f)},[f]);const C=()=>v(null),L=()=>v(f),I=()=>{x&&i()};V.useEffect(()=>{x&&a&&i()},[x,a,i]),L5(I,w);const P=V.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:E,...m}),[m,E]),R=V.useMemo(()=>A5(l),[l]);return we(VU.li,{layout:!0,className:"chakra-toast",variants:g,initial:"initial",animate:"animate",exit:"exit",onHoverStart:C,onHoverEnd:L,custom:{position:l},style:R,children:we(ir.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:P,children:li(r,{id:t,onClose:I})})})});$x.displayName="ToastComponent";function JU(e,t){var r;const n=e??"bottom",a={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[n];return(r=a==null?void 0:a[t])!=null?r:n}var Pb={path:jr("g",{stroke:"currentColor",strokeWidth:"1.5",children:[we("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),we("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),we("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Vu=un((e,t)=>{const{as:r,viewBox:n,color:i="currentColor",focusable:a=!1,children:l,className:f,__css:m,...g}=e,E=Qn("chakra-icon",f),w=Bu("Icon",e),v={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...m,...w},x={ref:t,focusable:a,className:E,__css:v},C=n??Pb.viewBox;if(r&&typeof r!="string")return we(ir.svg,{as:r,...x,...g});const L=l??Pb.path;return we(ir.svg,{verticalAlign:"middle",viewBox:C,...x,...g,children:L})});Vu.displayName="Icon";function e8(e){return we(Vu,{viewBox:"0 0 24 24",...e,children:we("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function t8(e){return we(Vu,{viewBox:"0 0 24 24",...e,children:we("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function Lb(e){return we(Vu,{viewBox:"0 0 24 24",...e,children:we("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var r8=YP({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Hu=un((e,t)=>{const r=Bu("Spinner",e),{label:n="Loading...",thickness:i="2px",speed:a="0.45s",emptyColor:l="transparent",className:f,...m}=Mu(e),g=Qn("chakra-spinner",f),E={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:l,borderLeftColor:l,animation:`${r8} ${a} linear infinite`,...r};return we(ir.div,{ref:t,__css:E,className:g,...m,children:n&&we(ir.span,{srOnly:!0,children:n})})});Hu.displayName="Spinner";var[n8,i8]=Co({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[a8,wy]=Co({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),jx={info:{icon:t8,colorScheme:"blue"},warning:{icon:Lb,colorScheme:"orange"},success:{icon:e8,colorScheme:"green"},error:{icon:Lb,colorScheme:"red"},loading:{icon:Hu,colorScheme:"blue"}};function s8(e){return jx[e].colorScheme}function o8(e){return jx[e].icon}var zx=un(function(t,r){const i={display:"inline",...wy().description};return we(ir.div,{ref:r,...t,className:Qn("chakra-alert__desc",t.className),__css:i})});zx.displayName="AlertDescription";function Vx(e){const{status:t}=i8(),r=o8(t),n=wy(),i=t==="loading"?n.spinner:n.icon;return we(ir.span,{display:"inherit",...e,className:Qn("chakra-alert__icon",e.className),__css:i,children:e.children||we(r,{h:"100%",w:"100%"})})}Vx.displayName="AlertIcon";var Hx=un(function(t,r){const n=wy();return we(ir.div,{ref:r,...t,className:Qn("chakra-alert__title",t.className),__css:n.title})});Hx.displayName="AlertTitle";var Gx=un(function(t,r){var n;const{status:i="info",addRole:a=!0,...l}=Mu(t),f=(n=t.colorScheme)!=null?n:s8(i),m=o5("Alert",{...t,colorScheme:f}),g={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...m.container};return we(n8,{value:{status:i},children:we(a8,{value:m,children:we(ir.div,{role:a?"alert":void 0,ref:r,...l,className:Qn("chakra-alert",t.className),__css:g})})})});Gx.displayName="Alert";function l8(e){return we(Vu,{focusable:"false","aria-hidden":!0,...e,children:we("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var Kx=un(function(t,r){const n=Bu("CloseButton",t),{children:i,isDisabled:a,__css:l,...f}=Mu(t),m={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return we(ir.button,{type:"button","aria-label":"Close",ref:r,disabled:a,__css:{...m,...n,...l},...f,children:i||we(l8,{width:"1em",height:"1em"})})});Kx.displayName="CloseButton";var u8={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},oi=c8(u8);function c8(e){let t=e;const r=new Set,n=i=>{t=i(t),r.forEach(a=>a())};return{getState:()=>t,subscribe:i=>(r.add(i),()=>{n(()=>e),r.delete(i)}),removeToast:(i,a)=>{n(l=>({...l,[a]:l[a].filter(f=>f.id!=i)}))},notify:(i,a)=>{const l=d8(i,a),{position:f,id:m}=l;return n(g=>{var E,w;const x=f.includes("top")?[l,...(E=g[f])!=null?E:[]]:[...(w=g[f])!=null?w:[],l];return{...g,[f]:x}}),m},update:(i,a)=>{i&&n(l=>{const f={...l},{position:m,index:g}=xS(f,i);return m&&g!==-1&&(f[m][g]={...f[m][g],...a,message:Wx(a)}),f})},closeAll:({positions:i}={})=>{n(a=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((m,g)=>(m[g]=a[g].map(E=>({...E,requestClose:!0})),m),{...a}))},close:i=>{n(a=>{const l=_k(a,i);return l?{...a,[l]:a[l].map(f=>f.id==i?{...f,requestClose:!0}:f)}:a})},isActive:i=>Boolean(xS(oi.getState(),i).position)}}var Db=0;function d8(e,t={}){var r,n;Db+=1;const i=(r=t.id)!=null?r:Db,a=(n=t.position)!=null?n:"bottom";return{id:i,message:e,position:a,duration:t.duration,onCloseComplete:t.onCloseComplete,onRequestRemove:()=>oi.removeToast(String(i),a),status:t.status,requestClose:!1,containerStyle:t.containerStyle}}var f8=e=>{const{status:t,variant:r="solid",id:n,title:i,isClosable:a,onClose:l,description:f,icon:m}=e,g=n?{root:`toast-${n}`,title:`toast-${n}-title`,description:`toast-${n}-description`}:void 0;return jr(Gx,{addRole:!1,status:t,variant:r,id:g==null?void 0:g.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",children:[we(Vx,{children:m}),jr(ir.div,{flex:"1",maxWidth:"100%",children:[i&&we(Hx,{id:g==null?void 0:g.title,children:i}),f&&we(zx,{id:g==null?void 0:g.description,display:"block",children:f})]}),a&&we(Kx,{size:"sm",onClick:l,position:"absolute",insetEnd:1,top:1})]})};function Wx(e={}){const{render:t,toastComponent:r=f8}=e;return i=>typeof t=="function"?t({...i,...e}):we(r,{...i,...e})}function h8(e,t){const r=i=>{var a;return{...t,...i,position:JU((a=i==null?void 0:i.position)!=null?a:t==null?void 0:t.position,e)}},n=i=>{const a=r(i),l=Wx(a);return oi.notify(l,a)};return n.update=(i,a)=>{oi.update(i,r(a))},n.promise=(i,a)=>{const l=n({...a.loading,status:"loading",duration:null});i.then(f=>n.update(l,{status:"success",duration:5e3,...li(a.success,f)})).catch(f=>n.update(l,{status:"error",duration:5e3,...li(a.error,f)}))},n.closeAll=oi.closeAll,n.close=oi.close,n.isActive=oi.isActive,n}var[p8,m8]=Co({name:"ToastOptionsContext",strict:!1}),g8=e=>{const t=V.useSyncExternalStore(oi.subscribe,oi.getState,oi.getState),{motionVariants:r,component:n=$x,portalProps:i}=e,l=Object.keys(t).map(f=>{const m=t[f];return we("ul",{role:"region","aria-live":"polite",id:`chakra-toast-manager-${f}`,style:R5(f),children:we(XU,{initial:!1,children:m.map(g=>we(n,{motionVariants:r,...g},g.id))})},f)});return we(Uf,{...i,children:l})};function v8(e){const{theme:t}=Yw(),r=m8();return V.useMemo(()=>h8(t.direction,{...r,...e}),[e,t.direction,r])}var y8=e=>function({children:r,theme:n=e,toastOptions:i,...a}){return jr(C5,{theme:n,...a,children:[we(p8,{value:i==null?void 0:i.defaultOptions,children:r}),we(g8,{...i})]})},S8=y8(vk);function b8(e,t){if(e!=null){if(typeof e=="function"){e(t);return}try{e.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}}}function E8(...e){return t=>{e.forEach(r=>{b8(r,t)})}}function T8(...e){return V.useMemo(()=>E8(...e),e)}var Eg=un(function(t,r){const{htmlWidth:n,htmlHeight:i,alt:a,...l}=t;return we("img",{width:n,height:i,ref:r,alt:a,...l})});Eg.displayName="NativeImage";function w8(e){const{loading:t,src:r,srcSet:n,onLoad:i,onError:a,crossOrigin:l,sizes:f,ignoreFallback:m}=e,[g,E]=V.useState("pending");V.useEffect(()=>{E(r?"loading":"pending")},[r]);const w=V.useRef(),v=V.useCallback(()=>{if(!r)return;x();const C=new Image;C.src=r,l&&(C.crossOrigin=l),n&&(C.srcset=n),f&&(C.sizes=f),t&&(C.loading=t),C.onload=L=>{x(),E("loaded"),i==null||i(L)},C.onerror=L=>{x(),E("failed"),a==null||a(L)},w.current=C},[r,l,n,f,i,a,t]),x=()=>{w.current&&(w.current.onload=null,w.current.onerror=null,w.current=null)};return gu(()=>{if(!m)return g==="loading"&&v(),()=>{x()}},[g,v,m]),m?"loaded":g}var k8=(e,t)=>e!=="loaded"&&t==="beforeLoadOrError"||e==="failed"&&t==="onError";function x8(e,t=[]){const r=Object.assign({},e);for(const n of t)n in r&&delete r[n];return r}var ky=un(function(t,r){const{fallbackSrc:n,fallback:i,src:a,srcSet:l,align:f,fit:m,loading:g,ignoreFallback:E,crossOrigin:w,fallbackStrategy:v="beforeLoadOrError",referrerPolicy:x,...C}=t,L=n!==void 0||i!==void 0,I=g!=null||E||!L,P=w8({...t,ignoreFallback:I}),R=k8(P,v),A={ref:r,objectFit:m,objectPosition:f,...I?C:x8(C,["onError","onLoad"])};return R?i||we(ir.img,{as:Eg,className:"chakra-image__placeholder",src:n,...A}):we(ir.img,{as:Eg,src:a,srcSet:l,crossOrigin:w,loading:g,referrerPolicy:x,className:"chakra-image",...A})});ky.displayName="Image";function C8(e){return V.Children.toArray(e).filter(t=>V.isValidElement(t))}var[S9,_8]=Co({strict:!1,name:"ButtonGroupContext"});function A8(e){const[t,r]=V.useState(!e);return{ref:V.useCallback(a=>{a&&r(a.tagName==="BUTTON")},[]),type:t?"button":void 0}}function Tg(e){const{children:t,className:r,...n}=e,i=V.isValidElement(t)?V.cloneElement(t,{"aria-hidden":!0,focusable:!1}):t,a=Qn("chakra-button__icon",r);return we(ir.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...n,className:a,children:i})}Tg.displayName="ButtonIcon";function wg(e){const{label:t,placement:r,spacing:n="0.5rem",children:i=we(Hu,{color:"currentColor",width:"1em",height:"1em"}),className:a,__css:l,...f}=e,m=Qn("chakra-button__spinner",a),g=r==="start"?"marginEnd":"marginStart",E=V.useMemo(()=>({display:"flex",alignItems:"center",position:t?"relative":"absolute",[g]:t?n:0,fontSize:"1em",lineHeight:"normal",...l}),[l,t,g,n]);return we(ir.div,{className:m,...f,__css:E,children:i})}wg.displayName="ButtonSpinner";var qx=un((e,t)=>{const r=_8(),n=Bu("Button",{...r,...e}),{isDisabled:i=r==null?void 0:r.isDisabled,isLoading:a,isActive:l,children:f,leftIcon:m,rightIcon:g,loadingText:E,iconSpacing:w="0.5rem",type:v,spinner:x,spinnerPlacement:C="start",className:L,as:I,...P}=Mu(e),R=V.useMemo(()=>{const $={...n==null?void 0:n._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...n,...!!r&&{_focus:$}}},[n,r]),{ref:A,type:M}=A8(I),j={rightIcon:g,leftIcon:m,iconSpacing:w,children:f};return jr(ir.button,{ref:T8(t,A),as:I,type:v??M,"data-active":F1(l),"data-loading":F1(a),__css:R,className:Qn("chakra-button",L),...P,disabled:i||a,children:[a&&C==="start"&&we(wg,{className:"chakra-button__spinner--start",label:E,placement:"start",spacing:w,children:x}),a?E||we(ir.span,{opacity:0,children:we(Ib,{...j})}):we(Ib,{...j}),a&&C==="end"&&we(wg,{className:"chakra-button__spinner--end",label:E,placement:"end",spacing:w,children:x})]})});qx.displayName="Button";function Ib(e){const{leftIcon:t,rightIcon:r,children:n,iconSpacing:i}=e;return jr(Pu,{children:[t&&we(Tg,{marginEnd:i,children:t}),n,r&&we(Tg,{marginStart:i,children:r})]})}var R8=QN?V.useLayoutEffect:V.useEffect;function Ob(e,t=[]){const r=V.useRef(e);return R8(()=>{r.current=e}),V.useCallback((...n)=>{var i;return(i=r.current)==null?void 0:i.call(r,...n)},t)}function P8(e,t){const r=V.useId();return V.useMemo(()=>e||[t,r].filter(Boolean).join("-"),[e,t,r])}function L8(e,t){const r=e!==void 0;return[r,r&&typeof e<"u"?e:t]}function Yx(e={}){const{onClose:t,onOpen:r,isOpen:n,id:i}=e,a=Ob(r),l=Ob(t),[f,m]=V.useState(e.defaultIsOpen||!1),[g,E]=L8(n,f),w=P8(i,"disclosure"),v=V.useCallback(()=>{g||m(!1),l==null||l()},[g,l]),x=V.useCallback(()=>{g||m(!0),a==null||a()},[g,a]),C=V.useCallback(()=>{(E?v:x)()},[E,x,v]);return{isOpen:!!E,onOpen:x,onClose:v,onToggle:C,isControlled:g,getButtonProps:(L={})=>({...L,"aria-expanded":E,"aria-controls":w,onClick:t5(L.onClick,C)}),getDisclosureProps:(L={})=>({...L,hidden:!E,id:w})}}function Qx(e,t){return Array.isArray(e)?e.map(r=>r===null?null:t(r)):sn(e)?Object.keys(e).reduce((r,n)=>(r[n]=t(e[n]),r),{}):e!=null?t(e):null}var xy=un(function(t,r){const n=Bu("Text",t),{className:i,align:a,decoration:l,casing:f,...m}=Mu(t),g=d5({textAlign:t.align,textDecoration:t.decoration,textTransform:t.casing});return we(ir.p,{ref:r,className:Qn("chakra-text",t.className),...g,...m,__css:n})});xy.displayName="Text";var Xx=e=>we(ir.div,{className:"chakra-stack__item",...e,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...e.__css}});Xx.displayName="StackItem";var kg="& > *:not(style) ~ *:not(style)";function D8(e){const{spacing:t,direction:r}=e,n={column:{marginTop:t,marginEnd:0,marginBottom:0,marginStart:0},row:{marginTop:0,marginEnd:0,marginBottom:0,marginStart:t},"column-reverse":{marginTop:0,marginEnd:0,marginBottom:t,marginStart:0},"row-reverse":{marginTop:0,marginEnd:t,marginBottom:0,marginStart:0}};return{flexDirection:r,[kg]:Qx(r,i=>n[i])}}function I8(e){const{spacing:t,direction:r}=e,n={column:{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":Qx(r,i=>n[i])}}var Cy=un((e,t)=>{const{isInline:r,direction:n,align:i,justify:a,spacing:l="0.5rem",wrap:f,children:m,divider:g,className:E,shouldWrapChildren:w,...v}=e,x=r?"row":n??"column",C=V.useMemo(()=>D8({direction:x,spacing:l}),[x,l]),L=V.useMemo(()=>I8({spacing:l,direction:x}),[l,x]),I=!!g,P=!w&&!I,R=V.useMemo(()=>{const M=C8(m);return P?M:M.map((j,$)=>{const B=typeof j.key<"u"?j.key:$,K=$+1===M.length,ye=w?we(Xx,{children:j},B):j;if(!I)return ye;const ie=V.cloneElement(g,{__css:L}),N=K?null:ie;return jr(V.Fragment,{children:[ye,N]},B)})},[g,L,I,P,w,m]),A=Qn("chakra-stack",E);return we(ir.div,{ref:t,display:"flex",alignItems:i,justifyContent:a,flexDirection:C.flexDirection,flexWrap:f,className:A,__css:I?{}:{[kg]:C[kg]},...v,children:R})});Cy.displayName="Stack";var Zf=ir("div");Zf.displayName="Box";var Zx=un(function(t,r){const{size:n,centerContent:i=!0,...a}=t;return we(Zf,{ref:r,boxSize:n,__css:{...i?{display:"flex",alignItems:"center",justifyContent:"center"}:{},flexShrink:0,flexGrow:0},...a})});Zx.displayName="Square";var O8=un(function(t,r){const{size:n,...i}=t;return we(Zx,{size:n,ref:r,borderRadius:"9999px",...i})});O8.displayName="Circle";var _o=ir("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});_o.displayName="Center";var F8={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};un(function(t,r){const{axis:n="both",...i}=t;return we(ir.div,{ref:r,__css:F8[n],...i,position:"absolute"})});class Gu{constructor(){this.listeners=[],this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.push(t),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(r=>r!==t),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const xu=typeof window>"u"||"Deno"in window;function An(){}function M8(e,t){return typeof e=="function"?e(t):e}function xg(e){return typeof e=="number"&&e>=0&&e!==1/0}function Jx(e,t){return Math.max(e+(t||0)-Date.now(),0)}function wl(e,t,r){return Jf(e)?typeof t=="function"?{...r,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function ia(e,t,r){return Jf(e)?[{...t,queryKey:e},r]:[e||{},t]}function Fb(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:l,stale:f}=e;if(Jf(l)){if(n){if(t.queryHash!==_y(l,t.options))return!1}else if(!rf(t.queryKey,l))return!1}if(r!=="all"){const m=t.isActive();if(r==="active"&&!m||r==="inactive"&&m)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||typeof i<"u"&&i!==t.state.fetchStatus||a&&!a(t))}function Mb(e,t){const{exact:r,fetching:n,predicate:i,mutationKey:a}=e;if(Jf(a)){if(!t.options.mutationKey)return!1;if(r){if(Za(t.options.mutationKey)!==Za(a))return!1}else if(!rf(t.options.mutationKey,a))return!1}return!(typeof n=="boolean"&&t.state.status==="loading"!==n||i&&!i(t))}function _y(e,t){return((t==null?void 0:t.queryKeyHashFn)||Za)(e)}function Za(e){return JSON.stringify(e,(t,r)=>Cg(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function rf(e,t){return eC(e,t)}function eC(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!eC(e[r],t[r])):!1}function tC(e,t){if(e===t)return e;const r=Bb(e)&&Bb(t);if(r||Cg(e)&&Cg(t)){const n=r?e.length:Object.keys(e).length,i=r?t:Object.keys(t),a=i.length,l=r?[]:{};let f=0;for(let m=0;m<a;m++){const g=r?m:i[m];l[g]=tC(e[g],t[g]),l[g]===e[g]&&f++}return n===a&&f===n?e:l}return t}function Nb(e,t){if(e&&!t||t&&!e)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Bb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Cg(e){if(!Ub(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const r=t.prototype;return!(!Ub(r)||!r.hasOwnProperty("isPrototypeOf"))}function Ub(e){return Object.prototype.toString.call(e)==="[object Object]"}function Jf(e){return Array.isArray(e)}function rC(e){return new Promise(t=>{setTimeout(t,e)})}function $b(e){rC(0).then(e)}function N8(){if(typeof AbortController=="function")return new AbortController}function _g(e,t,r){return r.isDataEqual!=null&&r.isDataEqual(e,t)?e:typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?tC(e,t):t}class B8 extends Gu{constructor(){super(),this.setup=t=>{if(!xu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",r,!1),()=>{window.removeEventListener("visibilitychange",r),window.removeEventListener("focus",r)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var r;this.setup=t,(r=this.cleanup)==null||r.call(this),this.cleanup=t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(t){this.focused=t,t&&this.onFocus()}onFocus(){this.listeners.forEach(t=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const nf=new B8;class U8 extends Gu{constructor(){super(),this.setup=t=>{if(!xu&&window.addEventListener){const r=()=>t();return window.addEventListener("online",r,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",r)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var r;this.setup=t,(r=this.cleanup)==null||r.call(this),this.cleanup=t(n=>{typeof n=="boolean"?this.setOnline(n):this.onOnline()})}setOnline(t){this.online=t,t&&this.onOnline()}onOnline(){this.listeners.forEach(t=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const af=new U8;function $8(e){return Math.min(1e3*2**e,3e4)}function eh(e){return(e??"online")==="online"?af.isOnline():!0}class nC{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function ud(e){return e instanceof nC}function iC(e){let t=!1,r=0,n=!1,i,a,l;const f=new Promise((I,P)=>{a=I,l=P}),m=I=>{n||(x(new nC(I)),e.abort==null||e.abort())},g=()=>{t=!0},E=()=>{t=!1},w=()=>!nf.isFocused()||e.networkMode!=="always"&&!af.isOnline(),v=I=>{n||(n=!0,e.onSuccess==null||e.onSuccess(I),i==null||i(),a(I))},x=I=>{n||(n=!0,e.onError==null||e.onError(I),i==null||i(),l(I))},C=()=>new Promise(I=>{i=P=>{const R=n||!w();return R&&I(P),R},e.onPause==null||e.onPause()}).then(()=>{i=void 0,n||e.onContinue==null||e.onContinue()}),L=()=>{if(n)return;let I;try{I=e.fn()}catch(P){I=Promise.reject(P)}Promise.resolve(I).then(v).catch(P=>{var R,A;if(n)return;const M=(R=e.retry)!=null?R:3,j=(A=e.retryDelay)!=null?A:$8,$=typeof j=="function"?j(r,P):j,B=M===!0||typeof M=="number"&&r<M||typeof M=="function"&&M(r,P);if(t||!B){x(P);return}r++,e.onFail==null||e.onFail(r,P),rC($).then(()=>{if(w())return C()}).then(()=>{t?x(P):L()})})};return eh(e.networkMode)?L():C().then(L),{promise:f,cancel:m,continue:()=>(i==null?void 0:i())?f:Promise.resolve(),cancelRetry:g,continueRetry:E}}const Ay=console;function j8(){let e=[],t=0,r=E=>{E()},n=E=>{E()};const i=E=>{let w;t++;try{w=E()}finally{t--,t||f()}return w},a=E=>{t?e.push(E):$b(()=>{r(E)})},l=E=>(...w)=>{a(()=>{E(...w)})},f=()=>{const E=e;e=[],E.length&&$b(()=>{n(()=>{E.forEach(w=>{r(w)})})})};return{batch:i,batchCalls:l,schedule:a,setNotifyFunction:E=>{r=E},setBatchNotifyFunction:E=>{n=E}}}const yr=j8();class aC{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xg(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(xu?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class z8 extends aC{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||Ay,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||V8(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,r){const n=_g(this.state.data,t,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){this.dispatch({type:"setState",state:t,setStateOptions:r})}cancel(t){var r;const n=this.promise;return(r=this.retryer)==null||r.cancel(t),n?n.then(An).catch(An):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Jx(this.state.dataUpdatedAt,t)}onFocus(){var t;const r=this.observers.find(n=>n.shouldFetchOnWindowFocus());r&&r.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const r=this.observers.find(n=>n.shouldFetchOnReconnect());r&&r.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.indexOf(t)===-1&&(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.indexOf(t)!==-1&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,r){var n,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&r!=null&&r.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return(a=this.retryer)==null||a.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(C=>C.options.queryFn);x&&this.setOptions(x.options)}Array.isArray(this.options.queryKey);const l=N8(),f={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},m=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>{if(l)return this.abortSignalConsumed=!0,l.signal}})};m(f);const g=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(f)):Promise.reject("Missing queryFn"),E={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:g};if(m(E),(n=this.options.behavior)==null||n.onFetch(E),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=E.fetchOptions)==null?void 0:i.meta)){var w;this.dispatch({type:"fetch",meta:(w=E.fetchOptions)==null?void 0:w.meta})}const v=x=>{if(ud(x)&&x.silent||this.dispatch({type:"error",error:x}),!ud(x)){var C,L,I,P;(C=(L=this.cache.config).onError)==null||C.call(L,x,this),(I=(P=this.cache.config).onSettled)==null||I.call(P,this.state.data,x,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=iC({fn:E.fetchFn,abort:l==null?void 0:l.abort.bind(l),onSuccess:x=>{var C,L,I,P;if(typeof x>"u"){v(new Error("undefined"));return}this.setData(x),(C=(L=this.cache.config).onSuccess)==null||C.call(L,x,this),(I=(P=this.cache.config).onSettled)==null||I.call(P,x,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:v,onFail:(x,C)=>{this.dispatch({type:"failed",failureCount:x,error:C})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:E.options.retry,retryDelay:E.options.retryDelay,networkMode:E.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const r=n=>{var i,a;switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=t.meta)!=null?i:null,fetchStatus:eh(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(a=t.dataUpdatedAt)!=null?a:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const l=t.error;return ud(l)&&l.revert&&this.revertState?{...this.revertState}:{...n,error:l,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),yr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function V8(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=typeof t<"u",n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}class H8 extends Gu{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,r,n){var i;const a=r.queryKey,l=(i=r.queryHash)!=null?i:_y(a,r);let f=this.get(l);return f||(f=new z8({cache:this,logger:t.getLogger(),queryKey:a,queryHash:l,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(f)),f}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const r=this.queriesMap[t.queryHash];r&&(t.destroy(),this.queries=this.queries.filter(n=>n!==t),r===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){yr.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,r){const[n]=ia(t,r);return typeof n.exact>"u"&&(n.exact=!0),this.queries.find(i=>Fb(n,i))}findAll(t,r){const[n]=ia(t,r);return Object.keys(n).length>0?this.queries.filter(i=>Fb(n,i)):this.queries}notify(t){yr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){yr.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){yr.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class G8 extends aC{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||Ay,this.observers=[],this.state=t.state||K8(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.indexOf(t)===-1&&(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(r=>r!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,r;return(t=(r=this.retryer)==null?void 0:r.continue())!=null?t:this.execute()}async execute(){const t=()=>{var B;return this.retryer=iC({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(K,ce)=>{this.dispatch({type:"failed",failureCount:K,error:ce})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(B=this.options.retry)!=null?B:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},r=this.state.status==="loading";try{var n,i,a,l,f,m,g,E;if(!r){var w,v,x,C;this.dispatch({type:"loading",variables:this.options.variables}),await((w=(v=this.mutationCache.config).onMutate)==null?void 0:w.call(v,this.state.variables,this));const K=await((x=(C=this.options).onMutate)==null?void 0:x.call(C,this.state.variables));K!==this.state.context&&this.dispatch({type:"loading",context:K,variables:this.state.variables})}const B=await t();return await((n=(i=this.mutationCache.config).onSuccess)==null?void 0:n.call(i,B,this.state.variables,this.state.context,this)),await((a=(l=this.options).onSuccess)==null?void 0:a.call(l,B,this.state.variables,this.state.context)),await((f=(m=this.mutationCache.config).onSettled)==null?void 0:f.call(m,B,null,this.state.variables,this.state.context,this)),await((g=(E=this.options).onSettled)==null?void 0:g.call(E,B,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:B}),B}catch(B){try{var L,I,P,R,A,M,j,$;throw await((L=(I=this.mutationCache.config).onError)==null?void 0:L.call(I,B,this.state.variables,this.state.context,this)),await((P=(R=this.options).onError)==null?void 0:P.call(R,B,this.state.variables,this.state.context)),await((A=(M=this.mutationCache.config).onSettled)==null?void 0:A.call(M,void 0,B,this.state.variables,this.state.context,this)),await((j=($=this.options).onSettled)==null?void 0:j.call($,void 0,B,this.state.variables,this.state.context)),B}finally{this.dispatch({type:"error",error:B})}}}dispatch(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"loading":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!eh(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...n,...t.state}}};this.state=r(this.state),yr.batch(()=>{this.observers.forEach(n=>{n.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function K8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class W8 extends Gu{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,r,n){const i=new G8({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(r),state:n,defaultOptions:r.mutationKey?t.getMutationDefaults(r.mutationKey):void 0});return this.add(i),i}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(r=>r!==t),this.notify({type:"removed",mutation:t})}clear(){yr.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(r=>Mb(t,r))}findAll(t){return this.mutations.filter(r=>Mb(t,r))}notify(t){yr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const r=this.mutations.filter(n=>n.state.isPaused);return yr.batch(()=>r.reduce((n,i)=>n.then(()=>i.continue().catch(An)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function q8(){return{onFetch:e=>{e.fetchFn=()=>{var t,r,n,i,a,l;const f=(t=e.fetchOptions)==null||(r=t.meta)==null?void 0:r.refetchPage,m=(n=e.fetchOptions)==null||(i=n.meta)==null?void 0:i.fetchMore,g=m==null?void 0:m.pageParam,E=(m==null?void 0:m.direction)==="forward",w=(m==null?void 0:m.direction)==="backward",v=((a=e.state.data)==null?void 0:a.pages)||[],x=((l=e.state.data)==null?void 0:l.pageParams)||[];let C=x,L=!1;const I=$=>{Object.defineProperty($,"signal",{enumerable:!0,get:()=>{var B;if((B=e.signal)!=null&&B.aborted)L=!0;else{var K;(K=e.signal)==null||K.addEventListener("abort",()=>{L=!0})}return e.signal}})},P=e.options.queryFn||(()=>Promise.reject("Missing queryFn")),R=($,B,K,ce)=>(C=ce?[B,...C]:[...C,B],ce?[K,...$]:[...$,K]),A=($,B,K,ce)=>{if(L)return Promise.reject("Cancelled");if(typeof K>"u"&&!B&&$.length)return Promise.resolve($);const ye={queryKey:e.queryKey,pageParam:K,meta:e.options.meta};I(ye);const ie=P(ye);return Promise.resolve(ie).then(Z=>R($,K,Z,ce))};let M;if(!v.length)M=A([]);else if(E){const $=typeof g<"u",B=$?g:jb(e.options,v);M=A(v,$,B)}else if(w){const $=typeof g<"u",B=$?g:Y8(e.options,v);M=A(v,$,B,!0)}else{C=[];const $=typeof e.options.getNextPageParam>"u";M=(f&&v[0]?f(v[0],0,v):!0)?A([],$,x[0]):Promise.resolve(R([],x[0],v[0]));for(let K=1;K<v.length;K++)M=M.then(ce=>{if(f&&v[K]?f(v[K],K,v):!0){const ie=$?x[K]:jb(e.options,ce);return A(ce,$,ie)}return Promise.resolve(R(ce,x[K],v[K]))})}return M.then($=>({pages:$,pageParams:C}))}}}}function jb(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function Y8(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}class Q8{constructor(t={}){this.queryCache=t.queryCache||new H8,this.mutationCache=t.mutationCache||new W8,this.logger=t.logger||Ay,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=nf.subscribe(()=>{nf.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=af.subscribe(()=>{af.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,r;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(r=this.unsubscribeOnline)==null||r.call(this),this.unsubscribeOnline=void 0)}isFetching(t,r){const[n]=ia(t,r);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,r){var n;return(n=this.queryCache.find(t,r))==null?void 0:n.state.data}ensureQueryData(t,r,n){const i=wl(t,r,n),a=this.getQueryData(i.queryKey);return a?Promise.resolve(a):this.fetchQuery(i)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:r,state:n})=>{const i=n.data;return[r,i]})}setQueryData(t,r,n){const i=this.queryCache.find(t),a=i==null?void 0:i.state.data,l=M8(r,a);if(typeof l>"u")return;const f=wl(t),m=this.defaultQueryOptions(f);return this.queryCache.build(this,m).setData(l,{...n,manual:!0})}setQueriesData(t,r,n){return yr.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,r,n)]))}getQueryState(t,r){var n;return(n=this.queryCache.find(t,r))==null?void 0:n.state}removeQueries(t,r){const[n]=ia(t,r),i=this.queryCache;yr.batch(()=>{i.findAll(n).forEach(a=>{i.remove(a)})})}resetQueries(t,r,n){const[i,a]=ia(t,r,n),l=this.queryCache,f={type:"active",...i};return yr.batch(()=>(l.findAll(i).forEach(m=>{m.reset()}),this.refetchQueries(f,a)))}cancelQueries(t,r,n){const[i,a={}]=ia(t,r,n);typeof a.revert>"u"&&(a.revert=!0);const l=yr.batch(()=>this.queryCache.findAll(i).map(f=>f.cancel(a)));return Promise.all(l).then(An).catch(An)}invalidateQueries(t,r,n){const[i,a]=ia(t,r,n);return yr.batch(()=>{var l,f;if(this.queryCache.findAll(i).forEach(g=>{g.invalidate()}),i.refetchType==="none")return Promise.resolve();const m={...i,type:(l=(f=i.refetchType)!=null?f:i.type)!=null?l:"active"};return this.refetchQueries(m,a)})}refetchQueries(t,r,n){const[i,a]=ia(t,r,n),l=yr.batch(()=>this.queryCache.findAll(i).filter(m=>!m.isDisabled()).map(m=>{var g;return m.fetch(void 0,{...a,cancelRefetch:(g=a==null?void 0:a.cancelRefetch)!=null?g:!0,meta:{refetchPage:i.refetchPage}})}));let f=Promise.all(l).then(An);return a!=null&&a.throwOnError||(f=f.catch(An)),f}fetchQuery(t,r,n){const i=wl(t,r,n),a=this.defaultQueryOptions(i);typeof a.retry>"u"&&(a.retry=!1);const l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)}prefetchQuery(t,r,n){return this.fetchQuery(t,r,n).then(An).catch(An)}fetchInfiniteQuery(t,r,n){const i=wl(t,r,n);return i.behavior=q8(),this.fetchQuery(i)}prefetchInfiniteQuery(t,r,n){return this.fetchInfiniteQuery(t,r,n).then(An).catch(An)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,r){const n=this.queryDefaults.find(i=>Za(t)===Za(i.queryKey));n?n.defaultOptions=r:this.queryDefaults.push({queryKey:t,defaultOptions:r})}getQueryDefaults(t){if(!t)return;const r=this.queryDefaults.find(n=>rf(t,n.queryKey));return r==null?void 0:r.defaultOptions}setMutationDefaults(t,r){const n=this.mutationDefaults.find(i=>Za(t)===Za(i.mutationKey));n?n.defaultOptions=r:this.mutationDefaults.push({mutationKey:t,defaultOptions:r})}getMutationDefaults(t){if(!t)return;const r=this.mutationDefaults.find(n=>rf(t,n.mutationKey));return r==null?void 0:r.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const r={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!r.queryHash&&r.queryKey&&(r.queryHash=_y(r.queryKey,r)),typeof r.refetchOnReconnect>"u"&&(r.refetchOnReconnect=r.networkMode!=="always"),typeof r.useErrorBoundary>"u"&&(r.useErrorBoundary=!!r.suspense),r}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class X8 extends Gu{constructor(t,r){super(),this.client=t,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),zb(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return Ag(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ag(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,r){const n=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),Nb(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();const a=this.hasListeners();a&&Vb(this.currentQuery,i,this.options,n)&&this.executeFetch(),this.updateResult(r),a&&(this.currentQuery!==i||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();const l=this.computeRefetchInterval();a&&(this.currentQuery!==i||this.options.enabled!==n.enabled||l!==this.currentRefetchInterval)&&this.updateRefetchInterval(l)}getOptimisticResult(t){const r=this.client.getQueryCache().build(this.client,t);return this.createResult(r,t)}getCurrentResult(){return this.currentResult}trackResult(t){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),t[n])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...r}={}){return this.fetch({...r,meta:{refetchPage:t}})}fetchOptimistic(t){const r=this.client.defaultQueryOptions(t),n=this.client.getQueryCache().build(this.client,r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(t){var r;return this.executeFetch({...t,cancelRefetch:(r=t.cancelRefetch)!=null?r:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let r=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(An)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),xu||this.currentResult.isStale||!xg(this.options.staleTime))return;const r=Jx(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},r)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(xu||this.options.enabled===!1||!xg(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||nf.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,r){const n=this.currentQuery,i=this.options,a=this.currentResult,l=this.currentResultState,f=this.currentResultOptions,m=t!==n,g=m?t.state:this.currentQueryInitialState,E=m?this.currentResult:this.previousQueryResult,{state:w}=t;let{dataUpdatedAt:v,error:x,errorUpdatedAt:C,fetchStatus:L,status:I}=w,P=!1,R=!1,A;if(r._optimisticResults){const K=this.hasListeners(),ce=!K&&zb(t,r),ye=K&&Vb(t,n,r,i);(ce||ye)&&(L=eh(t.options.networkMode)?"fetching":"paused",v||(I="loading")),r._optimisticResults==="isRestoring"&&(L="idle")}if(r.keepPreviousData&&!w.dataUpdatedAt&&E!=null&&E.isSuccess&&I!=="error")A=E.data,v=E.dataUpdatedAt,I=E.status,P=!0;else if(r.select&&typeof w.data<"u")if(a&&w.data===(l==null?void 0:l.data)&&r.select===this.selectFn)A=this.selectResult;else try{this.selectFn=r.select,A=r.select(w.data),A=_g(a==null?void 0:a.data,A,r),this.selectResult=A,this.selectError=null}catch(K){this.selectError=K}else A=w.data;if(typeof r.placeholderData<"u"&&typeof A>"u"&&I==="loading"){let K;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(f==null?void 0:f.placeholderData))K=a.data;else if(K=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof K<"u")try{K=r.select(K),this.selectError=null}catch(ce){this.selectError=ce}typeof K<"u"&&(I="success",A=_g(a==null?void 0:a.data,K,r),R=!0)}this.selectError&&(x=this.selectError,A=this.selectResult,C=Date.now(),I="error");const M=L==="fetching",j=I==="loading",$=I==="error";return{status:I,fetchStatus:L,isLoading:j,isSuccess:I==="success",isError:$,isInitialLoading:j&&M,data:A,dataUpdatedAt:v,error:x,errorUpdatedAt:C,failureCount:w.fetchFailureCount,failureReason:w.fetchFailureReason,errorUpdateCount:w.errorUpdateCount,isFetched:w.dataUpdateCount>0||w.errorUpdateCount>0,isFetchedAfterMount:w.dataUpdateCount>g.dataUpdateCount||w.errorUpdateCount>g.errorUpdateCount,isFetching:M,isRefetching:M&&!j,isLoadingError:$&&w.dataUpdatedAt===0,isPaused:L==="paused",isPlaceholderData:R,isPreviousData:P,isRefetchError:$&&w.dataUpdatedAt!==0,isStale:Ry(t,r),refetch:this.refetch,remove:this.remove}}updateResult(t){const r=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Nb(n,r))return;this.currentResult=n;const i={cache:!0},a=()=>{if(!r)return!0;const{notifyOnChangeProps:l}=this.options;if(l==="all"||!l&&!this.trackedProps.size)return!0;const f=new Set(l??this.trackedProps);return this.options.useErrorBoundary&&f.add("error"),Object.keys(this.currentResult).some(m=>{const g=m;return this.currentResult[g]!==r[g]&&f.has(g)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),this.notify({...i,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const r={};t.type==="success"?r.onSuccess=!t.manual:t.type==="error"&&!ud(t.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(t){yr.batch(()=>{if(t.onSuccess){var r,n,i,a;(r=(n=this.options).onSuccess)==null||r.call(n,this.currentResult.data),(i=(a=this.options).onSettled)==null||i.call(a,this.currentResult.data,null)}else if(t.onError){var l,f,m,g;(l=(f=this.options).onError)==null||l.call(f,this.currentResult.error),(m=(g=this.options).onSettled)==null||m.call(g,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(E=>{E(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Z8(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function zb(e,t){return Z8(e,t)||e.state.dataUpdatedAt>0&&Ag(e,t,t.refetchOnMount)}function Ag(e,t,r){if(t.enabled!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Ry(e,t)}return!1}function Vb(e,t,r,n){return r.enabled!==!1&&(e!==t||n.enabled===!1)&&(!r.suspense||e.state.status!=="error")&&Ry(e,r)}function Ry(e,t){return e.isStaleByTime(t.staleTime)}var Rg={},J8={get exports(){return Rg},set exports(e){Rg=e}},sC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yo=V;function e6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var t6=typeof Object.is=="function"?Object.is:e6,r6=yo.useState,n6=yo.useEffect,i6=yo.useLayoutEffect,a6=yo.useDebugValue;function s6(e,t){var r=t(),n=r6({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return i6(function(){i.value=r,i.getSnapshot=t,Vp(i)&&a({inst:i})},[e,r,t]),n6(function(){return Vp(i)&&a({inst:i}),e(function(){Vp(i)&&a({inst:i})})},[e]),a6(r),r}function Vp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!t6(e,r)}catch{return!0}}function o6(e,t){return t()}var l6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?o6:s6;sC.useSyncExternalStore=yo.useSyncExternalStore!==void 0?yo.useSyncExternalStore:l6;(function(e){e.exports=sC})(J8);const u6=Rg.useSyncExternalStore,Hb=V.createContext(void 0),oC=V.createContext(!1);function lC(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Hb),window.ReactQueryClientContext):Hb)}const c6=({context:e}={})=>{const t=V.useContext(lC(e,V.useContext(oC)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},d6=({client:e,children:t,context:r,contextSharing:n=!1})=>{V.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const i=lC(r,n);return V.createElement(oC.Provider,{value:!r&&n},V.createElement(i.Provider,{value:e},t))},uC=V.createContext(!1),f6=()=>V.useContext(uC);uC.Provider;function h6(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const p6=V.createContext(h6()),m6=()=>V.useContext(p6);function g6(e,t){return typeof e=="function"?e(...t):!!e}const v6=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},y6=e=>{V.useEffect(()=>{e.clearReset()},[e])},S6=({result:e,errorResetBoundary:t,useErrorBoundary:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&g6(r,[e.error,n]),b6=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},E6=(e,t)=>e.isLoading&&e.isFetching&&!t,T6=(e,t,r)=>(e==null?void 0:e.suspense)&&E6(t,r),w6=(e,t,r)=>t.fetchOptimistic(e).then(({data:n})=>{e.onSuccess==null||e.onSuccess(n),e.onSettled==null||e.onSettled(n,null)}).catch(n=>{r.clearReset(),e.onError==null||e.onError(n),e.onSettled==null||e.onSettled(void 0,n)});function k6(e,t){const r=c6({context:e.context}),n=f6(),i=m6(),a=r.defaultQueryOptions(e);a._optimisticResults=n?"isRestoring":"optimistic",a.onError&&(a.onError=yr.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=yr.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=yr.batchCalls(a.onSettled)),b6(a),v6(a,i),y6(i);const[l]=V.useState(()=>new t(r,a)),f=l.getOptimisticResult(a);if(u6(V.useCallback(m=>n?()=>{}:l.subscribe(yr.batchCalls(m)),[l,n]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),V.useEffect(()=>{l.setOptions(a,{listeners:!1})},[a,l]),T6(a,f,n))throw w6(a,l,i);if(S6({result:f,errorResetBoundary:i,useErrorBoundary:a.useErrorBoundary,query:l.getCurrentQuery()}))throw f.error;return a.notifyOnChangeProps?f:l.trackResult(f)}function x6(e,t,r){const n=wl(e,t,r);return k6(n,X8)}/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cu(){return Cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cu.apply(this,arguments)}var ca;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ca||(ca={}));const Gb="popstate";function C6(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:l,hash:f}=n.location;return Pg("",{pathname:a,search:l,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:sf(i)}return A6(t,r,null,e)}function wr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Py(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _6(){return Math.random().toString(36).substr(2,8)}function Kb(e,t){return{usr:e.state,key:e.key,idx:t}}function Pg(e,t,r,n){return r===void 0&&(r=null),Cu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ao(t):t,{state:r,key:t&&t.key||n||_6()})}function sf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ao(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function A6(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,f=ca.Pop,m=null,g=E();g==null&&(g=0,l.replaceState(Cu({},l.state,{idx:g}),""));function E(){return(l.state||{idx:null}).idx}function w(){f=ca.Pop;let I=E(),P=I==null?null:I-g;g=I,m&&m({action:f,location:L.location,delta:P})}function v(I,P){f=ca.Push;let R=Pg(L.location,I,P);r&&r(R,I),g=E()+1;let A=Kb(R,g),M=L.createHref(R);try{l.pushState(A,"",M)}catch{i.location.assign(M)}a&&m&&m({action:f,location:L.location,delta:1})}function x(I,P){f=ca.Replace;let R=Pg(L.location,I,P);r&&r(R,I),g=E();let A=Kb(R,g),M=L.createHref(R);l.replaceState(A,"",M),a&&m&&m({action:f,location:L.location,delta:0})}function C(I){let P=i.location.origin!=="null"?i.location.origin:i.location.href,R=typeof I=="string"?I:sf(I);return wr(P,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,P)}let L={get action(){return f},get location(){return e(i,l)},listen(I){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(Gb,w),m=I,()=>{i.removeEventListener(Gb,w),m=null}},createHref(I){return t(i,I)},createURL:C,encodeLocation(I){let P=C(I);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:v,replace:x,go(I){return l.go(I)}};return L}var Wb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Wb||(Wb={}));function R6(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?Ao(t):t,i=Ly(n.pathname||"/",r);if(i==null)return null;let a=cC(e);P6(a);let l=null;for(let f=0;l==null&&f<a.length;++f)l=U6(a[f],z6(i));return l}function cC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,l,f)=>{let m={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};m.relativePath.startsWith("/")&&(wr(m.relativePath.startsWith(n),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(n.length));let g=Ea([n,m.relativePath]),E=r.concat(m);a.children&&a.children.length>0&&(wr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),cC(a.children,t,E,g)),!(a.path==null&&!a.index)&&t.push({path:g,score:N6(g,a.index),routesMeta:E})};return e.forEach((a,l)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))i(a,l);else for(let m of dC(a.path))i(a,l,m)}),t}function dC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=dC(n.join("/")),f=[];return f.push(...l.map(m=>m===""?a:[a,m].join("/"))),i&&f.push(...l),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function P6(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:B6(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const L6=/^:\w+$/,D6=3,I6=2,O6=1,F6=10,M6=-2,qb=e=>e==="*";function N6(e,t){let r=e.split("/"),n=r.length;return r.some(qb)&&(n+=M6),t&&(n+=I6),r.filter(i=>!qb(i)).reduce((i,a)=>i+(L6.test(a)?D6:a===""?O6:F6),n)}function B6(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function U6(e,t){let{routesMeta:r}=e,n={},i="/",a=[];for(let l=0;l<r.length;++l){let f=r[l],m=l===r.length-1,g=i==="/"?t:t.slice(i.length)||"/",E=$6({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g);if(!E)return null;Object.assign(n,E.params);let w=f.route;a.push({params:n,pathname:Ea([i,E.pathname]),pathnameBase:K6(Ea([i,E.pathnameBase])),route:w}),E.pathnameBase!=="/"&&(i=Ea([i,E.pathnameBase]))}return a}function $6(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=j6(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:n.reduce((g,E,w)=>{if(E==="*"){let v=f[w]||"";l=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}return g[E]=V6(f[w]||"",E),g},{}),pathname:a,pathnameBase:l,pattern:e}}function j6(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Py(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(l,f)=>(n.push(f),"/([^\\/]+)"));return e.endsWith("*")?(n.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function z6(e){try{return decodeURI(e)}catch(t){return Py(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function V6(e,t){try{return decodeURIComponent(e)}catch(r){return Py(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function Ly(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function H6(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Ao(e):e;return{pathname:r?r.startsWith("/")?r:G6(r,t):t,search:W6(n),hash:q6(i)}}function G6(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Hp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fC(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function hC(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Ao(e):(i=Cu({},e),wr(!i.pathname||!i.pathname.includes("?"),Hp("?","pathname","search",i)),wr(!i.pathname||!i.pathname.includes("#"),Hp("#","pathname","hash",i)),wr(!i.search||!i.search.includes("#"),Hp("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,f;if(n||l==null)f=r;else{let w=t.length-1;if(l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),w-=1;i.pathname=v.join("/")}f=w>=0?t[w]:"/"}let m=H6(i,f),g=l&&l!=="/"&&l.endsWith("/"),E=(a||l===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(g||E)&&(m.pathname+="/"),m}const Ea=e=>e.join("/").replace(/\/\/+/g,"/"),K6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,q6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Y6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Q6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const X6=typeof Object.is=="function"?Object.is:Q6,{useState:Z6,useEffect:J6,useLayoutEffect:e$,useDebugValue:t$}=Wl;function r$(e,t,r){const n=t(),[{inst:i},a]=Z6({inst:{value:n,getSnapshot:t}});return e$(()=>{i.value=n,i.getSnapshot=t,Gp(i)&&a({inst:i})},[e,n,t]),J6(()=>(Gp(i)&&a({inst:i}),e(()=>{Gp(i)&&a({inst:i})})),[e]),t$(n),n}function Gp(e){const t=e.getSnapshot,r=e.value;try{const n=t();return!X6(r,n)}catch{return!0}}function n$(e,t,r){return t()}const i$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",a$=!i$,s$=a$?n$:r$;"useSyncExternalStore"in Wl&&(e=>e.useSyncExternalStore)(Wl);const pC=V.createContext(null),mC=V.createContext(null),Ku=V.createContext(null),th=V.createContext(null),Da=V.createContext({outlet:null,matches:[]}),gC=V.createContext(null);function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lg.apply(this,arguments)}function o$(e,t){let{relative:r}=t===void 0?{}:t;Wu()||wr(!1);let{basename:n,navigator:i}=V.useContext(Ku),{hash:a,pathname:l,search:f}=yC(e,{relative:r}),m=l;return n!=="/"&&(m=l==="/"?n:Ea([n,l])),i.createHref({pathname:m,search:f,hash:a})}function Wu(){return V.useContext(th)!=null}function qu(){return Wu()||wr(!1),V.useContext(th).location}function vC(){Wu()||wr(!1);let{basename:e,navigator:t}=V.useContext(Ku),{matches:r}=V.useContext(Da),{pathname:n}=qu(),i=JSON.stringify(fC(r).map(f=>f.pathnameBase)),a=V.useRef(!1);return V.useEffect(()=>{a.current=!0}),V.useCallback(function(f,m){if(m===void 0&&(m={}),!a.current)return;if(typeof f=="number"){t.go(f);return}let g=hC(f,JSON.parse(i),n,m.relative==="path");e!=="/"&&(g.pathname=g.pathname==="/"?e:Ea([e,g.pathname])),(m.replace?t.replace:t.push)(g,m.state,m)},[e,t,i,n])}const l$=V.createContext(null);function u$(e){let t=V.useContext(Da).outlet;return t&&V.createElement(l$.Provider,{value:e},t)}function c$(){let{matches:e}=V.useContext(Da),t=e[e.length-1];return t?t.params:{}}function yC(e,t){let{relative:r}=t===void 0?{}:t,{matches:n}=V.useContext(Da),{pathname:i}=qu(),a=JSON.stringify(fC(n).map(l=>l.pathnameBase));return V.useMemo(()=>hC(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function d$(e,t){Wu()||wr(!1);let{navigator:r}=V.useContext(Ku),n=V.useContext(mC),{matches:i}=V.useContext(Da),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let f=a?a.pathnameBase:"/";a&&a.route;let m=qu(),g;if(t){var E;let L=typeof t=="string"?Ao(t):t;f==="/"||(E=L.pathname)!=null&&E.startsWith(f)||wr(!1),g=L}else g=m;let w=g.pathname||"/",v=f==="/"?w:w.slice(f.length)||"/",x=R6(e,{pathname:v}),C=m$(x&&x.map(L=>Object.assign({},L,{params:Object.assign({},l,L.params),pathname:Ea([f,r.encodeLocation?r.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?f:Ea([f,r.encodeLocation?r.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),i,n||void 0);return t&&C?V.createElement(th.Provider,{value:{location:Lg({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:ca.Pop}},C):C}function f$(){let e=S$(),t=Y6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),r?V.createElement("pre",{style:i},r):null,a)}class h$ extends V.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location?{error:t.error,location:t.location}:{error:t.error||r.error,location:r.location}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?V.createElement(Da.Provider,{value:this.props.routeContext},V.createElement(gC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function p$(e){let{routeContext:t,match:r,children:n}=e,i=V.useContext(pC);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),V.createElement(Da.Provider,{value:t},n)}function m$(e,t,r){if(t===void 0&&(t=[]),e==null)if(r!=null&&r.errors)e=r.matches;else return null;let n=e,i=r==null?void 0:r.errors;if(i!=null){let a=n.findIndex(l=>l.route.id&&(i==null?void 0:i[l.route.id]));a>=0||wr(!1),n=n.slice(0,Math.min(n.length,a+1))}return n.reduceRight((a,l,f)=>{let m=l.route.id?i==null?void 0:i[l.route.id]:null,g=null;r&&(l.route.ErrorBoundary?g=V.createElement(l.route.ErrorBoundary,null):l.route.errorElement?g=l.route.errorElement:g=V.createElement(f$,null));let E=t.concat(n.slice(0,f+1)),w=()=>{let v=a;return m?v=g:l.route.Component?v=V.createElement(l.route.Component,null):l.route.element&&(v=l.route.element),V.createElement(p$,{match:l,routeContext:{outlet:a,matches:E},children:v})};return r&&(l.route.ErrorBoundary||l.route.errorElement||f===0)?V.createElement(h$,{location:r.location,component:g,error:m,children:w(),routeContext:{outlet:null,matches:E}}):w()},null)}var Yb;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(Yb||(Yb={}));var of;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(of||(of={}));function g$(e){let t=V.useContext(mC);return t||wr(!1),t}function v$(e){let t=V.useContext(Da);return t||wr(!1),t}function y$(e){let t=v$(),r=t.matches[t.matches.length-1];return r.route.id||wr(!1),r.route.id}function S$(){var e;let t=V.useContext(gC),r=g$(of.UseRouteError),n=y$(of.UseRouteError);return t||((e=r.errors)==null?void 0:e[n])}function b$(e){return u$(e.context)}function kl(e){wr(!1)}function E$(e){let{basename:t="/",children:r=null,location:n,navigationType:i=ca.Pop,navigator:a,static:l=!1}=e;Wu()&&wr(!1);let f=t.replace(/^\/*/,"/"),m=V.useMemo(()=>({basename:f,navigator:a,static:l}),[f,a,l]);typeof n=="string"&&(n=Ao(n));let{pathname:g="/",search:E="",hash:w="",state:v=null,key:x="default"}=n,C=V.useMemo(()=>{let L=Ly(g,f);return L==null?null:{location:{pathname:L,search:E,hash:w,state:v,key:x},navigationType:i}},[f,g,E,w,v,x,i]);return C==null?null:V.createElement(Ku.Provider,{value:m},V.createElement(th.Provider,{children:r,value:C}))}function T$(e){let{children:t,location:r}=e,n=V.useContext(pC),i=n&&!t?n.router.routes:Dg(t);return d$(i,r)}var Qb;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Qb||(Qb={}));new Promise(()=>{});function Dg(e,t){t===void 0&&(t=[]);let r=[];return V.Children.forEach(e,(n,i)=>{if(!V.isValidElement(n))return;if(n.type===V.Fragment){r.push.apply(r,Dg(n.props.children,t));return}n.type!==kl&&wr(!1),!n.props.index||!n.props.children||wr(!1);let a=[...t,i],l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Dg(n.props.children,a)),r.push(l)}),r}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ig.apply(this,arguments)}function w$(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function k$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function x$(e,t){return e.button===0&&(!t||t==="_self")&&!k$(e)}const C$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function _$(e){let{basename:t,children:r,window:n}=e,i=V.useRef();i.current==null&&(i.current=C6({window:n,v5Compat:!0}));let a=i.current,[l,f]=V.useState({action:a.action,location:a.location});return V.useLayoutEffect(()=>a.listen(f),[a]),V.createElement(E$,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a})}const A$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",R$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b9=V.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:l,state:f,target:m,to:g,preventScrollReset:E}=t,w=w$(t,C$),{basename:v}=V.useContext(Ku),x,C=!1;if(typeof g=="string"&&R$.test(g)&&(x=g,A$)){let R=new URL(window.location.href),A=g.startsWith("//")?new URL(R.protocol+g):new URL(g),M=Ly(A.pathname,v);A.origin===R.origin&&M!=null?g=M+A.search+A.hash:C=!0}let L=o$(g,{relative:i}),I=P$(g,{replace:l,state:f,target:m,preventScrollReset:E,relative:i});function P(R){n&&n(R),R.defaultPrevented||I(R)}return V.createElement("a",Ig({},w,{href:x||L,onClick:C||a?n:P,ref:r,target:m}))});var Xb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Xb||(Xb={}));var Zb;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zb||(Zb={}));function P$(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:l}=t===void 0?{}:t,f=vC(),m=qu(),g=yC(e,{relative:l});return V.useCallback(E=>{if(x$(E,r)){E.preventDefault();let w=n!==void 0?n:sf(m)===sf(g);f(e,{replace:w,state:i,preventScrollReset:a,relative:l})}},[m,f,g,n,i,r,e,a,l])}const L$=()=>we(_o,{position:"fixed",top:0,left:0,w:"100%",h:"100%",zIndex:"modal",children:we(Hu,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl"})}),D$=()=>{const e=v8();return(t={})=>e({title:t.title??"Error",description:t.description??"We encountered a technical error",status:"error",duration:5e3,isClosable:!0})};function SC(e,t){return function(){return e.apply(t,arguments)}}const{toString:bC}=Object.prototype,{getPrototypeOf:Dy}=Object,Iy=(e=>t=>{const r=bC.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),$i=e=>(e=e.toLowerCase(),t=>Iy(t)===e),rh=e=>t=>typeof t===e,{isArray:Ro}=Array,_u=rh("undefined");function I$(e){return e!==null&&!_u(e)&&e.constructor!==null&&!_u(e.constructor)&&_a(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const EC=$i("ArrayBuffer");function O$(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&EC(e.buffer),t}const F$=rh("string"),_a=rh("function"),TC=rh("number"),Oy=e=>e!==null&&typeof e=="object",M$=e=>e===!0||e===!1,cd=e=>{if(Iy(e)!=="object")return!1;const t=Dy(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},N$=$i("Date"),B$=$i("File"),U$=$i("Blob"),$$=$i("FileList"),j$=e=>Oy(e)&&_a(e.pipe),z$=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||bC.call(e)===t||_a(e.toString)&&e.toString()===t)},V$=$i("URLSearchParams"),H$=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yu(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Ro(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),l=a.length;let f;for(n=0;n<l;n++)f=a[n],t.call(null,e[f],f,e)}}function wC(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const kC=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),xC=e=>!_u(e)&&e!==kC;function Og(){const{caseless:e}=xC(this)&&this||{},t={},r=(n,i)=>{const a=e&&wC(t,i)||i;cd(t[a])&&cd(n)?t[a]=Og(t[a],n):cd(n)?t[a]=Og({},n):Ro(n)?t[a]=n.slice():t[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Yu(arguments[n],r);return t}const G$=(e,t,r,{allOwnKeys:n}={})=>(Yu(t,(i,a)=>{r&&_a(i)?e[a]=SC(i,r):e[a]=i},{allOwnKeys:n}),e),K$=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),W$=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},q$=(e,t,r,n)=>{let i,a,l;const f={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)l=i[a],(!n||n(l,e,t))&&!f[l]&&(t[l]=e[l],f[l]=!0);e=r!==!1&&Dy(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Y$=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Q$=e=>{if(!e)return null;if(Ro(e))return e;let t=e.length;if(!TC(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},X$=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Dy(Uint8Array)),Z$=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},J$=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},ej=$i("HTMLFormElement"),tj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Jb=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),rj=$i("RegExp"),CC=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Yu(r,(i,a)=>{t(i,a,e)!==!1&&(n[a]=i)}),Object.defineProperties(e,n)},nj=e=>{CC(e,(t,r)=>{if(_a(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(_a(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ij=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return Ro(e)?n(e):n(String(e).split(t)),r},aj=()=>{},sj=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Kp="abcdefghijklmnopqrstuvwxyz",eE="0123456789",_C={DIGIT:eE,ALPHA:Kp,ALPHA_DIGIT:Kp+Kp.toUpperCase()+eE},oj=(e=16,t=_C.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function lj(e){return!!(e&&_a(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const uj=e=>{const t=new Array(10),r=(n,i)=>{if(Oy(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const a=Ro(n)?[]:{};return Yu(n,(l,f)=>{const m=r(l,i+1);!_u(m)&&(a[f]=m)}),t[i]=void 0,a}}return n};return r(e,0)},_e={isArray:Ro,isArrayBuffer:EC,isBuffer:I$,isFormData:z$,isArrayBufferView:O$,isString:F$,isNumber:TC,isBoolean:M$,isObject:Oy,isPlainObject:cd,isUndefined:_u,isDate:N$,isFile:B$,isBlob:U$,isRegExp:rj,isFunction:_a,isStream:j$,isURLSearchParams:V$,isTypedArray:X$,isFileList:$$,forEach:Yu,merge:Og,extend:G$,trim:H$,stripBOM:K$,inherits:W$,toFlatObject:q$,kindOf:Iy,kindOfTest:$i,endsWith:Y$,toArray:Q$,forEachEntry:Z$,matchAll:J$,isHTMLForm:ej,hasOwnProperty:Jb,hasOwnProp:Jb,reduceDescriptors:CC,freezeMethods:nj,toObjectSet:ij,toCamelCase:tj,noop:aj,toFiniteNumber:sj,findKey:wC,global:kC,isContextDefined:xC,ALPHABET:_C,generateString:oj,isSpecCompliantForm:lj,toJSONObject:uj};function xt(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}_e.inherits(xt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const AC=xt.prototype,RC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{RC[e]={value:e}});Object.defineProperties(xt,RC);Object.defineProperty(AC,"isAxiosError",{value:!0});xt.from=(e,t,r,n,i,a)=>{const l=Object.create(AC);return _e.toFlatObject(e,l,function(m){return m!==Error.prototype},f=>f!=="isAxiosError"),xt.call(l,e.message,t,r,n,i),l.cause=e,l.name=e.name,a&&Object.assign(l,a),l};const cj=null;function Fg(e){return _e.isPlainObject(e)||_e.isArray(e)}function PC(e){return _e.endsWith(e,"[]")?e.slice(0,-2):e}function tE(e,t,r){return e?e.concat(t).map(function(i,a){return i=PC(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function dj(e){return _e.isArray(e)&&!e.some(Fg)}const fj=_e.toFlatObject(_e,{},null,function(t){return/^is[A-Z]/.test(t)});function nh(e,t,r){if(!_e.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=_e.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(L,I){return!_e.isUndefined(I[L])});const n=r.metaTokens,i=r.visitor||E,a=r.dots,l=r.indexes,m=(r.Blob||typeof Blob<"u"&&Blob)&&_e.isSpecCompliantForm(t);if(!_e.isFunction(i))throw new TypeError("visitor must be a function");function g(C){if(C===null)return"";if(_e.isDate(C))return C.toISOString();if(!m&&_e.isBlob(C))throw new xt("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(C)||_e.isTypedArray(C)?m&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function E(C,L,I){let P=C;if(C&&!I&&typeof C=="object"){if(_e.endsWith(L,"{}"))L=n?L:L.slice(0,-2),C=JSON.stringify(C);else if(_e.isArray(C)&&dj(C)||(_e.isFileList(C)||_e.endsWith(L,"[]"))&&(P=_e.toArray(C)))return L=PC(L),P.forEach(function(A,M){!(_e.isUndefined(A)||A===null)&&t.append(l===!0?tE([L],M,a):l===null?L:L+"[]",g(A))}),!1}return Fg(C)?!0:(t.append(tE(I,L,a),g(C)),!1)}const w=[],v=Object.assign(fj,{defaultVisitor:E,convertValue:g,isVisitable:Fg});function x(C,L){if(!_e.isUndefined(C)){if(w.indexOf(C)!==-1)throw Error("Circular reference detected in "+L.join("."));w.push(C),_e.forEach(C,function(P,R){(!(_e.isUndefined(P)||P===null)&&i.call(t,P,_e.isString(R)?R.trim():R,L,v))===!0&&x(P,L?L.concat(R):[R])}),w.pop()}}if(!_e.isObject(e))throw new TypeError("data must be an object");return x(e),t}function rE(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Fy(e,t){this._pairs=[],e&&nh(e,this,t)}const LC=Fy.prototype;LC.append=function(t,r){this._pairs.push([t,r])};LC.toString=function(t){const r=t?function(n){return t.call(this,n,rE)}:rE;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function hj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function DC(e,t,r){if(!t)return e;const n=r&&r.encode||hj,i=r&&r.serialize;let a;if(i?a=i(t,r):a=_e.isURLSearchParams(t)?t.toString():new Fy(t,r).toString(n),a){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class pj{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){_e.forEach(this.handlers,function(n){n!==null&&t(n)})}}const nE=pj,IC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mj=typeof URLSearchParams<"u"?URLSearchParams:Fy,gj=typeof FormData<"u"?FormData:null,vj=typeof Blob<"u"?Blob:null,yj=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Sj=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ci={isBrowser:!0,classes:{URLSearchParams:mj,FormData:gj,Blob:vj},isStandardBrowserEnv:yj,isStandardBrowserWebWorkerEnv:Sj,protocols:["http","https","file","blob","url","data"]};function bj(e,t){return nh(e,new ci.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,a){return ci.isNode&&_e.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function Ej(e){return _e.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Tj(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function OC(e){function t(r,n,i,a){let l=r[a++];const f=Number.isFinite(+l),m=a>=r.length;return l=!l&&_e.isArray(i)?i.length:l,m?(_e.hasOwnProp(i,l)?i[l]=[i[l],n]:i[l]=n,!f):((!i[l]||!_e.isObject(i[l]))&&(i[l]=[]),t(r,n,i[l],a)&&_e.isArray(i[l])&&(i[l]=Tj(i[l])),!f)}if(_e.isFormData(e)&&_e.isFunction(e.entries)){const r={};return _e.forEachEntry(e,(n,i)=>{t(Ej(n),i,r,0)}),r}return null}const wj={"Content-Type":void 0};function kj(e,t,r){if(_e.isString(e))try{return(t||JSON.parse)(e),_e.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const ih={transitional:IC,adapter:["xhr","http"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=_e.isObject(t);if(a&&_e.isHTMLForm(t)&&(t=new FormData(t)),_e.isFormData(t))return i&&i?JSON.stringify(OC(t)):t;if(_e.isArrayBuffer(t)||_e.isBuffer(t)||_e.isStream(t)||_e.isFile(t)||_e.isBlob(t))return t;if(_e.isArrayBufferView(t))return t.buffer;if(_e.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let f;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return bj(t,this.formSerializer).toString();if((f=_e.isFileList(t))||n.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return nh(f?{"files[]":t}:t,m&&new m,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),kj(t)):t}],transformResponse:[function(t){const r=this.transitional||ih.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(t&&_e.isString(t)&&(n&&!this.responseType||i)){const l=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(f){if(l)throw f.name==="SyntaxError"?xt.from(f,xt.ERR_BAD_RESPONSE,this,null,this.response):f}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ci.classes.FormData,Blob:ci.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};_e.forEach(["delete","get","head"],function(t){ih.headers[t]={}});_e.forEach(["post","put","patch"],function(t){ih.headers[t]=_e.merge(wj)});const My=ih,xj=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cj=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(l){i=l.indexOf(":"),r=l.substring(0,i).trim().toLowerCase(),n=l.substring(i+1).trim(),!(!r||t[r]&&xj[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},iE=Symbol("internals");function dl(e){return e&&String(e).trim().toLowerCase()}function dd(e){return e===!1||e==null?e:_e.isArray(e)?e.map(dd):String(e)}function _j(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}function Aj(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function Wp(e,t,r,n,i){if(_e.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!_e.isString(t)){if(_e.isString(n))return t.indexOf(n)!==-1;if(_e.isRegExp(n))return n.test(t)}}function Rj(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Pj(e,t){const r=_e.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,l){return this[n].call(this,t,i,a,l)},configurable:!0})})}class ah{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(f,m,g){const E=dl(m);if(!E)throw new Error("header name must be a non-empty string");const w=_e.findKey(i,E);(!w||i[w]===void 0||g===!0||g===void 0&&i[w]!==!1)&&(i[w||m]=dd(f))}const l=(f,m)=>_e.forEach(f,(g,E)=>a(g,E,m));return _e.isPlainObject(t)||t instanceof this.constructor?l(t,r):_e.isString(t)&&(t=t.trim())&&!Aj(t)?l(Cj(t),r):t!=null&&a(r,t,n),this}get(t,r){if(t=dl(t),t){const n=_e.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return _j(i);if(_e.isFunction(r))return r.call(this,i,n);if(_e.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=dl(t),t){const n=_e.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Wp(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(l){if(l=dl(l),l){const f=_e.findKey(n,l);f&&(!r||Wp(n,n[f],f,r))&&(delete n[f],i=!0)}}return _e.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||Wp(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return _e.forEach(this,(i,a)=>{const l=_e.findKey(n,a);if(l){r[l]=dd(i),delete r[a];return}const f=t?Rj(a):String(a).trim();f!==a&&delete r[a],r[f]=dd(i),n[f]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return _e.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&_e.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[iE]=this[iE]={accessors:{}}).accessors,i=this.prototype;function a(l){const f=dl(l);n[f]||(Pj(i,l),n[f]=!0)}return _e.isArray(t)?t.forEach(a):a(t),this}}ah.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_e.freezeMethods(ah.prototype);_e.freezeMethods(ah);const Ii=ah;function qp(e,t){const r=this||My,n=t||r,i=Ii.from(n.headers);let a=n.data;return _e.forEach(e,function(f){a=f.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function FC(e){return!!(e&&e.__CANCEL__)}function Qu(e,t,r){xt.call(this,e??"canceled",xt.ERR_CANCELED,t,r),this.name="CanceledError"}_e.inherits(Qu,xt,{__CANCEL__:!0});function Lj(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new xt("Request failed with status code "+r.status,[xt.ERR_BAD_REQUEST,xt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const Dj=ci.isStandardBrowserEnv?function(){return{write:function(r,n,i,a,l,f){const m=[];m.push(r+"="+encodeURIComponent(n)),_e.isNumber(i)&&m.push("expires="+new Date(i).toGMTString()),_e.isString(a)&&m.push("path="+a),_e.isString(l)&&m.push("domain="+l),f===!0&&m.push("secure"),document.cookie=m.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Ij(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Oj(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function MC(e,t){return e&&!Ij(t)?Oj(e,t):t}const Fj=ci.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(a){let l=a;return t&&(r.setAttribute("href",l),l=r.href),r.setAttribute("href",l),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(l){const f=_e.isString(l)?i(l):l;return f.protocol===n.protocol&&f.host===n.host}}():function(){return function(){return!0}}();function Mj(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Nj(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,l;return t=t!==void 0?t:1e3,function(m){const g=Date.now(),E=n[a];l||(l=g),r[i]=m,n[i]=g;let w=a,v=0;for(;w!==i;)v+=r[w++],w=w%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),g-l<t)return;const x=E&&g-E;return x?Math.round(v*1e3/x):void 0}}function aE(e,t){let r=0;const n=Nj(50,250);return i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,f=a-r,m=n(f),g=a<=l;r=a;const E={loaded:a,total:l,progress:l?a/l:void 0,bytes:f,rate:m||void 0,estimated:m&&l&&g?(l-a)/m:void 0,event:i};E[t?"download":"upload"]=!0,e(E)}}const Bj=typeof XMLHttpRequest<"u",Uj=Bj&&function(e){return new Promise(function(r,n){let i=e.data;const a=Ii.from(e.headers).normalize(),l=e.responseType;let f;function m(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}_e.isFormData(i)&&(ci.isStandardBrowserEnv||ci.isStandardBrowserWebWorkerEnv)&&a.setContentType(!1);let g=new XMLHttpRequest;if(e.auth){const x=e.auth.username||"",C=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(x+":"+C))}const E=MC(e.baseURL,e.url);g.open(e.method.toUpperCase(),DC(E,e.params,e.paramsSerializer),!0),g.timeout=e.timeout;function w(){if(!g)return;const x=Ii.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),L={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:x,config:e,request:g};Lj(function(P){r(P),m()},function(P){n(P),m()},L),g=null}if("onloadend"in g?g.onloadend=w:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(w)},g.onabort=function(){g&&(n(new xt("Request aborted",xt.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new xt("Network Error",xt.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let C=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const L=e.transitional||IC;e.timeoutErrorMessage&&(C=e.timeoutErrorMessage),n(new xt(C,L.clarifyTimeoutError?xt.ETIMEDOUT:xt.ECONNABORTED,e,g)),g=null},ci.isStandardBrowserEnv){const x=(e.withCredentials||Fj(E))&&e.xsrfCookieName&&Dj.read(e.xsrfCookieName);x&&a.set(e.xsrfHeaderName,x)}i===void 0&&a.setContentType(null),"setRequestHeader"in g&&_e.forEach(a.toJSON(),function(C,L){g.setRequestHeader(L,C)}),_e.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),l&&l!=="json"&&(g.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&g.addEventListener("progress",aE(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",aE(e.onUploadProgress)),(e.cancelToken||e.signal)&&(f=x=>{g&&(n(!x||x.type?new Qu(null,e,g):x),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f)));const v=Mj(E);if(v&&ci.protocols.indexOf(v)===-1){n(new xt("Unsupported protocol "+v+":",xt.ERR_BAD_REQUEST,e));return}g.send(i||null)})},fd={http:cj,xhr:Uj};_e.forEach(fd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const $j={getAdapter:e=>{e=_e.isArray(e)?e:[e];const{length:t}=e;let r,n;for(let i=0;i<t&&(r=e[i],!(n=_e.isString(r)?fd[r.toLowerCase()]:r));i++);if(!n)throw n===!1?new xt(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(_e.hasOwnProp(fd,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!_e.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:fd};function Yp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qu(null,e)}function sE(e){return Yp(e),e.headers=Ii.from(e.headers),e.data=qp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),$j.getAdapter(e.adapter||My.adapter)(e).then(function(n){return Yp(e),n.data=qp.call(e,e.transformResponse,n),n.headers=Ii.from(n.headers),n},function(n){return FC(n)||(Yp(e),n&&n.response&&(n.response.data=qp.call(e,e.transformResponse,n.response),n.response.headers=Ii.from(n.response.headers))),Promise.reject(n)})}const oE=e=>e instanceof Ii?e.toJSON():e;function So(e,t){t=t||{};const r={};function n(g,E,w){return _e.isPlainObject(g)&&_e.isPlainObject(E)?_e.merge.call({caseless:w},g,E):_e.isPlainObject(E)?_e.merge({},E):_e.isArray(E)?E.slice():E}function i(g,E,w){if(_e.isUndefined(E)){if(!_e.isUndefined(g))return n(void 0,g,w)}else return n(g,E,w)}function a(g,E){if(!_e.isUndefined(E))return n(void 0,E)}function l(g,E){if(_e.isUndefined(E)){if(!_e.isUndefined(g))return n(void 0,g)}else return n(void 0,E)}function f(g,E,w){if(w in t)return n(g,E);if(w in e)return n(void 0,g)}const m={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:f,headers:(g,E)=>i(oE(g),oE(E),!0)};return _e.forEach(Object.keys(e).concat(Object.keys(t)),function(E){const w=m[E]||i,v=w(e[E],t[E],E);_e.isUndefined(v)&&w!==f||(r[E]=v)}),r}const NC="1.3.4",Ny={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ny[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const lE={};Ny.transitional=function(t,r,n){function i(a,l){return"[Axios v"+NC+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return(a,l,f)=>{if(t===!1)throw new xt(i(l," has been removed"+(r?" in "+r:"")),xt.ERR_DEPRECATED);return r&&!lE[l]&&(lE[l]=!0,console.warn(i(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,l,f):!0}};function jj(e,t,r){if(typeof e!="object")throw new xt("options must be an object",xt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],l=t[a];if(l){const f=e[a],m=f===void 0||l(f,a,e);if(m!==!0)throw new xt("option "+a+" must be "+m,xt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new xt("Unknown option "+a,xt.ERR_BAD_OPTION)}}const Mg={assertOptions:jj,validators:Ny},Ji=Mg.validators;class lf{constructor(t){this.defaults=t,this.interceptors={request:new nE,response:new nE}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=So(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&Mg.assertOptions(n,{silentJSONParsing:Ji.transitional(Ji.boolean),forcedJSONParsing:Ji.transitional(Ji.boolean),clarifyTimeoutError:Ji.transitional(Ji.boolean)},!1),i!==void 0&&Mg.assertOptions(i,{encode:Ji.function,serialize:Ji.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l;l=a&&_e.merge(a.common,a[r.method]),l&&_e.forEach(["delete","get","head","post","put","patch","common"],C=>{delete a[C]}),r.headers=Ii.concat(l,a);const f=[];let m=!0;this.interceptors.request.forEach(function(L){typeof L.runWhen=="function"&&L.runWhen(r)===!1||(m=m&&L.synchronous,f.unshift(L.fulfilled,L.rejected))});const g=[];this.interceptors.response.forEach(function(L){g.push(L.fulfilled,L.rejected)});let E,w=0,v;if(!m){const C=[sE.bind(this),void 0];for(C.unshift.apply(C,f),C.push.apply(C,g),v=C.length,E=Promise.resolve(r);w<v;)E=E.then(C[w++],C[w++]);return E}v=f.length;let x=r;for(w=0;w<v;){const C=f[w++],L=f[w++];try{x=C(x)}catch(I){L.call(this,I);break}}try{E=sE.call(this,x)}catch(C){return Promise.reject(C)}for(w=0,v=g.length;w<v;)E=E.then(g[w++],g[w++]);return E}getUri(t){t=So(this.defaults,t);const r=MC(t.baseURL,t.url);return DC(r,t.params,t.paramsSerializer)}}_e.forEach(["delete","get","head","options"],function(t){lf.prototype[t]=function(r,n){return this.request(So(n||{},{method:t,url:r,data:(n||{}).data}))}});_e.forEach(["post","put","patch"],function(t){function r(n){return function(a,l,f){return this.request(So(f||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}lf.prototype[t]=r(),lf.prototype[t+"Form"]=r(!0)});const hd=lf;class By{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const l=new Promise(f=>{n.subscribe(f),a=f}).then(i);return l.cancel=function(){n.unsubscribe(a)},l},t(function(a,l,f){n.reason||(n.reason=new Qu(a,l,f),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new By(function(i){t=i}),cancel:t}}}const zj=By;function Vj(e){return function(r){return e.apply(null,r)}}function Hj(e){return _e.isObject(e)&&e.isAxiosError===!0}const Ng={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ng).forEach(([e,t])=>{Ng[t]=e});const Gj=Ng;function BC(e){const t=new hd(e),r=SC(hd.prototype.request,t);return _e.extend(r,hd.prototype,t,{allOwnKeys:!0}),_e.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return BC(So(e,i))},r}const kr=BC(My);kr.Axios=hd;kr.CanceledError=Qu;kr.CancelToken=zj;kr.isCancel=FC;kr.VERSION=NC;kr.toFormData=nh;kr.AxiosError=xt;kr.Cancel=kr.CanceledError;kr.all=function(t){return Promise.all(t)};kr.spread=Vj;kr.isAxiosError=Hj;kr.mergeConfig=So;kr.AxiosHeaders=Ii;kr.formToJSON=e=>OC(_e.isHTMLForm(e)?new FormData(e):e);kr.HttpStatusCode=Gj;kr.default=kr;const UC=kr,$C=()=>Wj.get("/auth/anonymous?platform=subscriptions").then(e=>e.data);class Kj{constructor(t,r){dn(this,"AUTH_KEY","jwt-auth-key");dn(this,"set",t=>{this.storage.setLocalData(this.AUTH_KEY,t),this.axiosInstance.defaults.headers.Authorization=`Bearer ${t.token}`});dn(this,"remove",()=>{this.storage.removeLocalData(this.AUTH_KEY),this.axiosInstance.defaults.headers.Authorization=null});dn(this,"refresh",()=>{const t=this.storage.getLocalData(this.AUTH_KEY);return t?(this.axiosInstance.defaults.headers.Authorization=`Bearer ${t.token}`,!0):!1});this.storage=t,this.axiosInstance=r}}class jC{constructor(t=""){dn(this,"setLocalData",(t,r)=>{localStorage.setItem(this.prefix+t,JSON.stringify(r))});dn(this,"removeLocalData",t=>{localStorage.setItem(this.prefix+t,"")});dn(this,"getLocalData",t=>{const r=localStorage.getItem(this.prefix+t);return r?JSON.parse(r):null});this.prefix=t}}const Wj=UC.create({baseURL:"https://api.wisey.app/api/v1"}),Bg=UC.create({baseURL:"https://api.wisey.app/api/v1"}),Gl=new Kj(new jC,Bg);Bg.interceptors.response.use(e=>e,async e=>{var r;const t=e.config;if(((r=e==null?void 0:e.response)==null?void 0:r.status)===401){if(t._isRetry)return Gl.remove(),Promise.reject(e);t._isRetry=!0;try{return Gl.set(await $C()),Bg.request(t)}catch{return Promise.reject(e)}}return Promise.reject(e)});const qj=()=>{const e=Gl.refresh(),t=D$(),r=x6({queryKey:["auth"],queryFn:$C,enabled:!e,onSuccess:Gl.set,staleTime:0,onError:()=>{Gl.remove(),t()}});return e?{...r,isLoading:!1}:r},Yj=({children:e})=>{const{isLoading:t,isError:r}=qj();return t?we(L$,{}):r?we(_o,{h:"100vh",children:jr(Cy,{spacing:10,alignItems:"center",children:[we(ky,{src:"/genesis-fe-school/disconnected.png",alt:"Network error",w:"200px"}),we(xy,{w:"250px",textAlign:"center",children:"Ooops. Something went wrong"})]})}):we(Pu,{children:e})},Qj=({children:e})=>{const{isOpen:t,onOpen:r}=Yx();return V.useEffect(()=>(window.addEventListener("offline",r),()=>{window.removeEventListener("offline",r)}),[]),we(Pu,{children:t?we(_o,{h:"100vh",children:jr(Cy,{spacing:10,alignItems:"center",children:[we(ky,{src:"/genesis-fe-school/disconnected.png",alt:"Network error",w:"200px"}),we(xy,{w:"250px",textAlign:"center",children:"It seems that you have problems with the Internet"}),we(qx,{onClick:()=>{document.location.reload()},children:"Reconnect"})]})}):e})},Xj="modulepreload",Zj=function(e){return"/genesis-fe-school/"+e},uE={},Uy=function(t,r,n){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=Zj(a),a in uE)return;uE[a]=!0;const l=a.endsWith(".css"),f=l?'[rel="stylesheet"]':"";if(!!n)for(let E=i.length-1;E>=0;E--){const w=i[E];if(w.href===a&&(!l||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${f}`))return;const g=document.createElement("link");if(g.rel=l?"stylesheet":Xj,l||(g.as="script",g.crossOrigin=""),g.href=a,document.head.appendChild(g),l)return new Promise((E,w)=>{g.addEventListener("load",E),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())},Jj=70;var zC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cE=pn.createContext&&pn.createContext(zC),Ta=globalThis&&globalThis.__assign||function(){return Ta=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ta.apply(this,arguments)},ez=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function VC(e){return e&&e.map(function(t,r){return pn.createElement(t.tag,Ta({key:r},t.attr),VC(t.child))})}function $y(e){return function(t){return pn.createElement(tz,Ta({attr:Ta({},e.attr)},t),VC(e.child))}}function tz(e){var t=function(r){var n=e.attr,i=e.size,a=e.title,l=ez(e,["attr","size","title"]),f=i||r.size||"1em",m;return r.className&&(m=r.className),e.className&&(m=(m?m+" ":"")+e.className),pn.createElement("svg",Ta({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,l,{className:m,style:Ta(Ta({color:e.color||r.color},r.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),a&&pn.createElement("title",null,a),e.children)};return cE!==void 0?pn.createElement(cE.Consumer,null,function(r){return t(r)}):t(zC)}function E9(e){return $y({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112L184 256l144 144"}}]})(e)}function T9(e){return $y({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M184 112l144 144-144 144"}}]})(e)}function rz(e){return $y({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48M336 64h112v112M224 288L440 72"}}]})(e)}const nz=({children:e,objectFit:t="cover",borderRadius:r="md",...n})=>we(Zf,{bg:"black",position:"relative",borderRadius:r,sx:{video:{h:"100%",w:"100%",objectFit:t,borderRadius:r}},...n,children:e}),iz=()=>we(_o,{position:"absolute",top:0,left:0,w:"100%",h:"100%",bg:"rgba(0, 0, 0, 0.5)",children:we(Hu,{color:"white"})});var az=typeof global=="object"&&global&&global.Object===Object&&global;const sz=az;var oz=typeof self=="object"&&self&&self.Object===Object&&self,lz=sz||oz||Function("return this")();const sh=lz;var uz=sh.Symbol;const bo=uz;var HC=Object.prototype,cz=HC.hasOwnProperty,dz=HC.toString,fl=bo?bo.toStringTag:void 0;function fz(e){var t=cz.call(e,fl),r=e[fl];try{e[fl]=void 0;var n=!0}catch{}var i=dz.call(e);return n&&(t?e[fl]=r:delete e[fl]),i}var hz=Object.prototype,pz=hz.toString;function mz(e){return pz.call(e)}var gz="[object Null]",vz="[object Undefined]",dE=bo?bo.toStringTag:void 0;function GC(e){return e==null?e===void 0?vz:gz:dE&&dE in Object(e)?fz(e):mz(e)}function yz(e){return e!=null&&typeof e=="object"}var Sz="[object Symbol]";function oh(e){return typeof e=="symbol"||yz(e)&&GC(e)==Sz}function bz(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Ez=Array.isArray;const jy=Ez;var Tz=1/0,fE=bo?bo.prototype:void 0,hE=fE?fE.toString:void 0;function KC(e){if(typeof e=="string")return e;if(jy(e))return bz(e,KC)+"";if(oh(e))return hE?hE.call(e):"";var t=e+"";return t=="0"&&1/e==-Tz?"-0":t}var wz=/\s/;function kz(e){for(var t=e.length;t--&&wz.test(e.charAt(t)););return t}var xz=/^\s+/;function Cz(e){return e&&e.slice(0,kz(e)+1).replace(xz,"")}function Eo(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var pE=0/0,_z=/^[-+]0x[0-9a-f]+$/i,Az=/^0b[01]+$/i,Rz=/^0o[0-7]+$/i,Pz=parseInt;function mE(e){if(typeof e=="number")return e;if(oh(e))return pE;if(Eo(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Eo(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Cz(e);var r=Az.test(e);return r||Rz.test(e)?Pz(e.slice(2),r?2:8):_z.test(e)?pE:+e}var Lz="[object AsyncFunction]",Dz="[object Function]",Iz="[object GeneratorFunction]",Oz="[object Proxy]";function Fz(e){if(!Eo(e))return!1;var t=GC(e);return t==Dz||t==Iz||t==Lz||t==Oz}var Mz=sh["__core-js_shared__"];const Qp=Mz;var gE=function(){var e=/[^.]+$/.exec(Qp&&Qp.keys&&Qp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Nz(e){return!!gE&&gE in e}var Bz=Function.prototype,Uz=Bz.toString;function $z(e){if(e!=null){try{return Uz.call(e)}catch{}try{return e+""}catch{}}return""}var jz=/[\\^$.*+?()[\]{}|]/g,zz=/^\[object .+?Constructor\]$/,Vz=Function.prototype,Hz=Object.prototype,Gz=Vz.toString,Kz=Hz.hasOwnProperty,Wz=RegExp("^"+Gz.call(Kz).replace(jz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qz(e){if(!Eo(e)||Nz(e))return!1;var t=Fz(e)?Wz:zz;return t.test($z(e))}function Yz(e,t){return e==null?void 0:e[t]}function WC(e,t){var r=Yz(e,t);return qz(r)?r:void 0}function Qz(e,t){return e===t||e!==e&&t!==t}var Xz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zz=/^\w*$/;function Jz(e,t){if(jy(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||oh(e)?!0:Zz.test(e)||!Xz.test(e)||t!=null&&e in Object(t)}var eV=WC(Object,"create");const Au=eV;function tV(){this.__data__=Au?Au(null):{},this.size=0}function rV(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var nV="__lodash_hash_undefined__",iV=Object.prototype,aV=iV.hasOwnProperty;function sV(e){var t=this.__data__;if(Au){var r=t[e];return r===nV?void 0:r}return aV.call(t,e)?t[e]:void 0}var oV=Object.prototype,lV=oV.hasOwnProperty;function uV(e){var t=this.__data__;return Au?t[e]!==void 0:lV.call(t,e)}var cV="__lodash_hash_undefined__";function dV(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Au&&t===void 0?cV:t,this}function cs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}cs.prototype.clear=tV;cs.prototype.delete=rV;cs.prototype.get=sV;cs.prototype.has=uV;cs.prototype.set=dV;function fV(){this.__data__=[],this.size=0}function lh(e,t){for(var r=e.length;r--;)if(Qz(e[r][0],t))return r;return-1}var hV=Array.prototype,pV=hV.splice;function mV(e){var t=this.__data__,r=lh(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():pV.call(t,r,1),--this.size,!0}function gV(e){var t=this.__data__,r=lh(t,e);return r<0?void 0:t[r][1]}function vV(e){return lh(this.__data__,e)>-1}function yV(e,t){var r=this.__data__,n=lh(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function Po(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Po.prototype.clear=fV;Po.prototype.delete=mV;Po.prototype.get=gV;Po.prototype.has=vV;Po.prototype.set=yV;var SV=WC(sh,"Map");const bV=SV;function EV(){this.size=0,this.__data__={hash:new cs,map:new(bV||Po),string:new cs}}function TV(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function uh(e,t){var r=e.__data__;return TV(t)?r[typeof t=="string"?"string":"hash"]:r.map}function wV(e){var t=uh(this,e).delete(e);return this.size-=t?1:0,t}function kV(e){return uh(this,e).get(e)}function xV(e){return uh(this,e).has(e)}function CV(e,t){var r=uh(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function ms(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ms.prototype.clear=EV;ms.prototype.delete=wV;ms.prototype.get=kV;ms.prototype.has=xV;ms.prototype.set=CV;var _V="Expected a function";function zy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(_V);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var l=e.apply(this,n);return r.cache=a.set(i,l)||a,l};return r.cache=new(zy.Cache||ms),r}zy.Cache=ms;var AV=500;function RV(e){var t=zy(e,function(n){return r.size===AV&&r.clear(),n}),r=t.cache;return t}var PV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,LV=/\\(\\)?/g,DV=RV(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(PV,function(r,n,i,a){t.push(i?a.replace(LV,"$1"):n||r)}),t});const IV=DV;function OV(e){return e==null?"":KC(e)}function FV(e,t){return jy(e)?e:Jz(e,t)?[e]:IV(OV(e))}var MV=1/0;function NV(e){if(typeof e=="string"||oh(e))return e;var t=e+"";return t=="0"&&1/e==-MV?"-0":t}function BV(e,t){t=FV(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[NV(t[r++])];return r&&r==n?e:void 0}function UV(e,t,r){var n=e==null?void 0:BV(e,t);return n===void 0?r:n}var $V=function(){return sh.Date.now()};const Xp=$V;var jV="Expected a function",zV=Math.max,VV=Math.min;function HV(e,t,r){var n,i,a,l,f,m,g=0,E=!1,w=!1,v=!0;if(typeof e!="function")throw new TypeError(jV);t=mE(t)||0,Eo(r)&&(E=!!r.leading,w="maxWait"in r,a=w?zV(mE(r.maxWait)||0,t):a,v="trailing"in r?!!r.trailing:v);function x($){var B=n,K=i;return n=i=void 0,g=$,l=e.apply(K,B),l}function C($){return g=$,f=setTimeout(P,t),E?x($):l}function L($){var B=$-m,K=$-g,ce=t-B;return w?VV(ce,a-K):ce}function I($){var B=$-m,K=$-g;return m===void 0||B>=t||B<0||w&&K>=a}function P(){var $=Xp();if(I($))return R($);f=setTimeout(P,L($))}function R($){return f=void 0,v&&n?x($):(n=i=void 0,l)}function A(){f!==void 0&&clearTimeout(f),g=0,n=m=i=f=void 0}function M(){return f===void 0?l:R(Xp())}function j(){var $=Xp(),B=I($);if(n=arguments,i=this,m=$,B){if(f===void 0)return C(m);if(w)return clearTimeout(f),f=setTimeout(P,t),x(m)}return f===void 0&&(f=setTimeout(P,t)),l}return j.cancel=A,j.flush=M,j}var GV="Expected a function";function KV(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(GV);return Eo(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),HV(e,t,{leading:n,maxWait:t,trailing:i})}class Ug{constructor(t){dn(this,"IS_DONE_OFFSET",5);dn(this,"getCourseProgress",t=>this.storage.getLocalData(t)??{lessons:{},order:[]});dn(this,"getLessonProgress",(t,r)=>{const n=this.storage.getLocalData(t);return UV(n,["lessons",r],{time:0,isDone:!1})});dn(this,"updateProgress",({courseId:t,lessonId:r,time:n,duration:i})=>{const{lessons:a,order:l}=this.getCourseProgress(t),{isDone:f,time:m}=this.getLessonProgress(t,r);if(f)return;const g={lessons:{...a,[r]:{isDone:i-n<this.IS_DONE_OFFSET,time:n||m}},order:l.includes(r)?l:[...l,r]};this.storage.setLocalData(t,g)});this.storage=t}}dn(Ug,"STORAGE_PREFIX","progress-key-");const vE=new Ug(new jC(Ug.STORAGE_PREFIX)),WV=1e3,qV=5,YV=({videoRef:e,courseId:t,lessonId:r,duration:n})=>(V.useEffect(()=>{const i=KV(()=>{var l;const a=((l=e.current)==null?void 0:l.currentTime)??0;a>qV&&vE.updateProgress({courseId:t,lessonId:r,time:a,duration:n})},WV);return e!=null&&e.current&&e.current.addEventListener("timeupdate",i),()=>{i.cancel(),e!=null&&e.current&&e.current.removeEventListener("timeupdate",i)}},[t,r]),V.useEffect(()=>{if(e.current){const{time:i,isDone:a}=vE.getLessonProgress(t,r);e.current.currentTime=a?0:i}},[t,r]),we(Pu,{}));var $g={},QV={get exports(){return $g},set exports(e){$g=e}};(function(e,t){typeof window<"u"&&function(r,n){e.exports=n()}(hl,()=>(()=>{var r={21:(l,f,m)=>{m.r(f),m.d(f,{default:()=>L});var g=function(){function I(P,R){this.subtle=void 0,this.aesIV=void 0,this.subtle=P,this.aesIV=R}return I.prototype.decrypt=function(P,R){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},R,P)},I}(),E=function(){function I(P,R){this.subtle=void 0,this.key=void 0,this.subtle=P,this.key=R}return I.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},I}(),w=m(145),v=function(){function I(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var P=I.prototype;return P.uint8ArrayToUint32Array_=function(R){for(var A=new DataView(R),M=new Uint32Array(4),j=0;j<4;j++)M[j]=A.getUint32(4*j);return M},P.initTable=function(){var R=this.sBox,A=this.invSBox,M=this.subMix,j=M[0],$=M[1],B=M[2],K=M[3],ce=this.invSubMix,ye=ce[0],ie=ce[1],N=ce[2],Z=ce[3],G=new Uint32Array(256),ue=0,Ce=0,Se=0;for(Se=0;Se<256;Se++)G[Se]=Se<128?Se<<1:Se<<1^283;for(Se=0;Se<256;Se++){var ae=Ce^Ce<<1^Ce<<2^Ce<<3^Ce<<4;ae=ae>>>8^255&ae^99,R[ue]=ae,A[ae]=ue;var be=G[ue],ke=G[be],Re=G[ke],Le=257*G[ae]^16843008*ae;j[ue]=Le<<24|Le>>>8,$[ue]=Le<<16|Le>>>16,B[ue]=Le<<8|Le>>>24,K[ue]=Le,Le=16843009*Re^65537*ke^257*be^16843008*ue,ye[ae]=Le<<24|Le>>>8,ie[ae]=Le<<16|Le>>>16,N[ae]=Le<<8|Le>>>24,Z[ae]=Le,ue?(ue=be^G[G[G[Re^be]]],Ce^=G[G[Ce]]):ue=Ce=1}},P.expandKey=function(R){for(var A=this.uint8ArrayToUint32Array_(R),M=!0,j=0;j<A.length&&M;)M=A[j]===this.key[j],j++;if(!M){this.key=A;var $=this.keySize=A.length;if($!==4&&$!==6&&$!==8)throw new Error("Invalid aes key size="+$);var B,K,ce,ye,ie=this.ksRows=4*($+6+1),N=this.keySchedule=new Uint32Array(ie),Z=this.invKeySchedule=new Uint32Array(ie),G=this.sBox,ue=this.rcon,Ce=this.invSubMix,Se=Ce[0],ae=Ce[1],be=Ce[2],ke=Ce[3];for(B=0;B<ie;B++)B<$?ce=N[B]=A[B]:(ye=ce,B%$==0?(ye=G[(ye=ye<<8|ye>>>24)>>>24]<<24|G[ye>>>16&255]<<16|G[ye>>>8&255]<<8|G[255&ye],ye^=ue[B/$|0]<<24):$>6&&B%$==4&&(ye=G[ye>>>24]<<24|G[ye>>>16&255]<<16|G[ye>>>8&255]<<8|G[255&ye]),N[B]=ce=(N[B-$]^ye)>>>0);for(K=0;K<ie;K++)B=ie-K,ye=3&K?N[B]:N[B-4],Z[K]=K<4||B<=4?ye:Se[G[ye>>>24]]^ae[G[ye>>>16&255]]^be[G[ye>>>8&255]]^ke[G[255&ye]],Z[K]=Z[K]>>>0}},P.networkToHostOrderSwap=function(R){return R<<24|(65280&R)<<8|(16711680&R)>>8|R>>>24},P.decrypt=function(R,A,M){for(var j,$,B,K,ce,ye,ie,N,Z,G,ue,Ce,Se,ae,be=this.keySize+6,ke=this.invKeySchedule,Re=this.invSBox,Le=this.invSubMix,Ge=Le[0],nt=Le[1],de=Le[2],me=Le[3],le=this.uint8ArrayToUint32Array_(M),De=le[0],Ie=le[1],Fe=le[2],Me=le[3],je=new Int32Array(R),Ke=new Int32Array(je.length),oe=this.networkToHostOrderSwap;A<je.length;){for(Z=oe(je[A]),G=oe(je[A+1]),ue=oe(je[A+2]),Ce=oe(je[A+3]),ce=Z^ke[0],ye=Ce^ke[1],ie=ue^ke[2],N=G^ke[3],Se=4,ae=1;ae<be;ae++)j=Ge[ce>>>24]^nt[ye>>16&255]^de[ie>>8&255]^me[255&N]^ke[Se],$=Ge[ye>>>24]^nt[ie>>16&255]^de[N>>8&255]^me[255&ce]^ke[Se+1],B=Ge[ie>>>24]^nt[N>>16&255]^de[ce>>8&255]^me[255&ye]^ke[Se+2],K=Ge[N>>>24]^nt[ce>>16&255]^de[ye>>8&255]^me[255&ie]^ke[Se+3],ce=j,ye=$,ie=B,N=K,Se+=4;j=Re[ce>>>24]<<24^Re[ye>>16&255]<<16^Re[ie>>8&255]<<8^Re[255&N]^ke[Se],$=Re[ye>>>24]<<24^Re[ie>>16&255]<<16^Re[N>>8&255]<<8^Re[255&ce]^ke[Se+1],B=Re[ie>>>24]<<24^Re[N>>16&255]<<16^Re[ce>>8&255]<<8^Re[255&ye]^ke[Se+2],K=Re[N>>>24]<<24^Re[ce>>16&255]<<16^Re[ye>>8&255]<<8^Re[255&ie]^ke[Se+3],Ke[A]=oe(j^De),Ke[A+1]=oe(K^Ie),Ke[A+2]=oe(B^Fe),Ke[A+3]=oe($^Me),De=Z,Ie=G,Fe=ue,Me=Ce,A+=4}return Ke.buffer},I}(),x=m(93),C=m(63),L=function(){function I(R,A){var M=(A===void 0?{}:A).removePKCS7Padding,j=M===void 0||M;if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=R.enableSoftwareAES,this.removePKCS7Padding=j,j)try{var $=self.crypto;$&&(this.subtle=$.subtle||$.webkitSubtle)}catch{}this.subtle===null&&(this.useSoftware=!0)}var P=I.prototype;return P.destroy=function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null},P.isSync=function(){return this.useSoftware},P.flush=function(){var R=this.currentResult,A=this.remainderData;if(!R||A)return this.reset(),null;var M,j,$,B=new Uint8Array(R);return this.reset(),this.removePKCS7Padding?($=(j=(M=B).byteLength)&&new DataView(M.buffer).getUint8(j-1))?(0,w.sliceUint8)(M,0,j-$):M:B},P.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},P.decrypt=function(R,A,M){var j=this;return this.useSoftware?new Promise(function($,B){j.softwareDecrypt(new Uint8Array(R),A,M);var K=j.flush();K?$(K.buffer):B(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(R),A,M)},P.softwareDecrypt=function(R,A,M){var j=this.currentIV,$=this.currentResult,B=this.remainderData;this.logOnce("JS AES decrypt"),B&&(R=(0,C.appendUint8Array)(B,R),this.remainderData=null);var K=this.getValidChunk(R);if(!K.length)return null;j&&(M=j);var ce=this.softwareDecrypter;ce||(ce=this.softwareDecrypter=new v),ce.expandKey(A);var ye=$;return this.currentResult=ce.decrypt(K.buffer,0,M),this.currentIV=(0,w.sliceUint8)(K,-16).buffer,ye||null},P.webCryptoDecrypt=function(R,A,M){var j=this,$=this.subtle;return this.key===A&&this.fastAesKey||(this.key=A,this.fastAesKey=new E($,A)),this.fastAesKey.expandKey().then(function(B){return $?(j.logOnce("WebCrypto AES decrypt"),new g($,new Uint8Array(M)).decrypt(R.buffer,B)):Promise.reject(new Error("web crypto not initialized"))}).catch(function(B){return x.logger.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, "+B.name+": "+B.message),j.onWebCryptoError(R,A,M)})},P.onWebCryptoError=function(R,A,M){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(R,A,M);var j=this.flush();if(j)return j.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")},P.getValidChunk=function(R){var A=R,M=R.length-R.length%16;return M!==R.length&&(A=(0,w.sliceUint8)(R,0,M),this.remainderData=(0,w.sliceUint8)(R,M)),A},P.logOnce=function(R){this.logEnabled&&(x.logger.log("[decrypter]: "+R),this.logEnabled=!1)},I}()},181:(l,f,m)=>{m.r(f),m.d(f,{canParse:()=>C,decodeFrame:()=>A,getID3Data:()=>v,getID3Frames:()=>R,getTimeStamp:()=>L,isFooter:()=>w,isHeader:()=>E,isTimeStampFrame:()=>I,testables:()=>ce,utf8ArrayToStr:()=>K});var g,E=function(ie,N){return N+10<=ie.length&&ie[N]===73&&ie[N+1]===68&&ie[N+2]===51&&ie[N+3]<255&&ie[N+4]<255&&ie[N+6]<128&&ie[N+7]<128&&ie[N+8]<128&&ie[N+9]<128},w=function(ie,N){return N+10<=ie.length&&ie[N]===51&&ie[N+1]===68&&ie[N+2]===73&&ie[N+3]<255&&ie[N+4]<255&&ie[N+6]<128&&ie[N+7]<128&&ie[N+8]<128&&ie[N+9]<128},v=function(ie,N){for(var Z=N,G=0;E(ie,N);)G+=10,G+=x(ie,N+6),w(ie,N+10)&&(G+=10),N+=G;if(G>0)return ie.subarray(Z,Z+G)},x=function(ie,N){var Z=0;return Z=(127&ie[N])<<21,Z|=(127&ie[N+1])<<14,(Z|=(127&ie[N+2])<<7)|127&ie[N+3]},C=function(ie,N){return E(ie,N)&&x(ie,N+6)+10<=ie.length-N},L=function(ie){for(var N=R(ie),Z=0;Z<N.length;Z++){var G=N[Z];if(I(G))return B(G)}},I=function(ie){return ie&&ie.key==="PRIV"&&ie.info==="com.apple.streaming.transportStreamTimestamp"},P=function(ie){var N=String.fromCharCode(ie[0],ie[1],ie[2],ie[3]),Z=x(ie,4);return{type:N,size:Z,data:ie.subarray(10,10+Z)}},R=function(ie){for(var N=0,Z=[];E(ie,N);){for(var G=x(ie,N+6),ue=(N+=10)+G;N+8<ue;){var Ce=P(ie.subarray(N)),Se=A(Ce);Se&&Z.push(Se),N+=Ce.size+10}w(ie,N)&&(N+=10)}return Z},A=function(ie){return ie.type==="PRIV"?M(ie):ie.type[0]==="W"?$(ie):j(ie)},M=function(ie){if(!(ie.size<2)){var N=K(ie.data,!0),Z=new Uint8Array(ie.data.subarray(N.length+1));return{key:ie.type,info:N,data:Z.buffer}}},j=function(ie){if(!(ie.size<2)){if(ie.type==="TXXX"){var N=1,Z=K(ie.data.subarray(N),!0);N+=Z.length+1;var G=K(ie.data.subarray(N));return{key:ie.type,info:Z,data:G}}var ue=K(ie.data.subarray(1));return{key:ie.type,data:ue}}},$=function(ie){if(ie.type==="WXXX"){if(ie.size<2)return;var N=1,Z=K(ie.data.subarray(N),!0);N+=Z.length+1;var G=K(ie.data.subarray(N));return{key:ie.type,info:Z,data:G}}var ue=K(ie.data);return{key:ie.type,data:ue}},B=function(ie){if(ie.data.byteLength===8){var N=new Uint8Array(ie.data),Z=1&N[3],G=(N[4]<<23)+(N[5]<<15)+(N[6]<<7)+N[7];return G/=45,Z&&(G+=4772185884e-2),Math.round(G)}},K=function(ie,N){N===void 0&&(N=!1);var Z=ye();if(Z){var G=Z.decode(ie);if(N){var ue=G.indexOf("\0");return ue!==-1?G.substring(0,ue):G}return G.replace(/\0/g,"")}for(var Ce,Se,ae,be=ie.length,ke="",Re=0;Re<be;){if((Ce=ie[Re++])===0&&N)return ke;if(Ce!==0&&Ce!==3)switch(Ce>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:ke+=String.fromCharCode(Ce);break;case 12:case 13:Se=ie[Re++],ke+=String.fromCharCode((31&Ce)<<6|63&Se);break;case 14:Se=ie[Re++],ae=ie[Re++],ke+=String.fromCharCode((15&Ce)<<12|(63&Se)<<6|(63&ae)<<0)}}return ke},ce={decodeTextFrame:j};function ye(){return g||self.TextDecoder===void 0||(g=new self.TextDecoder("utf-8")),g}},182:(l,f,m)=>{m.r(f),m.d(f,{default:()=>C});var g=m(544),E=m(851),w=m(93),v=m(729),x=m(973);function C(R){var A=new v.EventEmitter,M=function(j,$){R.postMessage({event:j,data:$})};A.on(E.Events.FRAG_DECRYPTED,M),A.on(E.Events.ERROR,M),R.addEventListener("message",function(j){var $=j.data;switch($.cmd){case"init":var B=JSON.parse($.config);R.transmuxer=new g.default(A,$.typeSupported,B,$.vendor,$.id),(0,w.enableLogs)(B.debug,$.id),function(){var ie=function(Z){w.logger[Z]=function(G){M("workerLog",{logType:Z,message:G})}};for(var N in w.logger)ie(N)}(),M("init",null);break;case"configure":R.transmuxer.configure($.config);break;case"demux":var K=R.transmuxer.push($.data,$.decryptdata,$.chunkMeta,$.state);(0,g.isPromise)(K)?(R.transmuxer.async=!0,K.then(function(ie){L(R,ie)}).catch(function(ie){M(E.Events.ERROR,{type:x.ErrorTypes.MEDIA_ERROR,details:x.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:$.chunkMeta,fatal:!1,error:ie,err:ie,reason:"transmuxer-worker push error"})})):(R.transmuxer.async=!1,L(R,K));break;case"flush":var ce=$.chunkMeta,ye=R.transmuxer.flush(ce);(0,g.isPromise)(ye)||R.transmuxer.async?((0,g.isPromise)(ye)||(ye=Promise.resolve(ye)),ye.then(function(ie){P(R,ie,ce)}).catch(function(ie){M(E.Events.ERROR,{type:x.ErrorTypes.MEDIA_ERROR,details:x.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:$.chunkMeta,fatal:!1,error:ie,err:ie,reason:"transmuxer-worker flush error"})})):P(R,ye,ce)}})}function L(R,A){if(!((M=A.remuxResult).audio||M.video||M.text||M.id3||M.initSegment))return!1;var M,j=[],$=A.remuxResult,B=$.audio,K=$.video;return B&&I(j,B),K&&I(j,K),R.postMessage({event:"transmuxComplete",data:A},j),!0}function I(R,A){A.data1&&R.push(A.data1.buffer),A.data2&&R.push(A.data2.buffer)}function P(R,A,M){A.reduce(function(j,$){return L(R,$)||j},!1)||R.postMessage({event:"transmuxComplete",data:A[0]}),R.postMessage({event:"flush",data:M})}},544:(l,f,m)=>{m.r(f),m.d(f,{TransmuxConfig:()=>fr,TransmuxState:()=>lr,default:()=>or,isPromise:()=>br});var g=m(851),E=m(973),w=m(21),v=m(965),x=m(181),C=m(856);function L(se,Y){return se===void 0&&(se=""),Y===void 0&&(Y=9e4),{type:se,id:-1,pid:-1,inputTimeScale:Y,sequenceNumber:-1,samples:[],dropped:0}}var I=m(63),P=m(145),R=function(){function se(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}var Y=se.prototype;return Y.resetInitSegment=function(O,W,H,X){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},Y.resetTimeStamp=function(O){this.initPTS=O,this.resetContiguity()},Y.resetContiguity=function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0},Y.canParse=function(O,W){return!1},Y.appendFrame=function(O,W,H){},Y.demux=function(O,W){this.cachedData&&(O=(0,I.appendUint8Array)(this.cachedData,O),this.cachedData=null);var H,X=x.getID3Data(O,0),J=X?X.length:0,ne=this._audioTrack,ve=this._id3Track,Ee=X?x.getTimeStamp(X):void 0,xe=O.length;for((this.basePTS===null||this.frameIndex===0&&(0,v.isFiniteNumber)(Ee))&&(this.basePTS=A(Ee,W,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),X&&X.length>0&&ve.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:X,type:C.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});J<xe;){if(this.canParse(O,J)){var Oe=this.appendFrame(ne,O,J);Oe?(this.frameIndex++,this.lastPTS=Oe.sample.pts,H=J+=Oe.length):J=xe}else x.canParse(O,J)?(X=x.getID3Data(O,J),ve.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:X,type:C.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY}),H=J+=X.length):J++;if(J===xe&&H!==xe){var He=(0,P.sliceUint8)(O,H);this.cachedData?this.cachedData=(0,I.appendUint8Array)(this.cachedData,He):this.cachedData=He}}return{audioTrack:ne,videoTrack:L(),id3Track:ve,textTrack:L()}},Y.demuxSampleAes=function(O,W,H){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},Y.flush=function(O){var W=this.cachedData;return W&&(this.cachedData=null,this.demux(W,0)),{audioTrack:this._audioTrack,videoTrack:L(),id3Track:this._id3Track,textTrack:L()}},Y.destroy=function(){},se}(),A=function(se,Y,O){return(0,v.isFiniteNumber)(se)?90*se:9e4*Y+(O||0)};const M=R;var j=m(93);function $(se,Y){return se[Y]===255&&(246&se[Y+1])==240}function B(se,Y){return 1&se[Y+1]?7:9}function K(se,Y){return(3&se[Y+3])<<11|se[Y+4]<<3|(224&se[Y+5])>>>5}function ce(se,Y){return Y+1<se.length&&$(se,Y)}function ye(se,Y){if(ce(se,Y)){var O=B(se,Y);if(Y+O>=se.length)return!1;var W=K(se,Y);if(W<=O)return!1;var H=Y+W;return H===se.length||ce(se,H)}return!1}function ie(se,Y,O,W,H){if(!se.samplerate){var X=function(J,ne,ve,Ee){var xe,Oe,He,Ue,Ye=navigator.userAgent.toLowerCase(),at=Ee,mt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];xe=1+((192&ne[ve+2])>>>6);var qe=(60&ne[ve+2])>>>2;if(!(qe>mt.length-1))return He=(1&ne[ve+2])<<2,He|=(192&ne[ve+3])>>>6,j.logger.log("manifest codec:"+Ee+", ADTS type:"+xe+", samplingIndex:"+qe),/firefox/i.test(Ye)?qe>=6?(xe=5,Ue=new Array(4),Oe=qe-3):(xe=2,Ue=new Array(2),Oe=qe):Ye.indexOf("android")!==-1?(xe=2,Ue=new Array(2),Oe=qe):(xe=5,Ue=new Array(4),Ee&&(Ee.indexOf("mp4a.40.29")!==-1||Ee.indexOf("mp4a.40.5")!==-1)||!Ee&&qe>=6?Oe=qe-3:((Ee&&Ee.indexOf("mp4a.40.2")!==-1&&(qe>=6&&He===1||/vivaldi/i.test(Ye))||!Ee&&He===1)&&(xe=2,Ue=new Array(2)),Oe=qe)),Ue[0]=xe<<3,Ue[0]|=(14&qe)>>1,Ue[1]|=(1&qe)<<7,Ue[1]|=He<<3,xe===5&&(Ue[1]|=(14&Oe)>>1,Ue[2]=(1&Oe)<<7,Ue[2]|=8,Ue[3]=0),{config:Ue,samplerate:mt[qe],channelCount:He,codec:"mp4a.40."+xe,manifestCodec:at};J.trigger(g.Events.ERROR,{type:E.ErrorTypes.MEDIA_ERROR,details:E.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+qe})}(Y,O,W,H);if(!X)return;se.config=X.config,se.samplerate=X.samplerate,se.channelCount=X.channelCount,se.codec=X.codec,se.manifestCodec=X.manifestCodec,j.logger.log("parsed codec:"+se.codec+", rate:"+X.samplerate+", channels:"+X.channelCount)}}function N(se){return 9216e4/se}function Z(se,Y,O,W,H){var X,J=W+H*N(se.samplerate),ne=function(Ye,at){var mt=B(Ye,at);if(at+mt<=Ye.length){var qe=K(Ye,at)-mt;if(qe>0)return{headerLength:mt,frameLength:qe}}}(Y,O);if(ne){var ve=ne.frameLength,Ee=ne.headerLength,xe=Ee+ve,Oe=Math.max(0,O+xe-Y.length);Oe?(X=new Uint8Array(xe-Ee)).set(Y.subarray(O+Ee,Y.length),0):X=Y.subarray(O+Ee,O+xe);var He={unit:X,pts:J};return Oe||se.samples.push(He),{sample:He,length:xe,missing:Oe}}var Ue=Y.length-O;return(X=new Uint8Array(Ue)).set(Y.subarray(O,Y.length),0),{sample:{unit:X,pts:J},length:Ue,missing:-1}}function G(se,Y){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,W){return O.__proto__=W,O},G(se,Y)}const ue=function(se){var Y,O;function W(X,J){var ne;return(ne=se.call(this)||this).observer=void 0,ne.config=void 0,ne.observer=X,ne.config=J,ne}O=se,(Y=W).prototype=Object.create(O.prototype),Y.prototype.constructor=Y,G(Y,O);var H=W.prototype;return H.resetInitSegment=function(X,J,ne,ve){se.prototype.resetInitSegment.call(this,X,J,ne,ve),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:J,duration:ve,inputTimeScale:9e4,dropped:0}},W.probe=function(X){if(!X)return!1;for(var J=(x.getID3Data(X,0)||[]).length,ne=X.length;J<ne;J++)if(ye(X,J))return j.logger.log("ADTS sync word found !"),!0;return!1},H.canParse=function(X,J){return function(ne,ve){return function(Ee,xe){return xe+5<Ee.length}(ne,ve)&&$(ne,ve)&&K(ne,ve)<=ne.length-ve}(X,J)},H.appendFrame=function(X,J,ne){ie(X,this.observer,J,ne,X.manifestCodec);var ve=Z(X,J,ne,this.basePTS,this.frameIndex);if(ve&&ve.missing===0)return ve},W}(M);var Ce=/\/emsg[-/]ID3/i;const Se=function(){function se(O,W){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=W}var Y=se.prototype;return Y.resetTimeStamp=function(){},Y.resetInitSegment=function(O,W,H,X){var J=this.videoTrack=L("video",1),ne=this.audioTrack=L("audio",1),ve=this.txtTrack=L("text",1);if(this.id3Track=L("id3",1),this.timeOffset=0,O&&O.byteLength){var Ee=(0,I.parseInitSegment)(O);if(Ee.video){var xe=Ee.video,Oe=xe.id,He=xe.timescale,Ue=xe.codec;J.id=Oe,J.timescale=ve.timescale=He,J.codec=Ue}if(Ee.audio){var Ye=Ee.audio,at=Ye.id,mt=Ye.timescale,qe=Ye.codec;ne.id=at,ne.timescale=mt,ne.codec=qe}ve.id=I.RemuxerTrackIdConfig.text,J.sampleDuration=0,J.duration=ne.duration=X}},Y.resetContiguity=function(){},se.probe=function(O){return O=O.length>16384?O.subarray(0,16384):O,(0,I.findBox)(O,["moof"]).length>0},Y.demux=function(O,W){this.timeOffset=W;var H=O,X=this.videoTrack,J=this.txtTrack;if(this.config.progressive){this.remainderData&&(H=(0,I.appendUint8Array)(this.remainderData,O));var ne=(0,I.segmentValidRange)(H);this.remainderData=ne.remainder,X.samples=ne.valid||new Uint8Array}else X.samples=H;var ve=this.extractID3Track(X,W);return J.samples=(0,I.parseSamples)(W,X),{videoTrack:X,audioTrack:this.audioTrack,id3Track:ve,textTrack:this.txtTrack}},Y.flush=function(){var O=this.timeOffset,W=this.videoTrack,H=this.txtTrack;W.samples=this.remainderData||new Uint8Array,this.remainderData=null;var X=this.extractID3Track(W,this.timeOffset);return H.samples=(0,I.parseSamples)(O,W),{videoTrack:W,audioTrack:L(),id3Track:X,textTrack:L()}},Y.extractID3Track=function(O,W){var H=this.id3Track;if(O.samples.length){var X=(0,I.findBox)(O.samples,["emsg"]);X&&X.forEach(function(J){var ne=(0,I.parseEmsg)(J);if(Ce.test(ne.schemeIdUri)){var ve=(0,v.isFiniteNumber)(ne.presentationTime)?ne.presentationTime/ne.timeScale:W+ne.presentationTimeDelta/ne.timeScale,Ee=ne.eventDuration===4294967295?Number.POSITIVE_INFINITY:ne.eventDuration/ne.timeScale;Ee<=.001&&(Ee=Number.POSITIVE_INFINITY);var xe=ne.payload;H.samples.push({data:xe,len:xe.byteLength,dts:ve,pts:ve,type:C.MetadataSchema.emsg,duration:Ee})}})}return H},Y.demuxSampleAes=function(O,W,H){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},Y.destroy=function(){},se}();var ae=null,be=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],ke=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Re=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Le=[0,1,1,4];function Ge(se,Y,O,W,H){if(!(O+24>Y.length)){var X=nt(Y,O);if(X&&O+X.frameLength<=Y.length){var J=W+H*(9e4*X.samplesPerFrame/X.sampleRate),ne={unit:Y.subarray(O,O+X.frameLength),pts:J,dts:J};return se.config=[],se.channelCount=X.channelCount,se.samplerate=X.sampleRate,se.samples.push(ne),{sample:ne,length:X.frameLength,missing:0}}}}function nt(se,Y){var O=se[Y+1]>>3&3,W=se[Y+1]>>1&3,H=se[Y+2]>>4&15,X=se[Y+2]>>2&3;if(O!==1&&H!==0&&H!==15&&X!==3){var J=se[Y+2]>>1&1,ne=se[Y+3]>>6,ve=1e3*be[14*(O===3?3-W:W===3?3:4)+H-1],Ee=ke[3*(O===3?0:O===2?1:2)+X],xe=ne===3?1:2,Oe=Re[O][W],He=Le[W],Ue=8*Oe*He,Ye=Math.floor(Oe*ve/Ee+J)*He;if(ae===null){var at=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);ae=at?parseInt(at[1]):0}return ae&&ae<=87&&W===2&&ve>=224e3&&ne===0&&(se[Y+3]=128|se[Y+3]),{sampleRate:Ee,channelCount:xe,frameLength:Ye,samplesPerFrame:Ue}}}function de(se,Y){return se[Y]===255&&(224&se[Y+1])==224&&(6&se[Y+1])!=0}function me(se,Y){return Y+1<se.length&&de(se,Y)}function le(se,Y){if(Y+1<se.length&&de(se,Y)){var O=nt(se,Y),W=4;O!=null&&O.frameLength&&(W=O.frameLength);var H=Y+W;return H===se.length||me(se,H)}return!1}const De=function(){function se(O){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=O,this.bytesAvailable=O.byteLength,this.word=0,this.bitsAvailable=0}var Y=se.prototype;return Y.loadWord=function(){var O=this.data,W=this.bytesAvailable,H=O.byteLength-W,X=new Uint8Array(4),J=Math.min(4,W);if(J===0)throw new Error("no bytes available");X.set(O.subarray(H,H+J)),this.word=new DataView(X.buffer).getUint32(0),this.bitsAvailable=8*J,this.bytesAvailable-=J},Y.skipBits=function(O){var W;O=Math.min(O,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>O?(this.word<<=O,this.bitsAvailable-=O):(O-=this.bitsAvailable,O-=(W=O>>3)<<3,this.bytesAvailable-=W,this.loadWord(),this.word<<=O,this.bitsAvailable-=O)},Y.readBits=function(O){var W=Math.min(this.bitsAvailable,O),H=this.word>>>32-W;if(O>32&&j.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=W,this.bitsAvailable>0)this.word<<=W;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return(W=O-W)>0&&this.bitsAvailable?H<<W|this.readBits(W):H},Y.skipLZ=function(){var O;for(O=0;O<this.bitsAvailable;++O)if(this.word&2147483648>>>O)return this.word<<=O,this.bitsAvailable-=O,O;return this.loadWord(),O+this.skipLZ()},Y.skipUEG=function(){this.skipBits(1+this.skipLZ())},Y.skipEG=function(){this.skipBits(1+this.skipLZ())},Y.readUEG=function(){var O=this.skipLZ();return this.readBits(O+1)-1},Y.readEG=function(){var O=this.readUEG();return 1&O?1+O>>>1:-1*(O>>>1)},Y.readBoolean=function(){return this.readBits(1)===1},Y.readUByte=function(){return this.readBits(8)},Y.readUShort=function(){return this.readBits(16)},Y.readUInt=function(){return this.readBits(32)},Y.skipScalingList=function(O){for(var W=8,H=8,X=0;X<O;X++)H!==0&&(H=(W+this.readEG()+256)%256),W=H===0?W:H},Y.readSPS=function(){var O,W,H,X=0,J=0,ne=0,ve=0,Ee=this.readUByte.bind(this),xe=this.readBits.bind(this),Oe=this.readUEG.bind(this),He=this.readBoolean.bind(this),Ue=this.skipBits.bind(this),Ye=this.skipEG.bind(this),at=this.skipUEG.bind(this),mt=this.skipScalingList.bind(this);Ee();var qe=Ee();if(xe(5),Ue(3),Ee(),at(),qe===100||qe===110||qe===122||qe===244||qe===44||qe===83||qe===86||qe===118||qe===128){var ot=Oe();if(ot===3&&Ue(1),at(),at(),Ue(1),He())for(W=ot!==3?8:12,H=0;H<W;H++)He()&&mt(H<6?16:64)}at();var hr=Oe();if(hr===0)Oe();else if(hr===1)for(Ue(1),Ye(),Ye(),O=Oe(),H=0;H<O;H++)Ye();at(),Ue(1);var wt=Oe(),pr=Oe(),Yt=xe(1);Yt===0&&Ue(1),Ue(1),He()&&(X=Oe(),J=Oe(),ne=Oe(),ve=Oe());var Ze=[1,1];if(He()&&He())switch(Ee()){case 1:Ze=[1,1];break;case 2:Ze=[12,11];break;case 3:Ze=[10,11];break;case 4:Ze=[16,11];break;case 5:Ze=[40,33];break;case 6:Ze=[24,11];break;case 7:Ze=[20,11];break;case 8:Ze=[32,11];break;case 9:Ze=[80,33];break;case 10:Ze=[18,11];break;case 11:Ze=[15,11];break;case 12:Ze=[64,33];break;case 13:Ze=[160,99];break;case 14:Ze=[4,3];break;case 15:Ze=[3,2];break;case 16:Ze=[2,1];break;case 255:Ze=[Ee()<<8|Ee(),Ee()<<8|Ee()]}return{width:Math.ceil(16*(wt+1)-2*X-2*J),height:(2-Yt)*(pr+1)*16-(Yt?2:4)*(ne+ve),pixelRatio:Ze}},Y.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},se}(),Ie=function(){function se(O,W,H){this.keyData=void 0,this.decrypter=void 0,this.keyData=H,this.decrypter=new w.default(W,{removePKCS7Padding:!1})}var Y=se.prototype;return Y.decryptBuffer=function(O){return this.decrypter.decrypt(O,this.keyData.key.buffer,this.keyData.iv.buffer)},Y.decryptAacSample=function(O,W,H){var X=this,J=O[W].unit;if(!(J.length<=16)){var ne=J.subarray(16,J.length-J.length%16),ve=ne.buffer.slice(ne.byteOffset,ne.byteOffset+ne.length);this.decryptBuffer(ve).then(function(Ee){var xe=new Uint8Array(Ee);J.set(xe,16),X.decrypter.isSync()||X.decryptAacSamples(O,W+1,H)})}},Y.decryptAacSamples=function(O,W,H){for(;;W++){if(W>=O.length)return void H();if(!(O[W].unit.length<32||(this.decryptAacSample(O,W,H),this.decrypter.isSync())))return}},Y.getAvcEncryptedData=function(O){for(var W=16*Math.floor((O.length-48)/160)+16,H=new Int8Array(W),X=0,J=32;J<O.length-16;J+=160,X+=16)H.set(O.subarray(J,J+16),X);return H},Y.getAvcDecryptedUnit=function(O,W){for(var H=new Uint8Array(W),X=0,J=32;J<O.length-16;J+=160,X+=16)O.set(H.subarray(X,X+16),J);return O},Y.decryptAvcSample=function(O,W,H,X,J){var ne=this,ve=(0,I.discardEPB)(J.data),Ee=this.getAvcEncryptedData(ve);this.decryptBuffer(Ee.buffer).then(function(xe){J.data=ne.getAvcDecryptedUnit(ve,xe),ne.decrypter.isSync()||ne.decryptAvcSamples(O,W,H+1,X)})},Y.decryptAvcSamples=function(O,W,H,X){if(O instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;W++,H=0){if(W>=O.length)return void X();for(var J=O[W].units;!(H>=J.length);H++){var ne=J[H];if(!(ne.data.length<=48||ne.type!==1&&ne.type!==5||(this.decryptAvcSample(O,W,H,X,ne),this.decrypter.isSync())))return}}},se}();function Fe(){return Fe=Object.assign?Object.assign.bind():function(se){for(var Y=1;Y<arguments.length;Y++){var O=arguments[Y];for(var W in O)Object.prototype.hasOwnProperty.call(O,W)&&(se[W]=O[W])}return se},Fe.apply(this,arguments)}var Me=188;function je(se,Y,O,W){return{key:se,frame:!1,pts:Y,dts:O,units:[],debug:W,length:0}}function Ke(se,Y){return((31&se[Y+1])<<8)+se[Y+2]}function oe(se,Y){return(31&se[Y+10])<<8|se[Y+11]}function Qe(se,Y,O,W){var H={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},X=Y+3+((15&se[Y+1])<<8|se[Y+2])-4;for(Y+=12+((15&se[Y+10])<<8|se[Y+11]);Y<X;){var J=Ke(se,Y);switch(se[Y]){case 207:if(!W){j.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:H.audio===-1&&(H.audio=J);break;case 21:H.id3===-1&&(H.id3=J);break;case 219:if(!W){j.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:H.avc===-1&&(H.avc=J);break;case 3:case 4:O.mpeg!==!0&&O.mp3!==!0?j.logger.log("MPEG audio found, not supported in this browser"):H.audio===-1&&(H.audio=J,H.segmentCodec="mp3");break;case 36:j.logger.warn("Unsupported HEVC stream type found")}Y+=5+((15&se[Y+3])<<8|se[Y+4])}return H}function Xe(se){var Y,O,W,H,X,J=0,ne=se.data;if(!se||se.size===0)return null;for(;ne[0].length<19&&ne.length>1;){var ve=new Uint8Array(ne[0].length+ne[1].length);ve.set(ne[0]),ve.set(ne[1],ne[0].length),ne[0]=ve,ne.splice(1,1)}if(((Y=ne[0])[0]<<16)+(Y[1]<<8)+Y[2]===1){if((O=(Y[4]<<8)+Y[5])&&O>se.size-6)return null;var Ee=Y[7];192&Ee&&(H=536870912*(14&Y[9])+4194304*(255&Y[10])+16384*(254&Y[11])+128*(255&Y[12])+(254&Y[13])/2,64&Ee?H-(X=536870912*(14&Y[14])+4194304*(255&Y[15])+16384*(254&Y[16])+128*(255&Y[17])+(254&Y[18])/2)>54e5&&(j.logger.warn(Math.round((H-X)/9e4)+"s delta between PTS and DTS, align them"),H=X):X=H);var xe=(W=Y[8])+9;if(se.size<=xe)return null;se.size-=xe;for(var Oe=new Uint8Array(se.size),He=0,Ue=ne.length;He<Ue;He++){var Ye=(Y=ne[He]).byteLength;if(xe){if(xe>Ye){xe-=Ye;continue}Y=Y.subarray(xe),Ye-=xe,xe=0}Oe.set(Y,J),J+=Ye}return O&&(O-=W+3),{data:Oe,pts:H,dts:X,len:O}}return null}function dt(se,Y){if(se.units.length&&se.frame){if(se.pts===void 0){var O=Y.samples,W=O.length;if(!W)return void Y.dropped++;var H=O[W-1];se.pts=H.pts,se.dts=H.dts}Y.samples.push(se)}se.debug.length&&j.logger.log(se.pts+"/"+se.dts+":"+se.debug)}const yt=function(){function se(O,W,H){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=O,this.config=W,this.typeSupported=H}se.probe=function(O){var W=se.syncOffset(O);return W>0&&j.logger.warn("MPEG2-TS detected but first sync word found @ offset "+W),W!==-1},se.syncOffset=function(O){for(var W=O.length,H=Math.min(940,O.length-Me)+1,X=0;X<H;){for(var J=!1,ne=X;ne<W&&O[ne]===71;ne+=Me)if(J||Ke(O,ne)!==0||(J=!0),J&&ne+Me>H)return X;X++}return-1},se.createTrack=function(O,W){return{container:O==="video"||O==="audio"?"video/mp2t":void 0,type:O,id:I.RemuxerTrackIdConfig[O],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:O==="audio"?W:void 0}};var Y=se.prototype;return Y.resetInitSegment=function(O,W,H,X){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=se.createTrack("video"),this._audioTrack=se.createTrack("audio",X),this._id3Track=se.createTrack("id3"),this._txtTrack=se.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=W,this.videoCodec=H,this._duration=X},Y.resetTimeStamp=function(){},Y.resetContiguity=function(){var O=this._audioTrack,W=this._avcTrack,H=this._id3Track;O&&(O.pesData=null),W&&(W.pesData=null),H&&(H.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null},Y.demux=function(O,W,H,X){var J;H===void 0&&(H=!1),X===void 0&&(X=!1),H||(this.sampleAes=null);var ne=this._avcTrack,ve=this._audioTrack,Ee=this._id3Track,xe=this._txtTrack,Oe=ne.pid,He=ne.pesData,Ue=ve.pid,Ye=Ee.pid,at=ve.pesData,mt=Ee.pesData,qe=null,ot=this.pmtParsed,hr=this._pmtId,wt=O.length;if(this.remainderData&&(wt=(O=(0,I.appendUint8Array)(this.remainderData,O)).length,this.remainderData=null),wt<Me&&!X)return this.remainderData=O,{audioTrack:ve,videoTrack:ne,id3Track:Ee,textTrack:xe};var pr=Math.max(0,se.syncOffset(O));(wt-=(wt-pr)%Me)<O.byteLength&&!X&&(this.remainderData=new Uint8Array(O.buffer,wt,O.buffer.byteLength-wt));for(var Yt=0,Ze=pr;Ze<wt;Ze+=Me)if(O[Ze]===71){var ar=!!(64&O[Ze+1]),wn=Ke(O,Ze),Ut=void 0;if((48&O[Ze+3])>>4>1){if((Ut=Ze+5+O[Ze+4])===Ze+Me)continue}else Ut=Ze+4;switch(wn){case Oe:ar&&(He&&(J=Xe(He))&&this.parseAVCPES(ne,xe,J,!1),He={data:[],size:0}),He&&(He.data.push(O.subarray(Ut,Ze+Me)),He.size+=Ze+Me-Ut);break;case Ue:if(ar){if(at&&(J=Xe(at)))switch(ve.segmentCodec){case"aac":this.parseAACPES(ve,J);break;case"mp3":this.parseMPEGPES(ve,J)}at={data:[],size:0}}at&&(at.data.push(O.subarray(Ut,Ze+Me)),at.size+=Ze+Me-Ut);break;case Ye:ar&&(mt&&(J=Xe(mt))&&this.parseID3PES(Ee,J),mt={data:[],size:0}),mt&&(mt.data.push(O.subarray(Ut,Ze+Me)),mt.size+=Ze+Me-Ut);break;case 0:ar&&(Ut+=O[Ut]+1),hr=this._pmtId=oe(O,Ut);break;case hr:ar&&(Ut+=O[Ut]+1);var mr=Qe(O,Ut,this.typeSupported,H);(Oe=mr.avc)>0&&(ne.pid=Oe),(Ue=mr.audio)>0&&(ve.pid=Ue,ve.segmentCodec=mr.segmentCodec),(Ye=mr.id3)>0&&(Ee.pid=Ye),qe===null||ot||(j.logger.warn("MPEG-TS PMT found at "+Ze+" after unknown PID '"+qe+"'. Backtracking to sync byte @"+pr+" to parse all TS packets."),qe=null,Ze=pr-188),ot=this.pmtParsed=!0;break;case 17:case 8191:break;default:qe=wn}}else Yt++;Yt>0&&this.observer.emit(g.Events.ERROR,g.Events.ERROR,{type:E.ErrorTypes.MEDIA_ERROR,details:E.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+Yt+" TS packet/s that do not start with 0x47"}),ne.pesData=He,ve.pesData=at,Ee.pesData=mt;var kn={audioTrack:ve,videoTrack:ne,id3Track:Ee,textTrack:xe};return X&&this.extractRemainingSamples(kn),kn},Y.flush=function(){var O,W=this.remainderData;return this.remainderData=null,O=W?this.demux(W,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(O),this.sampleAes?this.decrypt(O,this.sampleAes):O},Y.extractRemainingSamples=function(O){var W,H=O.audioTrack,X=O.videoTrack,J=O.id3Track,ne=O.textTrack,ve=X.pesData,Ee=H.pesData,xe=J.pesData;if(ve&&(W=Xe(ve))?(this.parseAVCPES(X,ne,W,!0),X.pesData=null):X.pesData=ve,Ee&&(W=Xe(Ee))){switch(H.segmentCodec){case"aac":this.parseAACPES(H,W);break;case"mp3":this.parseMPEGPES(H,W)}H.pesData=null}else Ee!=null&&Ee.size&&j.logger.log("last AAC PES packet truncated,might overlap between fragments"),H.pesData=Ee;xe&&(W=Xe(xe))?(this.parseID3PES(J,W),J.pesData=null):J.pesData=xe},Y.demuxSampleAes=function(O,W,H){var X=this.demux(O,H,!0,!this.config.progressive),J=this.sampleAes=new Ie(this.observer,this.config,W);return this.decrypt(X,J)},Y.decrypt=function(O,W){return new Promise(function(H){var X=O.audioTrack,J=O.videoTrack;X.samples&&X.segmentCodec==="aac"?W.decryptAacSamples(X.samples,0,function(){J.samples?W.decryptAvcSamples(J.samples,0,0,function(){H(O)}):H(O)}):J.samples&&W.decryptAvcSamples(J.samples,0,0,function(){H(O)})})},Y.destroy=function(){this._duration=0},Y.parseAVCPES=function(O,W,H,X){var J,ne=this,ve=this.parseAVCNALu(O,H.data),Ee=this.avcSample,xe=!1;H.data=null,Ee&&ve.length&&!O.audFound&&(dt(Ee,O),Ee=this.avcSample=je(!1,H.pts,H.dts,"")),ve.forEach(function(Oe){switch(Oe.type){case 1:J=!0,Ee||(Ee=ne.avcSample=je(!0,H.pts,H.dts,"")),Ee.frame=!0;var He=Oe.data;if(xe&&He.length>4){var Ue=new De(He).readSliceType();Ue!==2&&Ue!==4&&Ue!==7&&Ue!==9||(Ee.key=!0)}break;case 5:J=!0,Ee||(Ee=ne.avcSample=je(!0,H.pts,H.dts,"")),Ee.key=!0,Ee.frame=!0;break;case 6:J=!0,(0,I.parseSEIMessageFromNALu)(Oe.data,1,H.pts,W.samples);break;case 7:if(J=!0,xe=!0,!O.sps){var Ye=new De(Oe.data).readSPS();O.width=Ye.width,O.height=Ye.height,O.pixelRatio=Ye.pixelRatio,O.sps=[Oe.data],O.duration=ne._duration;for(var at=Oe.data.subarray(1,4),mt="avc1.",qe=0;qe<3;qe++){var ot=at[qe].toString(16);ot.length<2&&(ot="0"+ot),mt+=ot}O.codec=mt}break;case 8:J=!0,O.pps||(O.pps=[Oe.data]);break;case 9:J=!1,O.audFound=!0,Ee&&dt(Ee,O),Ee=ne.avcSample=je(!1,H.pts,H.dts,"");break;case 12:J=!0;break;default:J=!1,Ee&&(Ee.debug+="unknown NAL "+Oe.type+" ")}Ee&&J&&Ee.units.push(Oe)}),X&&Ee&&(dt(Ee,O),this.avcSample=null)},Y.getLastNalUnit=function(O){var W,H,X=this.avcSample;if(X&&X.units.length!==0||(X=O[O.length-1]),(W=X)!==null&&W!==void 0&&W.units){var J=X.units;H=J[J.length-1]}return H},Y.parseAVCNALu=function(O,W){var H,X,J=W.byteLength,ne=O.naluState||0,ve=ne,Ee=[],xe=0,Oe=-1,He=0;for(ne===-1&&(Oe=0,He=31&W[0],ne=0,xe=1);xe<J;)if(H=W[xe++],ne)if(ne!==1)if(H)if(H===1){if(Oe>=0){var Ue={data:W.subarray(Oe,xe-ne-1),type:He};Ee.push(Ue)}else{var Ye=this.getLastNalUnit(O.samples);if(Ye&&(ve&&xe<=4-ve&&Ye.state&&(Ye.data=Ye.data.subarray(0,Ye.data.byteLength-ve)),(X=xe-ne-1)>0)){var at=new Uint8Array(Ye.data.byteLength+X);at.set(Ye.data,0),at.set(W.subarray(0,X),Ye.data.byteLength),Ye.data=at,Ye.state=0}}xe<J?(Oe=xe,He=31&W[xe],ne=0):ne=-1}else ne=0;else ne=3;else ne=H?0:2;else ne=H?0:1;if(Oe>=0&&ne>=0){var mt={data:W.subarray(Oe,J),type:He,state:ne};Ee.push(mt)}if(Ee.length===0){var qe=this.getLastNalUnit(O.samples);if(qe){var ot=new Uint8Array(qe.data.byteLength+W.byteLength);ot.set(qe.data,0),ot.set(W,qe.data.byteLength),qe.data=ot}}return O.naluState=ne,Ee},Y.parseAACPES=function(O,W){var H,X,J,ne,ve,Ee=0,xe=this.aacOverFlow,Oe=W.data;if(xe){this.aacOverFlow=null;var He=xe.missing,Ue=xe.sample.unit.byteLength;if(He===-1){var Ye=new Uint8Array(Ue+Oe.byteLength);Ye.set(xe.sample.unit,0),Ye.set(Oe,Ue),Oe=Ye}else{var at=Ue-He;xe.sample.unit.set(Oe.subarray(0,He),at),O.samples.push(xe.sample),Ee=xe.missing}}for(H=Ee,X=Oe.length;H<X-1&&!ce(Oe,H);H++);if(H===Ee||(H<X-1?(J="AAC PES did not start with ADTS header,offset:"+H,ne=!1):(J="no ADTS header found in AAC PES",ne=!0),j.logger.warn("parsing error:"+J),this.observer.emit(g.Events.ERROR,g.Events.ERROR,{type:E.ErrorTypes.MEDIA_ERROR,details:E.ErrorDetails.FRAG_PARSING_ERROR,fatal:ne,reason:J}),!ne)){if(ie(O,this.observer,Oe,H,this.audioCodec),W.pts!==void 0)ve=W.pts;else{if(!xe)return void j.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var mt=N(O.samplerate);ve=xe.sample.pts+mt}for(var qe,ot=0;H<X;){if(H+=(qe=Z(O,Oe,H,ve,ot)).length,qe.missing){this.aacOverFlow=qe;break}for(ot++;H<X-1&&!ce(Oe,H);H++);}}},Y.parseMPEGPES=function(O,W){var H=W.data,X=H.length,J=0,ne=0,ve=W.pts;if(ve!==void 0)for(;ne<X;)if(me(H,ne)){var Ee=Ge(O,H,ne,ve,J);if(!Ee)break;ne+=Ee.length,J++}else ne++;else j.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},Y.parseID3PES=function(O,W){if(W.pts!==void 0){var H=Fe({},W,{type:this._avcTrack?C.MetadataSchema.emsg:C.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});O.samples.push(H)}else j.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},se}();function Tt(se,Y){return Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,W){return O.__proto__=W,O},Tt(se,Y)}const Rt=function(se){var Y,O;function W(){return se.apply(this,arguments)||this}O=se,(Y=W).prototype=Object.create(O.prototype),Y.prototype.constructor=Y,Tt(Y,O);var H=W.prototype;return H.resetInitSegment=function(X,J,ne,ve){se.prototype.resetInitSegment.call(this,X,J,ne,ve),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:J,duration:ve,inputTimeScale:9e4,dropped:0}},W.probe=function(X){if(!X)return!1;for(var J=(x.getID3Data(X,0)||[]).length,ne=X.length;J<ne;J++)if(le(X,J))return j.logger.log("MPEG Audio sync word found !"),!0;return!1},H.canParse=function(X,J){return function(ne,ve){return de(ne,ve)&&4<=ne.length-ve}(X,J)},H.appendFrame=function(X,J,ne){if(this.basePTS!==null)return Ge(X,J,ne,this.basePTS,this.frameIndex)},W}(M);var gt=m(524),st=m(923);function rt(se,Y){var O=se==null?void 0:se.codec;return O&&O.length>4?O:O==="hvc1"||O==="hev1"?"hvc1.1.c.L120.90":O==="av01"?"av01.0.04M.08":O==="avc1"||Y===st.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}const ft=function(){function se(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndTime=null}var Y=se.prototype;return Y.destroy=function(){},Y.resetTimeStamp=function(O){this.initPTS=O,this.lastEndTime=null},Y.resetNextTimestamp=function(){this.lastEndTime=null},Y.resetInitSegment=function(O,W,H,X){this.audioCodec=W,this.videoCodec=H,this.generateInitSegment((0,I.patchEncyptionData)(O,X)),this.emitInitSegment=!0},Y.generateInitSegment=function(O){var W=this.audioCodec,H=this.videoCodec;if(!O||!O.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var X=this.initData=(0,I.parseInitSegment)(O);W||(W=rt(X.audio,st.ElementaryStreamTypes.AUDIO)),H||(H=rt(X.video,st.ElementaryStreamTypes.VIDEO));var J={};X.audio&&X.video?J.audiovideo={container:"video/mp4",codec:W+","+H,initSegment:O,id:"main"}:X.audio?J.audio={container:"audio/mp4",codec:W,initSegment:O,id:"audio"}:X.video?J.video={container:"video/mp4",codec:H,initSegment:O,id:"main"}:j.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=J},Y.remux=function(O,W,H,X,J){var ne,ve=this.initPTS,Ee=this.lastEndTime,xe={audio:void 0,video:void 0,text:X,id3:H,initSegment:void 0};(0,v.isFiniteNumber)(Ee)||(Ee=this.lastEndTime=J||0);var Oe=W.samples;if(!Oe||!Oe.length)return xe;var He={initPTS:void 0,timescale:1},Ue=this.initData;if(Ue&&Ue.length||(this.generateInitSegment(Oe),Ue=this.initData),!Ue||!Ue.length)return j.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),xe;this.emitInitSegment&&(He.tracks=this.initTracks,this.emitInitSegment=!1);var Ye=(0,I.getStartDTS)(Ue,Oe);(0,v.isFiniteNumber)(ve)||(this.initPTS=He.initPTS=ve=Ye-J);var at=(0,I.getDuration)(Oe,Ue),mt=O?Ye-ve:Ee,qe=mt+at;(0,I.offsetStartDTS)(Ue,Oe,ve),at>0?this.lastEndTime=qe:(j.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var ot=!!Ue.audio,hr=!!Ue.video,wt="";ot&&(wt+="audio"),hr&&(wt+="video");var pr={data1:Oe,startPTS:mt,startDTS:mt,endPTS:qe,endDTS:qe,type:wt,hasAudio:ot,hasVideo:hr,nb:1,dropped:0};xe.audio=pr.type==="audio"?pr:void 0,xe.video=pr.type!=="audio"?pr:void 0,xe.initSegment=He;var Yt=(ne=this.initPTS)!=null?ne:0;return xe.id3=(0,gt.flushTextTrackMetadataCueSamples)(H,J,Yt,Yt),X.samples.length&&(xe.text=(0,gt.flushTextTrackUserdataCueSamples)(X,J,Yt)),xe},se}();var ut;try{ut=self.performance.now.bind(self.performance)}catch{j.logger.debug("Unable to use Performance API on this environment"),ut=self.Date.now}var _t=[{demux:Se,remux:ft},{demux:yt,remux:gt.default},{demux:ue,remux:gt.default},{demux:Rt,remux:gt.default}],or=function(){function se(O,W,H,X,J){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=O,this.typeSupported=W,this.config=H,this.vendor=X,this.id=J}var Y=se.prototype;return Y.configure=function(O){this.transmuxConfig=O,this.decrypter&&this.decrypter.reset()},Y.push=function(O,W,H,X){var J=this,ne=H.transmuxing;ne.executeStart=ut();var ve=new Uint8Array(O),Ee=this.currentTransmuxState,xe=this.transmuxConfig;X&&(this.currentTransmuxState=X);var Oe=X||Ee,He=Oe.contiguous,Ue=Oe.discontinuity,Ye=Oe.trackSwitch,at=Oe.accurateTimeOffset,mt=Oe.timeOffset,qe=Oe.initSegmentChange,ot=xe.audioCodec,hr=xe.videoCodec,wt=xe.defaultInitPts,pr=xe.duration,Yt=xe.initSegmentData,Ze=function(gi,Fr){var zt=null;return gi.byteLength>0&&Fr!=null&&Fr.key!=null&&Fr.iv!==null&&Fr.method!=null&&(zt=Fr),zt}(ve,W);if(Ze&&Ze.method==="AES-128"){var ar=this.getDecrypter();if(!ar.isSync())return this.decryptionPromise=ar.webCryptoDecrypt(ve,Ze.key.buffer,Ze.iv.buffer).then(function(gi){var Fr=J.push(gi,null,H);return J.decryptionPromise=null,Fr}),this.decryptionPromise;var wn=ar.softwareDecrypt(ve,Ze.key.buffer,Ze.iv.buffer);if(H.part>-1&&(wn=ar.flush()),!wn)return ne.executeEnd=ut(),Zt(H);ve=new Uint8Array(wn)}var Ut=this.needsProbing(Ue,Ye);Ut&&this.configureTransmuxer(ve),(Ue||Ye||qe||Ut)&&this.resetInitSegment(Yt,ot,hr,pr,W),(Ue||qe||Ut)&&this.resetInitialTimestamp(wt),He||this.resetContiguity();var mr=this.transmux(ve,Ze,mt,at,H),kn=this.currentTransmuxState;return kn.contiguous=!0,kn.discontinuity=!1,kn.trackSwitch=!1,ne.executeEnd=ut(),mr},Y.flush=function(O){var W=this,H=O.transmuxing;H.executeStart=ut();var X=this.decrypter,J=this.currentTransmuxState,ne=this.decryptionPromise;if(ne)return ne.then(function(){return W.flush(O)});var ve=[],Ee=J.timeOffset;if(X){var xe=X.flush();xe&&ve.push(this.push(xe,null,O))}var Oe=this.demuxer,He=this.remuxer;if(!Oe||!He)return this.observer.emit(g.Events.ERROR,g.Events.ERROR,{type:E.ErrorTypes.MEDIA_ERROR,details:E.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),H.executeEnd=ut(),[Zt(O)];var Ue=Oe.flush(Ee);return br(Ue)?Ue.then(function(Ye){return W.flushRemux(ve,Ye,O),ve}):(this.flushRemux(ve,Ue,O),ve)},Y.flushRemux=function(O,W,H){var X=W.audioTrack,J=W.videoTrack,ne=W.id3Track,ve=W.textTrack,Ee=this.currentTransmuxState,xe=Ee.accurateTimeOffset,Oe=Ee.timeOffset;j.logger.log("[transmuxer.ts]: Flushed fragment "+H.sn+(H.part>-1?" p: "+H.part:"")+" of level "+H.level);var He=this.remuxer.remux(X,J,ne,ve,Oe,xe,!0,this.id);O.push({remuxResult:He,chunkMeta:H}),H.transmuxing.executeEnd=ut()},Y.resetInitialTimestamp=function(O){var W=this.demuxer,H=this.remuxer;W&&H&&(W.resetTimeStamp(O),H.resetTimeStamp(O))},Y.resetContiguity=function(){var O=this.demuxer,W=this.remuxer;O&&W&&(O.resetContiguity(),W.resetNextTimestamp())},Y.resetInitSegment=function(O,W,H,X,J){var ne=this.demuxer,ve=this.remuxer;ne&&ve&&(ne.resetInitSegment(O,W,H,X),ve.resetInitSegment(O,W,H,J))},Y.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},Y.transmux=function(O,W,H,X,J){return W&&W.method==="SAMPLE-AES"?this.transmuxSampleAes(O,W,H,X,J):this.transmuxUnencrypted(O,H,X,J)},Y.transmuxUnencrypted=function(O,W,H,X){var J=this.demuxer.demux(O,W,!1,!this.config.progressive),ne=J.audioTrack,ve=J.videoTrack,Ee=J.id3Track,xe=J.textTrack;return{remuxResult:this.remuxer.remux(ne,ve,Ee,xe,W,H,!1,this.id),chunkMeta:X}},Y.transmuxSampleAes=function(O,W,H,X,J){var ne=this;return this.demuxer.demuxSampleAes(O,W,H).then(function(ve){return{remuxResult:ne.remuxer.remux(ve.audioTrack,ve.videoTrack,ve.id3Track,ve.textTrack,H,X,!1,ne.id),chunkMeta:J}})},Y.configureTransmuxer=function(O){for(var W,H=this.config,X=this.observer,J=this.typeSupported,ne=this.vendor,ve=0,Ee=_t.length;ve<Ee;ve++)if(_t[ve].demux.probe(O)){W=_t[ve];break}W||(j.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),W={demux:Se,remux:ft});var xe=this.demuxer,Oe=this.remuxer,He=W.remux,Ue=W.demux;Oe&&Oe instanceof He||(this.remuxer=new He(X,H,J,ne)),xe&&xe instanceof Ue||(this.demuxer=new Ue(X,H,J),this.probe=Ue.probe)},Y.needsProbing=function(O,W){return!this.demuxer||!this.remuxer||O||W},Y.getDecrypter=function(){var O=this.decrypter;return O||(O=this.decrypter=new w.default(this.config)),O},se}(),Zt=function(se){return{remuxResult:{},chunkMeta:se}};function br(se){return"then"in se&&se.then instanceof Function}var fr=function(se,Y,O,W,H){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=se,this.videoCodec=Y,this.initSegmentData=O,this.duration=W,this.defaultInitPts=H},lr=function(se,Y,O,W,H,X){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=se,this.contiguous=Y,this.accurateTimeOffset=O,this.trackSwitch=W,this.timeOffset=H,this.initSegmentChange=X}},973:(l,f,m)=>{var g,E;m.r(f),m.d(f,{ErrorDetails:()=>E,ErrorTypes:()=>g}),function(w){w.NETWORK_ERROR="networkError",w.MEDIA_ERROR="mediaError",w.KEY_SYSTEM_ERROR="keySystemError",w.MUX_ERROR="muxError",w.OTHER_ERROR="otherError"}(g||(g={})),function(w){w.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",w.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",w.KEY_SYSTEM_NO_SESSION="keySystemNoSession",w.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",w.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",w.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",w.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",w.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",w.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",w.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",w.MANIFEST_LOAD_ERROR="manifestLoadError",w.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",w.MANIFEST_PARSING_ERROR="manifestParsingError",w.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",w.LEVEL_EMPTY_ERROR="levelEmptyError",w.LEVEL_LOAD_ERROR="levelLoadError",w.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",w.LEVEL_SWITCH_ERROR="levelSwitchError",w.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",w.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",w.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",w.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",w.FRAG_LOAD_ERROR="fragLoadError",w.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",w.FRAG_DECRYPT_ERROR="fragDecryptError",w.FRAG_PARSING_ERROR="fragParsingError",w.REMUX_ALLOC_ERROR="remuxAllocError",w.KEY_LOAD_ERROR="keyLoadError",w.KEY_LOAD_TIMEOUT="keyLoadTimeOut",w.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",w.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",w.BUFFER_APPEND_ERROR="bufferAppendError",w.BUFFER_APPENDING_ERROR="bufferAppendingError",w.BUFFER_STALLED_ERROR="bufferStalledError",w.BUFFER_FULL_ERROR="bufferFullError",w.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",w.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",w.INTERNAL_EXCEPTION="internalException",w.INTERNAL_ABORTED="aborted",w.UNKNOWN="unknown"}(E||(E={}))},851:(l,f,m)=>{var g;m.r(f),m.d(f,{Events:()=>g}),function(E){E.MEDIA_ATTACHING="hlsMediaAttaching",E.MEDIA_ATTACHED="hlsMediaAttached",E.MEDIA_DETACHING="hlsMediaDetaching",E.MEDIA_DETACHED="hlsMediaDetached",E.BUFFER_RESET="hlsBufferReset",E.BUFFER_CODECS="hlsBufferCodecs",E.BUFFER_CREATED="hlsBufferCreated",E.BUFFER_APPENDING="hlsBufferAppending",E.BUFFER_APPENDED="hlsBufferAppended",E.BUFFER_EOS="hlsBufferEos",E.BUFFER_FLUSHING="hlsBufferFlushing",E.BUFFER_FLUSHED="hlsBufferFlushed",E.MANIFEST_LOADING="hlsManifestLoading",E.MANIFEST_LOADED="hlsManifestLoaded",E.MANIFEST_PARSED="hlsManifestParsed",E.LEVEL_SWITCHING="hlsLevelSwitching",E.LEVEL_SWITCHED="hlsLevelSwitched",E.LEVEL_LOADING="hlsLevelLoading",E.LEVEL_LOADED="hlsLevelLoaded",E.LEVEL_UPDATED="hlsLevelUpdated",E.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",E.LEVELS_UPDATED="hlsLevelsUpdated",E.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",E.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",E.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",E.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",E.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",E.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",E.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",E.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",E.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",E.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",E.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",E.CUES_PARSED="hlsCuesParsed",E.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",E.INIT_PTS_FOUND="hlsInitPtsFound",E.FRAG_LOADING="hlsFragLoading",E.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",E.FRAG_LOADED="hlsFragLoaded",E.FRAG_DECRYPTED="hlsFragDecrypted",E.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",E.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",E.FRAG_PARSING_METADATA="hlsFragParsingMetadata",E.FRAG_PARSED="hlsFragParsed",E.FRAG_BUFFERED="hlsFragBuffered",E.FRAG_CHANGED="hlsFragChanged",E.FPS_DROP="hlsFpsDrop",E.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",E.ERROR="hlsError",E.DESTROYING="hlsDestroying",E.KEY_LOADING="hlsKeyLoading",E.KEY_LOADED="hlsKeyLoaded",E.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",E.BACK_BUFFER_REACHED="hlsBackBufferReached"}(g||(g={}))},76:(l,f,m)=>{m.r(f),m.d(f,{default:()=>m0});var g,E=m(945),w=m(965),v=m(851),x=m(973),C=m(93),L=/^(\d+)x(\d+)$/,I=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,P=function(){function T(s){for(var o in typeof s=="string"&&(s=T.parseAttrList(s)),s)s.hasOwnProperty(o)&&(this[o]=s[o])}var y=T.prototype;return y.decimalInteger=function(s){var o=parseInt(this[s],10);return o>Number.MAX_SAFE_INTEGER?1/0:o},y.hexadecimalInteger=function(s){if(this[s]){var o=(this[s]||"0x").slice(2);o=(1&o.length?"0":"")+o;for(var c=new Uint8Array(o.length/2),d=0;d<o.length/2;d++)c[d]=parseInt(o.slice(2*d,2*d+2),16);return c}return null},y.hexadecimalIntegerAsNumber=function(s){var o=parseInt(this[s],16);return o>Number.MAX_SAFE_INTEGER?1/0:o},y.decimalFloatingPoint=function(s){return parseFloat(this[s])},y.optionalFloat=function(s,o){var c=this[s];return c?parseFloat(c):o},y.enumeratedString=function(s){return this[s]},y.bool=function(s){return this[s]==="YES"},y.decimalResolution=function(s){var o=L.exec(this[s]);if(o!==null)return{width:parseInt(o[1],10),height:parseInt(o[2],10)}},T.parseAttrList=function(s){var o,c={};for(I.lastIndex=0;(o=I.exec(s))!==null;){var d=o[2];d.indexOf('"')===0&&d.lastIndexOf('"')===d.length-1&&(d=d.slice(1,-1)),c[o[1]]=d}return c},T}();function R(){return R=Object.assign?Object.assign.bind():function(T){for(var y=1;y<arguments.length;y++){var s=arguments[y];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(T[o]=s[o])}return T},R.apply(this,arguments)}function A(T,y){for(var s=0;s<y.length;s++){var o=y[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(T,typeof(c=function(d,h){if(typeof d!="object"||d===null)return d;var u=d[Symbol.toPrimitive];if(u!==void 0){var p=u.call(d,h);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(o.key,"string"))=="symbol"?c:String(c),o)}var c}(function(T){T.ID="ID",T.CLASS="CLASS",T.START_DATE="START-DATE",T.DURATION="DURATION",T.END_DATE="END-DATE",T.END_ON_NEXT="END-ON-NEXT",T.PLANNED_DURATION="PLANNED-DURATION",T.SCTE35_OUT="SCTE35-OUT",T.SCTE35_IN="SCTE35-IN"})(g||(g={}));var M=function(){function T(o,c){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,c){var d=c.attr;for(var h in d)if(Object.prototype.hasOwnProperty.call(o,h)&&o[h]!==d[h]){C.logger.warn('DATERANGE tag attribute: "'+h+'" does not match for tags with ID: "'+o.ID+'"'),this._badValueForSameId=h;break}o=R(new P({}),d,o)}if(this.attr=o,this._startDate=new Date(o[g.START_DATE]),g.END_DATE in this.attr){var u=new Date(this.attr[g.END_DATE]);(0,w.isFiniteNumber)(u.getTime())&&(this._endDate=u)}}var y,s;return y=T,(s=[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var o=this.duration;return o!==null?new Date(this._startDate.getTime()+1e3*o):null}},{key:"duration",get:function(){if(g.DURATION in this.attr){var o=this.attr.decimalFloatingPoint(g.DURATION);if((0,w.isFiniteNumber)(o))return o}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return g.PLANNED_DURATION in this.attr?this.attr.decimalFloatingPoint(g.PLANNED_DURATION):null}},{key:"endOnNext",get:function(){return this.attr.bool(g.END_ON_NEXT)}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&(0,w.isFiniteNumber)(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}])&&A(y.prototype,s),Object.defineProperty(y,"prototype",{writable:!1}),T}(),j=m(923);function $(T,y){for(var s=0;s<y.length;s++){var o=y[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(T,typeof(c=function(d,h){if(typeof d!="object"||d===null)return d;var u=d[Symbol.toPrimitive];if(u!==void 0){var p=u.call(d,h);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(o.key,"string"))=="symbol"?c:String(c),o)}var c}var B,K,ce,ye=function(){function T(o){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=o}var y,s;return T.prototype.reloaded=function(o){if(!o)return this.advanced=!0,void(this.updated=!0);var c=this.lastPartSn-o.lastPartSn,d=this.lastPartIndex-o.lastPartIndex;this.updated=this.endSN!==o.endSN||!!d||!!c,this.advanced=this.endSN>o.endSN||c>0||c===0&&d>0,this.updated||this.advanced?this.misses=Math.floor(.6*o.misses):this.misses=o.misses+1,this.availabilityDelay=o.availabilityDelay},y=T,(s=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&(0,w.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var o=this.driftEndTime-this.driftStartTime;return o>0?1e3*(this.driftEnd-this.driftStart)/o:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var o;return(o=this.partList)!==null&&o!==void 0&&o.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var o;return(o=this.fragments)!==null&&o!==void 0&&o.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var o;return(o=this.partList)!==null&&o!==void 0&&o.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var o;return(o=this.partList)!==null&&o!==void 0&&o.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&$(y.prototype,s),Object.defineProperty(y,"prototype",{writable:!1}),T}();function ie(T){return Uint8Array.from(atob(T),function(y){return y.charCodeAt(0)})}function N(T){return Uint8Array.from(unescape(encodeURIComponent(T)),function(y){return y.charCodeAt(0)})}function Z(T){switch(T){case K.FAIRPLAY:return B.FAIRPLAY;case K.PLAYREADY:return B.PLAYREADY;case K.WIDEVINE:return B.WIDEVINE;case K.CLEARKEY:return B.CLEARKEY}}function G(T){switch(T){case B.FAIRPLAY:return K.FAIRPLAY;case B.PLAYREADY:return K.PLAYREADY;case B.WIDEVINE:return K.WIDEVINE;case B.CLEARKEY:return K.CLEARKEY}}function ue(T){var y=T.drmSystems,s=T.widevineLicenseUrl,o=y?[B.FAIRPLAY,B.WIDEVINE,B.PLAYREADY,B.CLEARKEY].filter(function(c){return!!y[c]}):[];return!o[B.WIDEVINE]&&s&&o.push(B.WIDEVINE),o}(function(T){T.CLEARKEY="org.w3.clearkey",T.FAIRPLAY="com.apple.fps",T.PLAYREADY="com.microsoft.playready",T.WIDEVINE="com.widevine.alpha"})(B||(B={})),function(T){T.CLEARKEY="org.w3.clearkey",T.FAIRPLAY="com.apple.streamingkeydelivery",T.PLAYREADY="com.microsoft.playready",T.WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"}(K||(K={})),function(T){T.WIDEVINE="edef8ba979d64acea3c827dcd51d21ed"}(ce||(ce={}));var Ce=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null,Se=m(63),ae={},be=function(){function T(s,o,c,d,h){d===void 0&&(d=[1]),h===void 0&&(h=null),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=s,this.uri=o,this.keyFormat=c,this.keyFormatVersions=d,this.iv=h,this.encrypted=!!s&&s!=="NONE",this.isCommonEncryption=this.encrypted&&s!=="AES-128"}T.clearKeyUriToKeyIdMap=function(){ae={}};var y=T.prototype;return y.isSupported=function(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;switch(this.keyFormat){case"identity":return this.method==="SAMPLE-AES";case K.FAIRPLAY:case K.WIDEVINE:case K.PLAYREADY:case K.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1},y.getDecryptData=function(s){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof s!="number"&&(this.method!=="AES-128"||this.iv||C.logger.warn('missing IV for initialization segment with method="'+this.method+'" - compliance issue'),s=0);var o=function(Q){for(var q=new Uint8Array(16),te=12;te<16;te++)q[te]=Q>>8*(15-te)&255;return q}(s);return new T(this.method,this.uri,"identity",this.keyFormatVersions,o)}var c=function(Q){var q,te,fe=Q.split(":"),ge=null;if(fe[0]==="data"&&fe.length===2){var pe=fe[1].split(";"),Te=pe[pe.length-1].split(",");if(Te.length===2){var ze=Te[0]==="base64",Ve=Te[1];ze?(pe.splice(-1,1),ge=ie(Ve)):(q=N(Ve).subarray(0,16),(te=new Uint8Array(16)).set(q,16-q.length),ge=te)}}return ge}(this.uri);if(c)switch(this.keyFormat){case K.WIDEVINE:this.pssh=c,c.length>=22&&(this.keyId=c.subarray(c.length-22,c.length-6));break;case K.PLAYREADY:var d=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=(0,Se.mp4pssh)(d,null,c);var h=new Uint16Array(c.buffer,c.byteOffset,c.byteLength/2),u=String.fromCharCode.apply(null,Array.from(h)),p=u.substring(u.indexOf("<"),u.length),S=new DOMParser().parseFromString(p,"text/xml").getElementsByTagName("KID")[0];if(S){var b=S.childNodes[0]?S.childNodes[0].nodeValue:S.getAttribute("VALUE");if(b){var k=ie(b).subarray(0,16);(function(Q){var q=function(te,fe,ge){var pe=te[fe];te[fe]=te[ge],te[ge]=pe};q(Q,0,3),q(Q,1,2),q(Q,4,5),q(Q,6,7)})(k),this.keyId=k}}break;default:var _=c.subarray(0,16);if(_.length!==16){var D=new Uint8Array(16);D.set(_,16-_.length),_=D}this.keyId=_}if(!this.keyId||this.keyId.byteLength!==16){var F=ae[this.uri];if(!F){var U=Object.keys(ae).length%Number.MAX_SAFE_INTEGER;F=new Uint8Array(16),new DataView(F.buffer,12,4).setUint32(0,U),ae[this.uri]=F}this.keyId=F}return this},T}(),ke={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function Re(T,y){return MediaSource.isTypeSupported((y||"video")+'/mp4;codecs="'+T+'"')}function Le(){return Le=Object.assign?Object.assign.bind():function(T){for(var y=1;y<arguments.length;y++){var s=arguments[y];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(T[o]=s[o])}return T},Le.apply(this,arguments)}var Ge=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+|#EXT-X-SESSION-KEY:([^\n\r]*)[\r\n]+/g,nt=/#EXT-X-MEDIA:(.*)/g,de=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),me=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),le=function(){function T(){}return T.findGroup=function(y,s){for(var o=0;o<y.length;o++){var c=y[o];if(c.id===s)return c}},T.convertAVC1ToAVCOTI=function(y){var s=y.split(".");if(s.length>2){var o=s.shift()+".";return(o+=parseInt(s.shift()).toString(16))+("000"+parseInt(s.shift()).toString(16)).slice(-4)}return y},T.resolve=function(y,s){return(0,E.buildAbsoluteURL)(s,y,{alwaysNormalize:!0})},T.parseMasterPlaylist=function(y,s){var o,c=[],d=[],h={},u=[],p=!1;for(Ge.lastIndex=0;(o=Ge.exec(y))!=null;)if(o[1]){var S,b=new P(o[1]),k={attrs:b,bitrate:b.decimalInteger("AVERAGE-BANDWIDTH")||b.decimalInteger("BANDWIDTH"),name:b.NAME,url:T.resolve(o[2],s)},_=b.decimalResolution("RESOLUTION");_&&(k.width=_.width,k.height=_.height),Ie((b.CODECS||"").split(/[ ,]+/).filter(function(Q){return Q}),k),k.videoCodec&&k.videoCodec.indexOf("avc1")!==-1&&(k.videoCodec=T.convertAVC1ToAVCOTI(k.videoCodec)),(S=k.unknownCodecs)!==null&&S!==void 0&&S.length||d.push(k),c.push(k)}else if(o[3]){var D=new P(o[3]);D["DATA-ID"]&&(p=!0,h[D["DATA-ID"]]=D)}else if(o[4]){var F=o[4],U=De(F,s);U.encrypted&&U.isSupported()?u.push(U):C.logger.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'+F+'"')}return{levels:d.length>0&&d.length<c.length?d:c,sessionData:p?h:null,sessionKeys:u.length?u:null}},T.parseMasterPlaylistMedia=function(y,s,o,c){var d;c===void 0&&(c=[]);var h=[],u=0;for(nt.lastIndex=0;(d=nt.exec(y))!==null;){var p=new P(d[1]);if(p.TYPE===o){var S={attrs:p,bitrate:0,id:u++,groupId:p["GROUP-ID"],instreamId:p["INSTREAM-ID"],name:p.NAME||p.LANGUAGE||"",type:o,default:p.bool("DEFAULT"),autoselect:p.bool("AUTOSELECT"),forced:p.bool("FORCED"),lang:p.LANGUAGE,url:p.URI?T.resolve(p.URI,s):""};if(c.length){var b=T.findGroup(c,S.groupId)||c[0];Fe(S,b,"audioCodec"),Fe(S,b,"textCodec")}h.push(S)}}return h},T.parseLevelPlaylist=function(y,s,o,c,d){var h,u,p,S=new ye(s),b=S.fragments,k=null,_=0,D=0,F=0,U=0,Q=null,q=new j.Fragment(c,s),te=-1,fe=!1;for(de.lastIndex=0,S.m3u8=y;(h=de.exec(y))!==null;){fe&&(fe=!1,(q=new j.Fragment(c,s)).start=F,q.sn=_,q.cc=U,q.level=o,k&&(q.initSegment=k,q.rawProgramDateTime=k.rawProgramDateTime,k.rawProgramDateTime=null));var ge=h[1];if(ge){q.duration=parseFloat(ge);var pe=(" "+h[2]).slice(1);q.title=pe||null,q.tagList.push(pe?["INF",ge,pe]:["INF",ge])}else if(h[3])(0,w.isFiniteNumber)(q.duration)&&(q.start=F,p&&Ke(q,p,S),q.sn=_,q.level=o,q.cc=U,q.urlId=d,b.push(q),q.relurl=(" "+h[3]).slice(1),Me(q,Q),Q=q,F+=q.duration,_++,D=0,fe=!0);else if(h[4]){var Te=(" "+h[4]).slice(1);Q?q.setByteRange(Te,Q):q.setByteRange(Te)}else if(h[5])q.rawProgramDateTime=(" "+h[5]).slice(1),q.tagList.push(["PROGRAM-DATE-TIME",q.rawProgramDateTime]),te===-1&&(te=b.length);else{if(!(h=h[0].match(me))){C.logger.warn("No matches on slow regex match for level playlist!");continue}for(u=1;u<h.length&&h[u]===void 0;u++);var ze=(" "+h[u]).slice(1),Ve=(" "+h[u+1]).slice(1),Ae=h[u+2]?(" "+h[u+2]).slice(1):"";switch(ze){case"PLAYLIST-TYPE":S.type=Ve.toUpperCase();break;case"MEDIA-SEQUENCE":_=S.startSN=parseInt(Ve);break;case"SKIP":var $e=new P(Ve),Ne=$e.decimalInteger("SKIPPED-SEGMENTS");if((0,w.isFiniteNumber)(Ne)){S.skippedSegments=Ne;for(var ct=Ne;ct--;)b.unshift(null);_+=Ne}var Pt=$e.enumeratedString("RECENTLY-REMOVED-DATERANGES");Pt&&(S.recentlyRemovedDateranges=Pt.split("	"));break;case"TARGETDURATION":S.targetduration=parseFloat(Ve);break;case"VERSION":S.version=parseInt(Ve);break;case"EXTM3U":break;case"ENDLIST":S.live=!1;break;case"#":(Ve||Ae)&&q.tagList.push(Ae?[Ve,Ae]:[Ve]);break;case"DISCONTINUITY":U++,q.tagList.push(["DIS"]);break;case"GAP":q.tagList.push([ze]);break;case"BITRATE":q.tagList.push([ze,Ve]);break;case"DATERANGE":var lt=new P(Ve),pt=new M(lt,S.dateRanges[lt.ID]);pt.isValid||S.skippedSegments?S.dateRanges[pt.id]=pt:C.logger.warn('Ignoring invalid DATERANGE tag: "'+Ve+'"'),q.tagList.push(["EXT-X-DATERANGE",Ve]);break;case"DISCONTINUITY-SEQUENCE":U=parseInt(Ve);break;case"KEY":var bt=De(Ve,s);if(bt.isSupported()){if(bt.method==="NONE"){p=void 0;break}p||(p={}),p[bt.keyFormat]&&(p=Le({},p)),p[bt.keyFormat]=bt}else C.logger.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'+Ve+'"');break;case"START":var Rr=new P(Ve).decimalFloatingPoint("TIME-OFFSET");(0,w.isFiniteNumber)(Rr)&&(S.startTimeOffset=Rr);break;case"MAP":var cr=new P(Ve);if(q.duration){var Qt=new j.Fragment(c,s);je(Qt,cr,o,p),k=Qt,q.initSegment=k,k.rawProgramDateTime&&!q.rawProgramDateTime&&(q.rawProgramDateTime=k.rawProgramDateTime)}else je(q,cr,o,p),k=q,fe=!0;break;case"SERVER-CONTROL":var Jt=new P(Ve);S.canBlockReload=Jt.bool("CAN-BLOCK-RELOAD"),S.canSkipUntil=Jt.optionalFloat("CAN-SKIP-UNTIL",0),S.canSkipDateRanges=S.canSkipUntil>0&&Jt.bool("CAN-SKIP-DATERANGES"),S.partHoldBack=Jt.optionalFloat("PART-HOLD-BACK",0),S.holdBack=Jt.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var yi=new P(Ve);S.partTarget=yi.decimalFloatingPoint("PART-TARGET");break;case"PART":var Ua=S.partList;Ua||(Ua=S.partList=[]);var Cs=D>0?Ua[Ua.length-1]:void 0,Qo=D++,_s=new j.Part(new P(Ve),q,s,Qo,Cs);Ua.push(_s),q.duration+=_s.duration;break;case"PRELOAD-HINT":var cc=new P(Ve);S.preloadHint=cc;break;case"RENDITION-REPORT":var tt=new P(Ve);S.renditionReports=S.renditionReports||[],S.renditionReports.push(tt);break;default:C.logger.warn("line parsed but not handled: "+h)}}}Q&&!Q.relurl?(b.pop(),F-=Q.duration,S.partList&&(S.fragmentHint=Q)):S.partList&&(Me(q,Q),q.cc=U,S.fragmentHint=q,p&&Ke(q,p,S));var it=b.length,Xo=b[0],Zn=b[it-1];if((F+=S.skippedSegments*S.targetduration)>0&&it&&Zn){S.averagetargetduration=F/it;var Si=Zn.sn;S.endSN=Si!=="initSegment"?Si:0,S.live||(Zn.endList=!0),Xo&&(S.startCC=Xo.cc)}else S.endSN=0,S.startCC=0;return S.fragmentHint&&(F+=S.fragmentHint.duration),S.totalduration=F,S.endCC=U,te>0&&function(As,bi){for(var Ei=As[bi],qi=bi;qi--;){var Zr=As[qi];if(!Zr)return;Zr.programDateTime=Ei.programDateTime-1e3*Zr.duration,Ei=Zr}}(b,te),S},T}();function De(T,y){var s,o,c=new P(T),d=(s=c.enumeratedString("METHOD"))!=null?s:"",h=c.URI,u=c.hexadecimalInteger("IV"),p=c.enumeratedString("KEYFORMATVERSIONS"),S=(o=c.enumeratedString("KEYFORMAT"))!=null?o:"identity";h&&c.IV&&!u&&C.logger.error("Invalid IV: "+c.IV);var b=h?le.resolve(h,y):"",k=(p||"1").split("/").map(Number).filter(Number.isFinite);return new be(d,b,S,k,u)}function Ie(T,y){["video","audio","text"].forEach(function(s){var o=T.filter(function(d){return function(h,u){var p=ke[u];return!!p&&p[h.slice(0,4)]===!0}(d,s)});if(o.length){var c=o.filter(function(d){return d.lastIndexOf("avc1",0)===0||d.lastIndexOf("mp4a",0)===0});y[s+"Codec"]=c.length>0?c[0]:o[0],T=T.filter(function(d){return o.indexOf(d)===-1})}}),y.unknownCodecs=T}function Fe(T,y,s){var o=y[s];o&&(T[s]=o)}function Me(T,y){T.rawProgramDateTime?T.programDateTime=Date.parse(T.rawProgramDateTime):y!=null&&y.programDateTime&&(T.programDateTime=y.endProgramDateTime),(0,w.isFiniteNumber)(T.programDateTime)||(T.programDateTime=null,T.rawProgramDateTime=null)}function je(T,y,s,o){T.relurl=y.URI,y.BYTERANGE&&T.setByteRange(y.BYTERANGE),T.level=s,T.sn="initSegment",o&&(T.levelkeys=o),T.initSegment=null}function Ke(T,y,s){T.levelkeys=y;var o=s.encryptedFragments;o.length&&o[o.length-1].levelkeys===y||!Object.keys(y).some(function(c){return y[c].isCommonEncryption})||o.push(T)}var oe=m(308);function Qe(T,y){var s=T.url;return s!==void 0&&s.indexOf("data:")!==0||(s=y.url),s}const Xe=function(){function T(s){this.hls=void 0,this.loaders=Object.create(null),this.hls=s,this.registerListeners()}var y=T.prototype;return y.startLoad=function(s){},y.stopLoad=function(){this.destroyInternalLoaders()},y.registerListeners=function(){var s=this.hls;s.on(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),s.on(v.Events.LEVEL_LOADING,this.onLevelLoading,this),s.on(v.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),s.on(v.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},y.unregisterListeners=function(){var s=this.hls;s.off(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),s.off(v.Events.LEVEL_LOADING,this.onLevelLoading,this),s.off(v.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),s.off(v.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},y.createInternalLoader=function(s){var o=this.hls.config,c=o.pLoader,d=o.loader,h=new(c||d)(o);return s.loader=h,this.loaders[s.type]=h,h},y.getInternalLoader=function(s){return this.loaders[s.type]},y.resetInternalLoader=function(s){this.loaders[s]&&delete this.loaders[s]},y.destroyInternalLoaders=function(){for(var s in this.loaders){var o=this.loaders[s];o&&o.destroy(),this.resetInternalLoader(s)}},y.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},y.onManifestLoading=function(s,o){var c=o.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:oe.PlaylistContextType.MANIFEST,url:c,deliveryDirectives:null})},y.onLevelLoading=function(s,o){var c=o.id,d=o.level,h=o.url,u=o.deliveryDirectives;this.load({id:c,groupId:null,level:d,responseType:"text",type:oe.PlaylistContextType.LEVEL,url:h,deliveryDirectives:u})},y.onAudioTrackLoading=function(s,o){var c=o.id,d=o.groupId,h=o.url,u=o.deliveryDirectives;this.load({id:c,groupId:d,level:null,responseType:"text",type:oe.PlaylistContextType.AUDIO_TRACK,url:h,deliveryDirectives:u})},y.onSubtitleTrackLoading=function(s,o){var c=o.id,d=o.groupId,h=o.url,u=o.deliveryDirectives;this.load({id:c,groupId:d,level:null,responseType:"text",type:oe.PlaylistContextType.SUBTITLE_TRACK,url:h,deliveryDirectives:u})},y.load=function(s){var o,c,d,h,u,p,S=this.hls.config,b=this.getInternalLoader(s);if(b){var k=b.context;if(k&&k.url===s.url)return void C.logger.trace("[playlist-loader]: playlist request ongoing");C.logger.log("[playlist-loader]: aborting previous loader for type: "+s.type),b.abort()}switch(s.type){case oe.PlaylistContextType.MANIFEST:c=S.manifestLoadingMaxRetry,d=S.manifestLoadingTimeOut,h=S.manifestLoadingRetryDelay,u=S.manifestLoadingMaxRetryTimeout;break;case oe.PlaylistContextType.LEVEL:case oe.PlaylistContextType.AUDIO_TRACK:case oe.PlaylistContextType.SUBTITLE_TRACK:c=0,d=S.levelLoadingTimeOut;break;default:c=S.levelLoadingMaxRetry,d=S.levelLoadingTimeOut,h=S.levelLoadingRetryDelay,u=S.levelLoadingMaxRetryTimeout}if(b=this.createInternalLoader(s),(o=s.deliveryDirectives)!==null&&o!==void 0&&o.part&&(s.type===oe.PlaylistContextType.LEVEL&&s.level!==null?p=this.hls.levels[s.level].details:s.type===oe.PlaylistContextType.AUDIO_TRACK&&s.id!==null?p=this.hls.audioTracks[s.id].details:s.type===oe.PlaylistContextType.SUBTITLE_TRACK&&s.id!==null&&(p=this.hls.subtitleTracks[s.id].details),p)){var _=p.partTarget,D=p.targetduration;_&&D&&(d=Math.min(1e3*Math.max(3*_,.8*D),d))}var F={timeout:d,maxRetry:c,retryDelay:h,maxRetryDelay:u,highWaterMark:0},U={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};b.load(s,F,U)},y.loadsuccess=function(s,o,c,d){d===void 0&&(d=null),this.resetInternalLoader(c.type);var h=s.data;h.indexOf("#EXTM3U")===0?(o.parsing.start=performance.now(),h.indexOf("#EXTINF:")>0||h.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(s,o,c,d):this.handleMasterPlaylist(s,o,c,d)):this.handleManifestParsingError(s,c,"no EXTM3U delimiter",d)},y.loaderror=function(s,o,c){c===void 0&&(c=null),this.handleNetworkError(o,c,!1,s)},y.loadtimeout=function(s,o,c){c===void 0&&(c=null),this.handleNetworkError(o,c,!0)},y.handleMasterPlaylist=function(s,o,c,d){var h=this.hls,u=s.data,p=Qe(s,c),S=le.parseMasterPlaylist(u,p),b=S.levels,k=S.sessionData,_=S.sessionKeys;if(b.length){var D=b.map(function(te){return{id:te.attrs.AUDIO,audioCodec:te.audioCodec}}),F=b.map(function(te){return{id:te.attrs.SUBTITLES,textCodec:te.textCodec}}),U=le.parseMasterPlaylistMedia(u,p,"AUDIO",D),Q=le.parseMasterPlaylistMedia(u,p,"SUBTITLES",F),q=le.parseMasterPlaylistMedia(u,p,"CLOSED-CAPTIONS");U.length&&(U.some(function(te){return!te.url})||!b[0].audioCodec||b[0].attrs.AUDIO||(C.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),U.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new P({}),bitrate:0,url:""}))),h.trigger(v.Events.MANIFEST_LOADED,{levels:b,audioTracks:U,subtitles:Q,captions:q,url:p,stats:o,networkDetails:d,sessionData:k,sessionKeys:_})}else this.handleManifestParsingError(s,c,"no level found in manifest",d)},y.handleTrackOrLevelPlaylist=function(s,o,c,d){var h=this.hls,u=c.id,p=c.level,S=c.type,b=Qe(s,c),k=(0,w.isFiniteNumber)(u)?u:0,_=(0,w.isFiniteNumber)(p)?p:k,D=function(Q){switch(Q.type){case oe.PlaylistContextType.AUDIO_TRACK:return oe.PlaylistLevelType.AUDIO;case oe.PlaylistContextType.SUBTITLE_TRACK:return oe.PlaylistLevelType.SUBTITLE;default:return oe.PlaylistLevelType.MAIN}}(c),F=le.parseLevelPlaylist(s.data,b,_,D,k);if(F.fragments.length){if(S===oe.PlaylistContextType.MANIFEST){var U={attrs:new P({}),bitrate:0,details:F,name:"",url:b};h.trigger(v.Events.MANIFEST_LOADED,{levels:[U],audioTracks:[],url:b,stats:o,networkDetails:d,sessionData:null,sessionKeys:null})}o.parsing.end=performance.now(),c.levelDetails=F,this.handlePlaylistLoaded(s,o,c,d)}else h.trigger(v.Events.ERROR,{type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:b,reason:"no fragments found in level",level:typeof c.level=="number"?c.level:void 0})},y.handleManifestParsingError=function(s,o,c,d){this.hls.trigger(v.Events.ERROR,{type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:o.type===oe.PlaylistContextType.MANIFEST,url:s.url,reason:c,response:s,context:o,networkDetails:d})},y.handleNetworkError=function(s,o,c,d){c===void 0&&(c=!1),C.logger.warn("[playlist-loader]: A network "+(c?"timeout":"error")+" occurred while loading "+s.type+" level: "+s.level+" id: "+s.id+' group-id: "'+s.groupId+'"');var h=x.ErrorDetails.UNKNOWN,u=!1,p=this.getInternalLoader(s);switch(s.type){case oe.PlaylistContextType.MANIFEST:h=c?x.ErrorDetails.MANIFEST_LOAD_TIMEOUT:x.ErrorDetails.MANIFEST_LOAD_ERROR,u=!0;break;case oe.PlaylistContextType.LEVEL:h=c?x.ErrorDetails.LEVEL_LOAD_TIMEOUT:x.ErrorDetails.LEVEL_LOAD_ERROR,u=!1;break;case oe.PlaylistContextType.AUDIO_TRACK:h=c?x.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:x.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,u=!1;break;case oe.PlaylistContextType.SUBTITLE_TRACK:h=c?x.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:x.ErrorDetails.SUBTITLE_LOAD_ERROR,u=!1}p&&this.resetInternalLoader(s.type);var S={type:x.ErrorTypes.NETWORK_ERROR,details:h,fatal:u,url:s.url,loader:p,context:s,networkDetails:o};d&&(S.response=d),this.hls.trigger(v.Events.ERROR,S)},y.handlePlaylistLoaded=function(s,o,c,d){var h=c.type,u=c.level,p=c.id,S=c.groupId,b=c.loader,k=c.levelDetails,_=c.deliveryDirectives;if(k!=null&&k.targetduration){if(b)switch(k.live&&(b.getCacheAge&&(k.ageHeader=b.getCacheAge()||0),b.getCacheAge&&!isNaN(k.ageHeader)||(k.ageHeader=0)),h){case oe.PlaylistContextType.MANIFEST:case oe.PlaylistContextType.LEVEL:this.hls.trigger(v.Events.LEVEL_LOADED,{details:k,level:u||0,id:p||0,stats:o,networkDetails:d,deliveryDirectives:_});break;case oe.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(v.Events.AUDIO_TRACK_LOADED,{details:k,id:p||0,groupId:S||"",stats:o,networkDetails:d,deliveryDirectives:_});break;case oe.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(v.Events.SUBTITLE_TRACK_LOADED,{details:k,id:p||0,groupId:S||"",stats:o,networkDetails:d,deliveryDirectives:_})}}else this.handleManifestParsingError(s,c,"invalid target duration",d)},T}();function dt(T,y){var s;try{s=new Event("addtrack")}catch{(s=document.createEvent("Event")).initEvent("addtrack",!1,!1)}s.track=T,y.dispatchEvent(s)}function yt(T,y){var s=T.mode;if(s==="disabled"&&(T.mode="hidden"),T.cues&&!T.cues.getCueById(y.id))try{if(T.addCue(y),!T.cues.getCueById(y.id))throw new Error("addCue is failed for: "+y)}catch(c){C.logger.debug("[texttrack-utils]: "+c);var o=new self.TextTrackCue(y.startTime,y.endTime,y.text);o.id=y.id,T.addCue(o)}s==="disabled"&&(T.mode=s)}function Tt(T){var y=T.mode;if(y==="disabled"&&(T.mode="hidden"),T.cues)for(var s=T.cues.length;s--;)T.removeCue(T.cues[s]);y==="disabled"&&(T.mode=y)}function Rt(T,y,s,o){var c=T.mode;if(c==="disabled"&&(T.mode="hidden"),T.cues&&T.cues.length>0)for(var d=function(u,p,S){var b=[],k=function(U,Q){if(Q<U[0].startTime)return 0;var q=U.length-1;if(Q>U[q].endTime)return-1;for(var te=0,fe=q;te<=fe;){var ge=Math.floor((fe+te)/2);if(Q<U[ge].startTime)fe=ge-1;else{if(!(Q>U[ge].startTime&&te<q))return ge;te=ge+1}}return U[te].startTime-Q<Q-U[fe].startTime?te:fe}(u,p);if(k>-1)for(var _=k,D=u.length;_<D;_++){var F=u[_];if(F.startTime>=p&&F.endTime<=S)b.push(F);else if(F.startTime>S)return b}return b}(T.cues,y,s),h=0;h<d.length;h++)o&&!o(d[h])||T.removeCue(d[h]);c==="disabled"&&(T.mode=c)}var gt=m(181),st=m(856);function rt(){return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}var ft=function(){var T=rt();try{new T(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function ut(T,y){return T.getTime()/1e3-y}const _t=function(){function T(s){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=s,this._registerListeners()}var y=T.prototype;return y.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},y._registerListeners=function(){var s=this.hls;s.on(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),s.on(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),s.on(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),s.on(v.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),s.on(v.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),s.on(v.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},y._unregisterListeners=function(){var s=this.hls;s.off(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),s.off(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),s.off(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),s.off(v.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),s.off(v.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),s.off(v.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},y.onMediaAttached=function(s,o){this.media=o.media},y.onMediaDetaching=function(){this.id3Track&&(Tt(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},y.onManifestLoading=function(){this.dateRangeCuesAppended={}},y.createTrack=function(s){var o=this.getID3Track(s.textTracks);return o.mode="hidden",o},y.getID3Track=function(s){if(this.media){for(var o=0;o<s.length;o++){var c=s[o];if(c.kind==="metadata"&&c.label==="id3")return dt(c,this.media),c}return this.media.addTextTrack("metadata","id3")}},y.onFragParsingMetadata=function(s,o){if(this.media){var c=this.hls.config,d=c.enableEmsgMetadataCues,h=c.enableID3MetadataCues;if(d||h){var u=o.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var p=rt(),S=0;S<u.length;S++){var b=u[S].type;if((b!==st.MetadataSchema.emsg||d)&&h){var k=gt.getID3Frames(u[S].data);if(k){var _=u[S].pts,D=_+u[S].duration;D>ft&&(D=ft),D-_<=0&&(D=_+.25);for(var F=0;F<k.length;F++){var U=k[F];if(!gt.isTimeStampFrame(U)){this.updateId3CueEnds(_);var Q=new p(_,D,"");Q.value=U,b&&(Q.type=b),this.id3Track.addCue(Q)}}}}}}}},y.updateId3CueEnds=function(s){var o,c=(o=this.id3Track)===null||o===void 0?void 0:o.cues;if(c)for(var d=c.length;d--;){var h=c[d];h.startTime<s&&h.endTime===ft&&(h.endTime=s)}},y.onBufferFlushing=function(s,o){var c=o.startOffset,d=o.endOffset,h=o.type,u=this.id3Track,p=this.hls;if(p){var S=p.config,b=S.enableEmsgMetadataCues,k=S.enableID3MetadataCues;u&&(b||k)&&Rt(u,c,d,h==="audio"?function(_){return _.type===st.MetadataSchema.audioId3&&k}:h==="video"?function(_){return _.type===st.MetadataSchema.emsg&&b}:function(_){return _.type===st.MetadataSchema.audioId3&&k||_.type===st.MetadataSchema.emsg&&b})}},y.onLevelUpdated=function(s,o){var c=this,d=o.details;if(this.media&&d.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var h=this.dateRangeCuesAppended,u=this.id3Track,p=d.dateRanges,S=Object.keys(p);if(u)for(var b=Object.keys(h).filter(function(te){return!S.includes(te)}),k=function(te){var fe=b[te];Object.keys(h[fe].cues).forEach(function(ge){u.removeCue(h[fe].cues[ge])}),delete h[fe]},_=b.length;_--;)k(_);var D=d.fragments[d.fragments.length-1];if(S.length!==0&&(0,w.isFiniteNumber)(D==null?void 0:D.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var F=D.programDateTime/1e3-D.start,U=rt(),Q=function(te){var fe=S[te],ge=p[fe],pe=h[fe],Te=(pe==null?void 0:pe.cues)||{},ze=(pe==null?void 0:pe.durationKnown)||!1,Ve=ut(ge.startDate,F),Ae=ft,$e=ge.endDate;if($e)Ae=ut($e,F),ze=!0;else if(ge.endOnNext&&!ze){var Ne=S.reduce(function(cr,Qt){var Jt=p[Qt];return Jt.class===ge.class&&Jt.id!==Qt&&Jt.startDate>ge.startDate&&cr.push(Jt),cr},[]).sort(function(cr,Qt){return cr.startDate.getTime()-Qt.startDate.getTime()})[0];Ne&&(Ae=ut(Ne.startDate,F),ze=!0)}for(var ct,Pt=Object.keys(ge.attr),lt=0;lt<Pt.length;lt++){var pt=Pt[lt];if(pt!==g.ID&&pt!==g.CLASS&&pt!==g.START_DATE&&pt!==g.DURATION&&pt!==g.END_DATE&&pt!==g.END_ON_NEXT){var bt=Te[pt];if(bt)ze&&!pe.durationKnown&&(bt.endTime=Ae);else{var Rr=ge.attr[pt];bt=new U(Ve,Ae,""),pt!==g.SCTE35_OUT&&pt!==g.SCTE35_IN||(ct=Rr,Rr=Uint8Array.from(ct.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer),bt.value={key:pt,data:Rr},bt.type=st.MetadataSchema.dateRange,c.id3Track.addCue(bt),Te[pt]=bt}}}h[fe]={cues:Te,dateRange:ge,durationKnown:ze}},q=0;q<S.length;q++)Q(q)}}},T}();function or(T,y){for(var s=0;s<y.length;s++){var o=y[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(T,typeof(c=function(d,h){if(typeof d!="object"||d===null)return d;var u=d[Symbol.toPrimitive];if(u!==void 0){var p=u.call(d,h);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(o.key,"string"))=="symbol"?c:String(c),o)}var c}var Zt=function(){function T(c){var d=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return d.timeupdate()},this.hls=c,this.config=c.config,this.registerListeners()}var y,s,o=T.prototype;return o.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},o.registerListeners=function(){this.hls.on(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(v.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(v.Events.ERROR,this.onError,this)},o.unregisterListeners=function(){this.hls.off(v.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(v.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(v.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(v.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(v.Events.ERROR,this.onError)},o.onMediaAttached=function(c,d){this.media=d.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},o.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},o.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},o.onLevelUpdated=function(c,d){var h=d.details;this.levelDetails=h,h.advanced&&this.timeupdate(),!h.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},o.onError=function(c,d){d.details===x.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,C.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},o.timeupdate=function(){var c=this.media,d=this.levelDetails;if(c&&d){this.currentTime=c.currentTime;var h=this.computeLatency();if(h!==null){this._latency=h;var u=this.config,p=u.lowLatencyMode,S=u.maxLiveSyncPlaybackRate;if(p&&S!==1){var b=this.targetLatency;if(b!==null){var k=h-b,_=k<Math.min(this.maxLatency,b+d.targetduration);if(d.live&&_&&k>.05&&this.forwardBufferLength>1){var D=Math.min(2,Math.max(1,S)),F=Math.round(2/(1+Math.exp(-.75*k-this.edgeStalled))*20)/20;c.playbackRate=Math.min(D,Math.max(1,F))}else c.playbackRate!==1&&c.playbackRate!==0&&(c.playbackRate=1)}}}}},o.estimateLiveEdge=function(){var c=this.levelDetails;return c===null?null:c.edge+c.age},o.computeLatency=function(){var c=this.estimateLiveEdge();return c===null?null:c-this.currentTime},y=T,(s=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var c=this.config,d=this.levelDetails;return c.liveMaxLatencyDuration!==void 0?c.liveMaxLatencyDuration:d?c.liveMaxLatencyDurationCount*d.targetduration:0}},{key:"targetLatency",get:function(){var c=this.levelDetails;if(c===null)return null;var d=c.holdBack,h=c.partHoldBack,u=c.targetduration,p=this.config,S=p.liveSyncDuration,b=p.liveSyncDurationCount,k=p.lowLatencyMode,_=this.hls.userConfig,D=k&&h||d;(_.liveSyncDuration||_.liveSyncDurationCount||D===0)&&(D=S!==void 0?S:b*u);var F=u;return D+Math.min(1*this.stallCount,F)}},{key:"liveSyncPosition",get:function(){var c=this.estimateLiveEdge(),d=this.targetLatency,h=this.levelDetails;if(c===null||d===null||h===null)return null;var u=h.edge,p=c-d-this.edgeStalled,S=u-h.totalduration,b=u-(this.config.lowLatencyMode&&h.partTarget||h.targetduration);return Math.min(Math.max(S,p),b)}},{key:"drift",get:function(){var c=this.levelDetails;return c===null?1:c.drift}},{key:"edgeStalled",get:function(){var c=this.levelDetails;if(c===null)return 0;var d=3*(this.config.lowLatencyMode&&c.partTarget||c.targetduration);return Math.max(c.age-d,0)}},{key:"forwardBufferLength",get:function(){var c=this.media,d=this.levelDetails;if(!c||!d)return 0;var h=c.buffered.length;return(h?c.buffered.end(h-1):d.edge)-this.currentTime}}])&&or(y.prototype,s),Object.defineProperty(y,"prototype",{writable:!1}),T}();function br(T,y){for(var s=0;s<y.length;s++){var o=y[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(T,typeof(c=function(d,h){if(typeof d!="object"||d===null)return d;var u=d[Symbol.toPrimitive];if(u!==void 0){var p=u.call(d,h);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(o.key,"string"))=="symbol"?c:String(c),o)}var c}var fr,lr=["NONE","TYPE-0","TYPE-1","TYPE-2",null];(function(T){T.No="",T.Yes="YES",T.v2="v2"})(fr||(fr={}));var se=function(){function T(y,s,o){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=y,this.part=s,this.skip=o}return T.prototype.addDirectives=function(y){var s=new self.URL(y);return this.msn!==void 0&&s.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&s.searchParams.set("_HLS_part",this.part.toString()),this.skip&&s.searchParams.set("_HLS_skip",this.skip),s.href},T}(),Y=function(){function T(o){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[o.url],this.attrs=o.attrs,this.bitrate=o.bitrate,o.details&&(this.details=o.details),this.id=o.id||0,this.name=o.name,this.width=o.width||0,this.height=o.height||0,this.audioCodec=o.audioCodec,this.videoCodec=o.videoCodec,this.unknownCodecs=o.unknownCodecs,this.codecSet=[o.videoCodec,o.audioCodec].filter(function(c){return c}).join(",").replace(/\.[^.,]+/g,"")}var y,s;return y=T,(s=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(o){var c=o%this.url.length;this._urlId!==c&&(this.details=void 0,this._urlId=c)}}])&&br(y.prototype,s),Object.defineProperty(y,"prototype",{writable:!1}),T}();function O(){return O=Object.assign?Object.assign.bind():function(T){for(var y=1;y<arguments.length;y++){var s=arguments[y];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(T[o]=s[o])}return T},O.apply(this,arguments)}function W(T,y,s){switch(y){case"audio":T.audioGroupIds||(T.audioGroupIds=[]),T.audioGroupIds.push(s);break;case"text":T.textGroupIds||(T.textGroupIds=[]),T.textGroupIds.push(s)}}function H(T){var y={};T.forEach(function(s){var o=s.groupId||"";s.id=y[o]=y[o]||0,y[o]++})}function X(T,y){var s=y.startPTS;if((0,w.isFiniteNumber)(s)){var o,c=0;y.sn>T.sn?(c=s-T.start,o=T):(c=T.start-s,o=y),o.duration!==c&&(o.duration=c)}else y.sn>T.sn?T.cc===y.cc&&T.minEndPTS?y.start=T.start+(T.minEndPTS-T.start):y.start=T.start+T.duration:y.start=Math.max(T.start-y.duration,0)}function J(T,y,s,o,c,d){o-s<=0&&(C.logger.warn("Fragment should have a positive duration",y),o=s+y.duration,d=c+y.duration);var h=s,u=o,p=y.startPTS,S=y.endPTS;if((0,w.isFiniteNumber)(p)){var b=Math.abs(p-s);(0,w.isFiniteNumber)(y.deltaPTS)?y.deltaPTS=Math.max(b,y.deltaPTS):y.deltaPTS=b,h=Math.max(s,p),s=Math.min(s,p),c=Math.min(c,y.startDTS),u=Math.min(o,S),o=Math.max(o,S),d=Math.max(d,y.endDTS)}y.duration=o-s;var k=s-y.start;y.start=y.startPTS=s,y.maxStartPTS=h,y.startDTS=c,y.endPTS=o,y.minEndPTS=u,y.endDTS=d;var _,D=y.sn;if(!T||D<T.startSN||D>T.endSN)return 0;var F=D-T.startSN,U=T.fragments;for(U[F]=y,_=F;_>0;_--)X(U[_],U[_-1]);for(_=F;_<U.length-1;_++)X(U[_],U[_+1]);return T.fragmentHint&&X(U[U.length-1],T.fragmentHint),T.PTSKnown=T.alignedSliding=!0,k}function ne(T,y){var s=y.startSN+y.skippedSegments-T.startSN,o=T.fragments;s<0||s>=o.length||ve(y,o[s].start)}function ve(T,y){if(y){for(var s=T.fragments,o=T.skippedSegments;o<s.length;o++)s[o].start+=y;T.fragmentHint&&(T.fragmentHint.start+=y)}}var Ee=function(){function T(s,o){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=C.logger.log.bind(C.logger,o+":"),this.warn=C.logger.warn.bind(C.logger,o+":"),this.hls=s}var y=T.prototype;return y.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},y.onError=function(s,o){!o.fatal||o.type!==x.ErrorTypes.NETWORK_ERROR&&o.type!==x.ErrorTypes.KEY_SYSTEM_ERROR||this.stopLoad()},y.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},y.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.requestScheduled=-1,this.loadPlaylist()},y.stopLoad=function(){this.canLoad=!1,this.clearTimer()},y.switchParams=function(s,o){var c=o==null?void 0:o.renditionReports;if(c)for(var d=0;d<c.length;d++){var h=c[d],u=void 0;try{u=new self.URL(h.URI,o.url).href}catch(k){C.logger.warn("Could not construct new URL for Rendition Report: "+k),u=h.URI||""}if(u===s.slice(-u.length)){var p=parseInt(h["LAST-MSN"])||(o==null?void 0:o.lastPartSn),S=parseInt(h["LAST-PART"])||(o==null?void 0:o.lastPartIndex);if(this.hls.config.lowLatencyMode){var b=Math.min(o.age-o.partTarget,o.targetduration);S>=0&&b>o.partTarget&&(S+=1)}return new se(p,S>=0?S:void 0,fr.No)}}},y.loadPlaylist=function(s){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())},y.shouldLoadTrack=function(s){return this.canLoad&&s&&!!s.url&&(!s.details||s.details.live)},y.playlistLoaded=function(s,o,c){var d=this,h=o.details,u=o.stats,p=self.performance.now(),S=u.loading.first?Math.max(0,p-u.loading.first):0;if(h.advancedDateTime=Date.now()-S,h.live||c!=null&&c.live){if(h.reloaded(c),c&&this.log("live playlist "+s+" "+(h.advanced?"REFRESHED "+h.lastPartSn+"-"+h.lastPartIndex:"MISSED")),c&&h.fragments.length>0&&function($e,Ne){for(var ct=null,Pt=$e.fragments,lt=Pt.length-1;lt>=0;lt--){var pt=Pt[lt].initSegment;if(pt){ct=pt;break}}$e.fragmentHint&&delete $e.fragmentHint.endPTS;var bt,Rr,cr,Qt,Jt,yi=0;if(function(tt,it,Xo){for(var Zn=it.skippedSegments,Si=Math.max(tt.startSN,it.startSN)-it.startSN,As=(tt.fragmentHint?1:0)+(Zn?it.endSN:Math.min(tt.endSN,it.endSN))-it.startSN,bi=it.startSN-tt.startSN,Ei=it.fragmentHint?it.fragments.concat(it.fragmentHint):it.fragments,qi=tt.fragmentHint?tt.fragments.concat(tt.fragmentHint):tt.fragments,Zr=Si;Zr<=As;Zr++){var jh=qi[bi+Zr],dc=Ei[Zr];Zn&&!dc&&Zr<Zn&&(dc=it.fragments[Zr]=jh),jh&&dc&&Xo(jh,dc)}}($e,Ne,function(tt,it){tt.relurl&&(yi=tt.cc-it.cc),(0,w.isFiniteNumber)(tt.startPTS)&&(0,w.isFiniteNumber)(tt.endPTS)&&(it.start=it.startPTS=tt.startPTS,it.startDTS=tt.startDTS,it.appendedPTS=tt.appendedPTS,it.maxStartPTS=tt.maxStartPTS,it.endPTS=tt.endPTS,it.endDTS=tt.endDTS,it.minEndPTS=tt.minEndPTS,it.duration=tt.endPTS-tt.startPTS,it.duration&&(bt=it),Ne.PTSKnown=Ne.alignedSliding=!0),it.elementaryStreams=tt.elementaryStreams,it.loader=tt.loader,it.stats=tt.stats,it.urlId=tt.urlId,tt.initSegment&&(it.initSegment=tt.initSegment,ct=tt.initSegment)}),ct&&(Ne.fragmentHint?Ne.fragments.concat(Ne.fragmentHint):Ne.fragments).forEach(function(tt){var it;tt.initSegment&&tt.initSegment.relurl!==((it=ct)===null||it===void 0?void 0:it.relurl)||(tt.initSegment=ct)}),Ne.skippedSegments)if(Ne.deltaUpdateFailed=Ne.fragments.some(function(tt){return!tt}),Ne.deltaUpdateFailed){C.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var Ua=Ne.skippedSegments;Ua--;)Ne.fragments.shift();Ne.startSN=Ne.fragments[0].sn,Ne.startCC=Ne.fragments[0].cc}else Ne.canSkipDateRanges&&(Ne.dateRanges=(Rr=$e.dateRanges,cr=Ne.dateRanges,Qt=Ne.recentlyRemovedDateranges,Jt=O({},Rr),Qt&&Qt.forEach(function(tt){delete Jt[tt]}),Object.keys(cr).forEach(function(tt){var it=new M(cr[tt].attr,Jt[tt]);it.isValid?Jt[tt]=it:C.logger.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(cr[tt].attr)+'"')}),Jt));var Cs=Ne.fragments;if(yi){C.logger.warn("discontinuity sliding from playlist, take drift into account");for(var Qo=0;Qo<Cs.length;Qo++)Cs[Qo].cc+=yi}Ne.skippedSegments&&(Ne.startCC=Ne.fragments[0].cc),function(tt,it,Xo){if(tt&&it)for(var Zn=0,Si=0,As=tt.length;Si<=As;Si++){var bi=tt[Si],Ei=it[Si+Zn];bi&&Ei&&bi.index===Ei.index&&bi.fragment.sn===Ei.fragment.sn?(qi=bi,(Zr=Ei).elementaryStreams=qi.elementaryStreams,Zr.stats=qi.stats):Zn--}var qi,Zr}($e.partList,Ne.partList),bt?J(Ne,bt,bt.startPTS,bt.endPTS,bt.startDTS,bt.endDTS):ne($e,Ne),Cs.length&&(Ne.totalduration=Ne.edge-Cs[0].start),Ne.driftStartTime=$e.driftStartTime,Ne.driftStart=$e.driftStart;var _s=Ne.advancedDateTime;if(Ne.advanced&&_s){var cc=Ne.edge;Ne.driftStart||(Ne.driftStartTime=_s,Ne.driftStart=cc),Ne.driftEndTime=_s,Ne.driftEnd=cc}else Ne.driftEndTime=$e.driftEndTime,Ne.driftEnd=$e.driftEnd,Ne.advancedDateTime=$e.advancedDateTime}(c,h),!this.canLoad||!h.live)return;var b,k=void 0,_=void 0;if(h.canBlockReload&&h.endSN&&h.advanced){var D=this.hls.config.lowLatencyMode,F=h.lastPartSn,U=h.endSN,Q=h.lastPartIndex,q=F===U;Q!==-1?(k=q?U+1:F,_=q?D?0:Q:Q+1):k=U+1;var te=h.age,fe=te+h.ageHeader,ge=Math.min(fe-h.partTarget,1.5*h.targetduration);if(ge>0){if(c&&ge>c.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+c.tuneInGoal+" to: "+ge+" with playlist age: "+h.age),ge=0;else{var pe=Math.floor(ge/h.targetduration);k+=pe,_!==void 0&&(_+=Math.round(ge%h.targetduration/h.partTarget)),this.log("CDN Tune-in age: "+h.ageHeader+"s last advanced "+te.toFixed(2)+"s goal: "+ge+" skip sn "+pe+" to part "+_)}h.tuneInGoal=ge}if(b=this.getDeliveryDirectives(h,o.deliveryDirectives,k,_),D||!q)return void this.loadPlaylist(b)}else b=this.getDeliveryDirectives(h,o.deliveryDirectives,k,_);var Te=this.hls.mainForwardBufferInfo,ze=Te?Te.end-Te.len:0,Ve=function($e,Ne){Ne===void 0&&(Ne=1/0);var ct=1e3*$e.targetduration;if($e.updated){var Pt=$e.fragments;if(Pt.length&&4*ct>Ne){var lt=1e3*Pt[Pt.length-1].duration;lt<ct&&(ct=lt)}}else ct/=2;return Math.round(ct)}(h,1e3*(h.edge-ze));h.updated?p>this.requestScheduled+Ve&&(this.requestScheduled=u.loading.start):this.requestScheduled=-1,k!==void 0&&h.canBlockReload?this.requestScheduled=u.loading.first+Ve-(1e3*h.partTarget||1e3):this.requestScheduled=(this.requestScheduled===-1?p:this.requestScheduled)+Ve;var Ae=this.requestScheduled-p;Ae=Math.max(0,Ae),this.log("reload live playlist "+s+" in "+Math.round(Ae)+" ms"),this.timer=self.setTimeout(function(){return d.loadPlaylist(b)},Ae)}else this.clearTimer()},y.getDeliveryDirectives=function(s,o,c,d){var h=function(u,p){var S=u.canSkipUntil,b=u.canSkipDateRanges,k=u.endSN;return S&&(p!==void 0?p-k:0)<S?b?fr.v2:fr.Yes:fr.No}(s,c);return o!=null&&o.skip&&s.deltaUpdateFailed&&(c=o.msn,d=o.part,h=fr.No),new se(c,d,h)},y.retryLoadingOrFail=function(s){var o,c=this,d=this.hls.config,h=this.retryCount<d.levelLoadingMaxRetry;if(h)if(this.requestScheduled=-1,this.retryCount++,s.details.indexOf("LoadTimeOut")>-1&&(o=s.context)!==null&&o!==void 0&&o.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+s.details+'"'),this.loadPlaylist();else{var u=Math.min(Math.pow(2,this.retryCount)*d.levelLoadingRetryDelay,d.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout(function(){return c.loadPlaylist()},u),this.warn("retry playlist loading #"+this.retryCount+" in "+u+' ms after "'+s.details+'"')}else this.warn('cannot recover from error "'+s.details+'"'),this.clearTimer(),s.fatal=!0;return h},T}();function xe(){return xe=Object.assign?Object.assign.bind():function(T){for(var y=1;y<arguments.length;y++){var s=arguments[y];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(T[o]=s[o])}return T},xe.apply(this,arguments)}function Oe(T,y){for(var s=0;s<y.length;s++){var o=y[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(T,typeof(c=function(d,h){if(typeof d!="object"||d===null)return d;var u=d[Symbol.toPrimitive];if(u!==void 0){var p=u.call(d,h);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(o.key,"string"))=="symbol"?c:String(c),o)}var c}function He(T,y){return He=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},He(T,y)}var Ue,Ye=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),at=function(T){var y,s;function o(u){var p;return(p=T.call(this,u,"[level-controller]")||this)._levels=[],p._firstLevel=-1,p._startLevel=void 0,p.currentLevelIndex=-1,p.manualLevelIndex=-1,p.onParsedComplete=void 0,p._registerListeners(),p}s=T,(y=o).prototype=Object.create(s.prototype),y.prototype.constructor=y,He(y,s);var c,d,h=o.prototype;return h._registerListeners=function(){var u=this.hls;u.on(v.Events.MANIFEST_LOADED,this.onManifestLoaded,this),u.on(v.Events.LEVEL_LOADED,this.onLevelLoaded,this),u.on(v.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),u.on(v.Events.FRAG_LOADED,this.onFragLoaded,this),u.on(v.Events.ERROR,this.onError,this)},h._unregisterListeners=function(){var u=this.hls;u.off(v.Events.MANIFEST_LOADED,this.onManifestLoaded,this),u.off(v.Events.LEVEL_LOADED,this.onLevelLoaded,this),u.off(v.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),u.off(v.Events.FRAG_LOADED,this.onFragLoaded,this),u.off(v.Events.ERROR,this.onError,this)},h.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,T.prototype.destroy.call(this)},h.startLoad=function(){this._levels.forEach(function(u){u.loadError=0}),T.prototype.startLoad.call(this)},h.onManifestLoaded=function(u,p){var S,b,k=[],_=[],D=[],F={},U=!1,Q=!1,q=!1;if(p.levels.forEach(function(pe){var Te=pe.attrs;U=U||!(!pe.width||!pe.height),Q=Q||!!pe.videoCodec,q=q||!!pe.audioCodec,Ye&&pe.audioCodec&&pe.audioCodec.indexOf("mp4a.40.34")!==-1&&(pe.audioCodec=void 0);var ze=pe.bitrate+"-"+pe.attrs.RESOLUTION+"-"+pe.attrs.CODECS;(b=F[ze])?b.url.push(pe.url):(b=new Y(pe),F[ze]=b,k.push(b)),Te&&(Te.AUDIO&&W(b,"audio",Te.AUDIO),Te.SUBTITLES&&W(b,"text",Te.SUBTITLES))}),(U||Q)&&q&&(k=k.filter(function(pe){var Te=pe.videoCodec,ze=pe.width,Ve=pe.height;return!!Te||!(!ze||!Ve)})),k=k.filter(function(pe){var Te=pe.audioCodec,ze=pe.videoCodec;return(!Te||Re(Te,"audio"))&&(!ze||Re(ze,"video"))}),p.audioTracks&&H(_=p.audioTracks.filter(function(pe){return!pe.audioCodec||Re(pe.audioCodec,"audio")})),p.subtitles&&H(D=p.subtitles),k.length>0){S=k[0].bitrate,k.sort(function(pe,Te){return pe.attrs["HDCP-LEVEL"]!==Te.attrs["HDCP-LEVEL"]?(pe.attrs["HDCP-LEVEL"]||"")>(Te.attrs["HDCP-LEVEL"]||"")?1:-1:pe.bitrate!==Te.bitrate?pe.bitrate-Te.bitrate:pe.attrs.SCORE!==Te.attrs.SCORE?pe.attrs.decimalFloatingPoint("SCORE")-Te.attrs.decimalFloatingPoint("SCORE"):U&&pe.height!==Te.height?pe.height-Te.height:0}),this._levels=k;for(var te=0;te<k.length;te++)if(k[te].bitrate===S){this._firstLevel=te,this.log("manifest loaded, "+k.length+" level(s) found, first bitrate: "+S);break}var fe=q&&!Q,ge={levels:k,audioTracks:_,subtitleTracks:D,sessionData:p.sessionData,sessionKeys:p.sessionKeys,firstLevel:this._firstLevel,stats:p.stats,audio:q,video:Q,altAudio:!fe&&_.some(function(pe){return!!pe.url})};this.hls.trigger(v.Events.MANIFEST_PARSED,ge),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(v.Events.ERROR,{type:x.ErrorTypes.MEDIA_ERROR,details:x.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:p.url,reason:"no level with compatible codecs found in manifest"})},h.onError=function(u,p){var S,b;if(T.prototype.onError.call(this,u,p),!p.fatal){var k=p.context,_=this._levels[this.currentLevelIndex];if(k&&(k.type===oe.PlaylistContextType.AUDIO_TRACK&&_.audioGroupIds&&k.groupId===_.audioGroupIds[_.urlId]||k.type===oe.PlaylistContextType.SUBTITLE_TRACK&&_.textGroupIds&&k.groupId===_.textGroupIds[_.urlId]))this.redundantFailover(this.currentLevelIndex);else{var D,F=!1,U=!0;switch(p.details){case x.ErrorDetails.FRAG_LOAD_ERROR:case x.ErrorDetails.FRAG_LOAD_TIMEOUT:case x.ErrorDetails.KEY_LOAD_ERROR:case x.ErrorDetails.KEY_LOAD_TIMEOUT:if(p.frag){var Q=p.frag.type===oe.PlaylistLevelType.MAIN?p.frag.level:this.currentLevelIndex,q=this._levels[Q];q?(q.fragmentError++,q.fragmentError>this.hls.config.fragLoadingMaxRetry&&(D=Q)):D=Q}break;case x.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:var te=_.attrs["HDCP-LEVEL"];te&&(this.hls.maxHdcpLevel=lr[lr.indexOf(te)-1],this.warn('Restricting playback to HDCP-LEVEL of "'+this.hls.maxHdcpLevel+'" or lower'));case x.ErrorDetails.FRAG_PARSING_ERROR:case x.ErrorDetails.KEY_SYSTEM_NO_SESSION:D=((S=p.frag)===null||S===void 0?void 0:S.type)===oe.PlaylistLevelType.MAIN?p.frag.level:this.currentLevelIndex,p.levelRetry=!1;break;case x.ErrorDetails.LEVEL_LOAD_ERROR:case x.ErrorDetails.LEVEL_LOAD_TIMEOUT:k&&(k.deliveryDirectives&&(U=!1),D=k.level),F=!0;break;case x.ErrorDetails.REMUX_ALLOC_ERROR:D=(b=p.level)!=null?b:this.currentLevelIndex,F=!0}D!==void 0&&this.recoverLevel(p,D,F,U)}}},h.recoverLevel=function(u,p,S,b){var k=u.details,_=this._levels[p];if(_.loadError++,S){if(!this.retryLoadingOrFail(u))return void(this.currentLevelIndex=-1);u.levelRetry=!0}if(b){var D=_.url.length;if(D>1&&_.loadError<D)u.levelRetry=!0,this.redundantFailover(p);else if(this.manualLevelIndex===-1){for(var F=-1,U=this._levels,Q=U.length;Q--;){var q=(Q+this.currentLevelIndex)%U.length;if(q!==this.currentLevelIndex&&U[q].loadError===0){F=q;break}}F>-1&&this.currentLevelIndex!==F?(this.warn(k+": switch to "+F),u.levelRetry=!0,this.hls.nextAutoLevel=F):u.levelRetry===!1&&(u.fatal=!0)}}},h.redundantFailover=function(u){var p=this._levels[u],S=p.url.length;if(S>1){var b=(p.urlId+1)%S;this.warn("Switching to redundant URL-id "+b),this._levels.forEach(function(k){k.urlId=b}),this.level=u}},h.onFragLoaded=function(u,p){var S=p.frag;if(S!==void 0&&S.type===oe.PlaylistLevelType.MAIN){var b=this._levels[S.level];b!==void 0&&(b.fragmentError=0,b.loadError=0)}},h.onLevelLoaded=function(u,p){var S,b,k=p.level,_=p.details,D=this._levels[k];if(!D)return this.warn("Invalid level index "+k),void((b=p.deliveryDirectives)!==null&&b!==void 0&&b.skip&&(_.deltaUpdateFailed=!0));k===this.currentLevelIndex?(D.fragmentError===0&&(D.loadError=0,this.retryCount=0),this.playlistLoaded(k,p,D.details)):(S=p.deliveryDirectives)!==null&&S!==void 0&&S.skip&&(_.deltaUpdateFailed=!0)},h.onAudioTrackSwitched=function(u,p){var S=this.hls.levels[this.currentLevelIndex];if(S&&S.audioGroupIds){for(var b=-1,k=this.hls.audioTracks[p.id].groupId,_=0;_<S.audioGroupIds.length;_++)if(S.audioGroupIds[_]===k){b=_;break}b!==S.urlId&&(S.urlId=b,this.startLoad())}},h.loadPlaylist=function(u){T.prototype.loadPlaylist.call(this);var p=this.currentLevelIndex,S=this._levels[p];if(this.canLoad&&S&&S.url.length>0){var b=S.urlId,k=S.url[b];if(u)try{k=u.addDirectives(k)}catch(_){this.warn("Could not construct new URL with HLS Delivery Directives: "+_)}this.log("Attempt loading level index "+p+((u==null?void 0:u.msn)!==void 0?" at sn "+u.msn+" part "+u.part:"")+" with URL-id "+b+" "+k),this.clearTimer(),this.hls.trigger(v.Events.LEVEL_LOADING,{url:k,level:p,id:b,deliveryDirectives:u||null})}},h.removeLevel=function(u,p){var S=function(k,_){return _!==p},b=this._levels.filter(function(k,_){return _!==u||k.url.length>1&&p!==void 0&&(k.url=k.url.filter(S),k.audioGroupIds&&(k.audioGroupIds=k.audioGroupIds.filter(S)),k.textGroupIds&&(k.textGroupIds=k.textGroupIds.filter(S)),k.urlId=0,!0)}).map(function(k,_){var D=k.details;return D!=null&&D.fragments&&D.fragments.forEach(function(F){F.level=_}),k});this._levels=b,this.hls.trigger(v.Events.LEVELS_UPDATED,{levels:b})},c=o,(d=[{key:"levels",get:function(){return this._levels.length===0?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(u){var p,S=this._levels;if(S.length!==0&&(this.currentLevelIndex!==u||(p=S[u])===null||p===void 0||!p.details)){if(u<0||u>=S.length){var b=u<0;if(this.hls.trigger(v.Events.ERROR,{type:x.ErrorTypes.OTHER_ERROR,details:x.ErrorDetails.LEVEL_SWITCH_ERROR,level:u,fatal:b,reason:"invalid level idx"}),b)return;u=Math.min(u,S.length-1)}this.clearTimer();var k=this.currentLevelIndex,_=S[k],D=S[u];this.log("switching to level "+u+" from "+k),this.currentLevelIndex=u;var F=xe({},D,{level:u,maxBitrate:D.maxBitrate,uri:D.uri,urlId:D.urlId});delete F._urlId,this.hls.trigger(v.Events.LEVEL_SWITCHING,F);var U=D.details;if(!U||U.live){var Q=this.switchParams(D.uri,_==null?void 0:_.details);this.loadPlaylist(Q)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(u){this.manualLevelIndex=u,this._startLevel===void 0&&(this._startLevel=u),u!==-1&&(this.level=u)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(u){this._firstLevel=u}},{key:"startLevel",get:function(){if(this._startLevel===void 0){var u=this.hls.config.startLevel;return u!==void 0?u:this._firstLevel}return this._startLevel},set:function(u){this._startLevel=u}},{key:"nextLoadLevel",get:function(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(u){this.level=u,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=u)}}])&&Oe(c.prototype,d),Object.defineProperty(c,"prototype",{writable:!1}),o}(Ee);(function(T){T.NOT_LOADED="NOT_LOADED",T.APPENDING="APPENDING",T.PARTIAL="PARTIAL",T.OK="OK"})(Ue||(Ue={}));var mt=function(){function T(s){this.activeFragment=null,this.activeParts=null,this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=s,this._registerListeners()}var y=T.prototype;return y._registerListeners=function(){var s=this.hls;s.on(v.Events.BUFFER_APPENDED,this.onBufferAppended,this),s.on(v.Events.FRAG_BUFFERED,this.onFragBuffered,this),s.on(v.Events.FRAG_LOADED,this.onFragLoaded,this)},y._unregisterListeners=function(){var s=this.hls;s.off(v.Events.BUFFER_APPENDED,this.onBufferAppended,this),s.off(v.Events.FRAG_BUFFERED,this.onFragBuffered,this),s.off(v.Events.FRAG_LOADED,this.onFragLoaded,this)},y.destroy=function(){this._unregisterListeners(),this.fragments=this.endListFragments=this.timeRanges=this.activeFragment=this.activeParts=null},y.getAppendedFrag=function(s,o){if(o===oe.PlaylistLevelType.MAIN){var c=this.activeFragment,d=this.activeParts;if(!c)return null;if(d)for(var h=d.length;h--;){var u=d[h],p=u?u.end:c.appendedPTS;if(u.start<=s&&p!==void 0&&s<=p)return h>9&&(this.activeParts=d.slice(h-9)),u}else if(c.start<=s&&c.appendedPTS!==void 0&&s<=c.appendedPTS)return c}return this.getBufferedFrag(s,o)},y.getBufferedFrag=function(s,o){for(var c=this.fragments,d=Object.keys(c),h=d.length;h--;){var u=c[d[h]];if((u==null?void 0:u.body.type)===o&&u.buffered){var p=u.body;if(p.start<=s&&s<=p.end)return p}}return null},y.detectEvictedFragments=function(s,o,c){var d=this;this.timeRanges&&(this.timeRanges[s]=o),Object.keys(this.fragments).forEach(function(h){var u=d.fragments[h];if(u)if(u.buffered||u.loaded){var p=u.range[s];p&&p.time.some(function(S){var b=!d.isTimeBuffered(S.startPTS,S.endPTS,o);return b&&d.removeFragment(u.body),b})}else u.body.type===c&&d.removeFragment(u.body)})},y.detectPartialFragments=function(s){var o=this,c=this.timeRanges,d=s.frag,h=s.part;if(c&&d.sn!=="initSegment"){var u=ot(d),p=this.fragments[u];p&&(Object.keys(c).forEach(function(S){var b=d.elementaryStreams[S];if(b){var k=c[S],_=h!==null||b.partial===!0;p.range[S]=o.getBufferedTimes(d,h,_,k)}}),p.loaded=null,Object.keys(p.range).length?(p.buffered=!0,p.body.endList&&(this.endListFragments[p.body.type]=p)):this.removeFragment(p.body))}},y.fragBuffered=function(s){var o=ot(s),c=this.fragments[o];c&&(c.loaded=null,c.buffered=!0)},y.getBufferedTimes=function(s,o,c,d){for(var h={time:[],partial:c},u=o?o.start:s.start,p=o?o.end:s.end,S=s.minEndPTS||p,b=s.maxStartPTS||u,k=0;k<d.length;k++){var _=d.start(k)-this.bufferPadding,D=d.end(k)+this.bufferPadding;if(b>=_&&S<=D){h.time.push({startPTS:Math.max(u,d.start(k)),endPTS:Math.min(p,d.end(k))});break}if(u<D&&p>_)h.partial=!0,h.time.push({startPTS:Math.max(u,d.start(k)),endPTS:Math.min(p,d.end(k))});else if(p<=_)break}return h},y.getPartialFragment=function(s){var o,c,d,h=null,u=0,p=this.bufferPadding,S=this.fragments;return Object.keys(S).forEach(function(b){var k=S[b];k&&qe(k)&&(c=k.body.start-p,d=k.body.end+p,s>=c&&s<=d&&(o=Math.min(s-c,d-s),u<=o&&(h=k.body,u=o)))}),h},y.isEndListAppended=function(s){var o=this.endListFragments[s];return o!==void 0&&(o.buffered||qe(o))},y.getState=function(s){var o=ot(s),c=this.fragments[o];return c?c.buffered?qe(c)?Ue.PARTIAL:Ue.OK:Ue.APPENDING:Ue.NOT_LOADED},y.isTimeBuffered=function(s,o,c){for(var d,h,u=0;u<c.length;u++){if(d=c.start(u)-this.bufferPadding,h=c.end(u)+this.bufferPadding,s>=d&&o<=h)return!0;if(o<=d)return!1}return!1},y.onFragLoaded=function(s,o){var c=o.frag,d=o.part;if(c.sn!=="initSegment"&&!c.bitrateTest&&!d){var h=ot(c);this.fragments[h]={body:c,loaded:o,buffered:!1,range:Object.create(null)}}},y.onBufferAppended=function(s,o){var c=this,d=o.frag,h=o.part,u=o.timeRanges;if(d.type===oe.PlaylistLevelType.MAIN)if(this.activeFragment!==d&&(this.activeFragment=d,d.appendedPTS=void 0),h){var p=this.activeParts;p||(this.activeParts=p=[]),p.push(h)}else this.activeParts=null;this.timeRanges=u,Object.keys(u).forEach(function(S){var b=u[S];if(c.detectEvictedFragments(S,b),!h&&d.type===oe.PlaylistLevelType.MAIN){var k=d.elementaryStreams[S];if(!k)return;for(var _=0;_<b.length;_++){var D=b.end(_);D<=k.endPTS&&D>k.startPTS?d.appendedPTS=Math.max(D,d.appendedPTS||0):d.appendedPTS=k.endPTS}}})},y.onFragBuffered=function(s,o){this.detectPartialFragments(o)},y.hasFragment=function(s){var o=ot(s);return!!this.fragments[o]},y.removeFragmentsInRange=function(s,o,c){var d=this;Object.keys(this.fragments).forEach(function(h){var u=d.fragments[h];if(u&&u.buffered){var p=u.body;p.type===c&&p.start<o&&p.end>s&&d.removeFragment(p)}})},y.removeFragment=function(s){var o=ot(s);s.stats.loaded=0,s.clearElementaryStreamInfo(),s.appendedPTS=void 0,delete this.fragments[o],s.endList&&delete this.endListFragments[s.type]},y.removeAllFragments=function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activeFragment=null,this.activeParts=null},T}();function qe(T){var y,s;return T.buffered&&(((y=T.range.video)===null||y===void 0?void 0:y.partial)||((s=T.range.audio)===null||s===void 0?void 0:s.partial))}function ot(T){return T.type+"_"+T.level+"_"+T.urlId+"_"+T.sn}function hr(T){var y=typeof Map=="function"?new Map:void 0;return hr=function(s){if(s===null||(o=s,Function.toString.call(o).indexOf("[native code]")===-1))return s;var o;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(y!==void 0){if(y.has(s))return y.get(s);y.set(s,c)}function c(){return wt(s,arguments,Ze(this).constructor)}return c.prototype=Object.create(s.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),Yt(c,s)},hr(T)}function wt(T,y,s){return wt=pr()?Reflect.construct.bind():function(o,c,d){var h=[null];h.push.apply(h,c);var u=new(Function.bind.apply(o,h));return d&&Yt(u,d.prototype),u},wt.apply(null,arguments)}function pr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yt(T,y){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},Yt(T,y)}function Ze(T){return Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},Ze(T)}var ar=Math.pow(2,17),wn=function(){function T(s){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=s}var y=T.prototype;return y.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},y.abort=function(){this.loader&&this.loader.abort()},y.load=function(s,o){var c=this,d=s.url;if(!d)return Promise.reject(new mr({type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:s,networkDetails:null},"Fragment does not have a "+(d?"part list":"url")));this.abort();var h=this.config,u=h.fLoader,p=h.loader;return new Promise(function(S,b){c.loader&&c.loader.destroy();var k=c.loader=s.loader=u?new u(h):new p(h),_=Ut(s),D={timeout:h.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:h.fragLoadingMaxRetryTimeout,highWaterMark:s.sn==="initSegment"?1/0:ar};s.stats=k.stats,k.load(_,D,{onSuccess:function(F,U,Q,q){c.resetLoader(s,k);var te=F.data;Q.resetIV&&s.decryptdata&&(s.decryptdata.iv=new Uint8Array(te.slice(0,16)),te=te.slice(16)),S({frag:s,part:null,payload:te,networkDetails:q})},onError:function(F,U,Q){c.resetLoader(s,k),b(new mr({type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:s,response:F,networkDetails:Q}))},onAbort:function(F,U,Q){c.resetLoader(s,k),b(new mr({type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:s,networkDetails:Q}))},onTimeout:function(F,U,Q){c.resetLoader(s,k),b(new mr({type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:s,networkDetails:Q}))},onProgress:function(F,U,Q,q){o&&o({frag:s,part:null,payload:Q,networkDetails:q})}})})},y.loadPart=function(s,o,c){var d=this;this.abort();var h=this.config,u=h.fLoader,p=h.loader;return new Promise(function(S,b){d.loader&&d.loader.destroy();var k=d.loader=s.loader=u?new u(h):new p(h),_=Ut(s,o),D={timeout:h.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:h.fragLoadingMaxRetryTimeout,highWaterMark:ar};o.stats=k.stats,k.load(_,D,{onSuccess:function(F,U,Q,q){d.resetLoader(s,k),d.updateStatsFromPart(s,o);var te={frag:s,part:o,payload:F.data,networkDetails:q};c(te),S(te)},onError:function(F,U,Q){d.resetLoader(s,k),b(new mr({type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:s,part:o,response:F,networkDetails:Q}))},onAbort:function(F,U,Q){s.stats.aborted=o.stats.aborted,d.resetLoader(s,k),b(new mr({type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:s,part:o,networkDetails:Q}))},onTimeout:function(F,U,Q){d.resetLoader(s,k),b(new mr({type:x.ErrorTypes.NETWORK_ERROR,details:x.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:s,part:o,networkDetails:Q}))}})})},y.updateStatsFromPart=function(s,o){var c=s.stats,d=o.stats,h=d.total;if(c.loaded+=d.loaded,h){var u=Math.round(s.duration/o.duration),p=Math.min(Math.round(c.loaded/h),u),S=(u-p)*Math.round(c.loaded/p);c.total=c.loaded+S}else c.total=Math.max(c.loaded,c.total);var b=c.loading,k=d.loading;b.start?b.first+=k.first-k.start:(b.start=k.start,b.first=k.first),b.end=k.end},y.resetLoader=function(s,o){s.loader=null,this.loader===o&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),o.destroy()},T}();function Ut(T,y){y===void 0&&(y=null);var s=y||T,o={frag:T,part:y,responseType:"arraybuffer",url:s.url,headers:{},rangeStart:0,rangeEnd:0},c=s.byteRangeStartOffset,d=s.byteRangeEndOffset;if((0,w.isFiniteNumber)(c)&&(0,w.isFiniteNumber)(d)){var h,u=c,p=d;if(T.sn==="initSegment"&&((h=T.decryptdata)===null||h===void 0?void 0:h.method)==="AES-128"){var S=d-c;S%16&&(p=d+(16-S%16)),c!==0&&(o.resetIV=!0,u=c-16)}o.rangeStart=u,o.rangeEnd=p}return o}var mr=function(T){var y,s;function o(c){for(var d,h=arguments.length,u=new Array(h>1?h-1:0),p=1;p<h;p++)u[p-1]=arguments[p];return(d=T.call.apply(T,[this].concat(u))||this).data=void 0,d.data=c,d}return s=T,(y=o).prototype=Object.create(s.prototype),y.prototype.constructor=y,Yt(y,s),o}(hr(Error)),kn=function(){function T(s){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=s}var y=T.prototype;return y.abort=function(){for(var s in this.keyUriToKeyInfo){var o=this.keyUriToKeyInfo[s].loader;o&&o.abort()}},y.detach=function(){for(var s in this.keyUriToKeyInfo){var o=this.keyUriToKeyInfo[s];(o.mediaKeySessionContext||o.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[s]}},y.destroy=function(){for(var s in this.detach(),this.keyUriToKeyInfo){var o=this.keyUriToKeyInfo[s].loader;o&&o.destroy()}this.keyUriToKeyInfo={}},y.createKeyLoadError=function(s,o,c,d){return o===void 0&&(o=x.ErrorDetails.KEY_LOAD_ERROR),new mr({type:x.ErrorTypes.NETWORK_ERROR,details:o,fatal:!1,frag:s,networkDetails:c})},y.loadClear=function(s,o){var c=this;if(this.emeController&&this.config.emeEnabled)for(var d=s.sn,h=s.cc,u=function(S){var b=o[S];if(h<=b.cc&&(d==="initSegment"||d<b.sn))return c.emeController.selectKeySystemFormat(b).then(function(k){b.setKeyFormat(k)}),"break"},p=0;p<o.length&&u(p)!=="break";p++);},y.load=function(s){var o=this;return!s.decryptdata&&s.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(s).then(function(c){return o.loadInternal(s,c)}):this.loadInternal(s)},y.loadInternal=function(s,o){var c,d;o&&s.setKeyFormat(o);var h=s.decryptdata;if(!h){var u=o?"Expected frag.decryptdata to be defined after setting format "+o:"Missing decryption data on fragment in onKeyLoading";return Promise.reject(this.createKeyLoadError(s,x.ErrorDetails.KEY_LOAD_ERROR,null,u))}var p=h.uri;if(!p)return Promise.reject(this.createKeyLoadError(s,x.ErrorDetails.KEY_LOAD_ERROR,null,'Invalid key URI: "'+p+'"'));var S,b=this.keyUriToKeyInfo[p];if((c=b)!==null&&c!==void 0&&c.decryptdata.key)return h.key=b.decryptdata.key,Promise.resolve({frag:s,keyInfo:b});if((d=b)!==null&&d!==void 0&&d.keyLoadPromise)switch((S=b.mediaKeySessionContext)===null||S===void 0?void 0:S.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return b.keyLoadPromise.then(function(k){return h.key=k.keyInfo.decryptdata.key,{frag:s,keyInfo:b}})}switch(b=this.keyUriToKeyInfo[p]={decryptdata:h,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},h.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return h.keyFormat==="identity"?this.loadKeyHTTP(b,s):this.loadKeyEME(b,s);case"AES-128":return this.loadKeyHTTP(b,s);default:return Promise.reject(this.createKeyLoadError(s,x.ErrorDetails.KEY_LOAD_ERROR,null,'Key supplied with unsupported METHOD: "'+h.method+'"'))}},y.loadKeyEME=function(s,o){var c={frag:o,keyInfo:s};if(this.emeController&&this.config.emeEnabled){var d=this.emeController.loadKey(c);if(d)return(s.keyLoadPromise=d.then(function(h){return s.mediaKeySessionContext=h,c})).catch(function(h){throw s.keyLoadPromise=null,h})}return Promise.resolve(c)},y.loadKeyHTTP=function(s,o){var c=this,d=this.config,h=new d.loader(d);return o.keyLoader=s.loader=h,s.keyLoadPromise=new Promise(function(u,p){var S={keyInfo:s,frag:o,responseType:"arraybuffer",url:s.decryptdata.uri},b={timeout:d.fragLoadingTimeOut,maxRetry:0,retryDelay:d.fragLoadingRetryDelay,maxRetryDelay:d.fragLoadingMaxRetryTimeout,highWaterMark:0},k={onSuccess:function(_,D,F,U){var Q=F.frag,q=F.keyInfo,te=F.url;if(!Q.decryptdata||q!==c.keyUriToKeyInfo[te])return p(c.createKeyLoadError(Q,x.ErrorDetails.KEY_LOAD_ERROR,U,"after key load, decryptdata unset or changed"));q.decryptdata.key=Q.decryptdata.key=new Uint8Array(_.data),Q.keyLoader=null,q.loader=null,u({frag:Q,keyInfo:q})},onError:function(_,D,F){c.resetLoader(D),p(c.createKeyLoadError(o,x.ErrorDetails.KEY_LOAD_ERROR,F))},onTimeout:function(_,D,F){c.resetLoader(D),p(c.createKeyLoadError(o,x.ErrorDetails.KEY_LOAD_TIMEOUT,F))},onAbort:function(_,D,F){c.resetLoader(D),p(c.createKeyLoadError(o,x.ErrorDetails.INTERNAL_ABORTED,F))}};h.load(S,b,k)})},y.resetLoader=function(s){var o=s.frag,c=s.keyInfo,d=s.url,h=c.loader;o.keyLoader===h&&(o.keyLoader=null,c.loader=null),delete this.keyUriToKeyInfo[d],h&&h.destroy()},T}(),gi=function(){function T(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var y=T.prototype;return y.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},y.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},y.onHandlerDestroyed=function(){},y.hasInterval=function(){return!!this._tickInterval},y.hasNextTick=function(){return!!this._tickTimer},y.setInterval=function(s){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,s),!0)},y.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},y.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},y.tick=function(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},y.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},y.doTick=function(){},T}(),Fr={length:0,start:function(){return 0},end:function(){return 0}},zt=function(){function T(){}return T.isBuffered=function(y,s){try{if(y){for(var o=T.getBuffered(y),c=0;c<o.length;c++)if(s>=o.start(c)&&s<=o.end(c))return!0}}catch{}return!1},T.bufferInfo=function(y,s,o){try{if(y){var c,d=T.getBuffered(y),h=[];for(c=0;c<d.length;c++)h.push({start:d.start(c),end:d.end(c)});return this.bufferedInfo(h,s,o)}}catch{}return{len:0,start:s,end:s,nextStart:void 0}},T.bufferedInfo=function(y,s,o){s=Math.max(0,s),y.sort(function(U,Q){return U.start-Q.start||Q.end-U.end});var c=[];if(o)for(var d=0;d<y.length;d++){var h=c.length;if(h){var u=c[h-1].end;y[d].start-u<o?y[d].end>u&&(c[h-1].end=y[d].end):c.push(y[d])}else c.push(y[d])}else c=y;for(var p,S=0,b=s,k=s,_=0;_<c.length;_++){var D=c[_].start,F=c[_].end;if(s+o>=D&&s<F)b=D,S=(k=F)-s;else if(s+o<D){p=D;break}}return{len:S,start:b||0,end:k||0,nextStart:p}},T.getBuffered=function(y){try{return y.buffered}catch(s){return C.logger.log("failed to get media.buffered",s),Fr}},T}(),Lo=function(T,y,s,o,c,d){o===void 0&&(o=0),c===void 0&&(c=-1),d===void 0&&(d=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=T,this.sn=y,this.id=s,this.size=o,this.part=c,this.partial=d};function Xu(T,y){for(var s=null,o=0,c=T.length;o<c;o++){var d=T[o];if(d&&d.cc===y){s=d;break}}return s}function Zu(T,y){if(T){var s=T.start+y;T.start=T.startPTS=s,T.endPTS=s+T.duration}}function Do(T,y){for(var s=y.fragments,o=0,c=s.length;o<c;o++)Zu(s[o],T);y.fragmentHint&&Zu(y.fragmentHint,T),y.alignedSliding=!0}function Ju(T,y){if(T.hasProgramDateTime&&y.hasProgramDateTime){var s=T.fragments,o=y.fragments;if(s.length&&o.length){var c=o[Math.round(o.length/2)-1],d=Xu(s,c.cc)||s[Math.round(s.length/2)-1],h=c.programDateTime,u=d.programDateTime;h!==null&&u!==null&&Do((u-h)/1e3-(d.start-c.start),T)}}}const gs=function(T,y){for(var s=0,o=T.length-1,c=null,d=null;s<=o;){var h=y(d=T[c=(s+o)/2|0]);if(h>0)s=c+1;else{if(!(h<0))return d;o=c-1}}return null};function Io(T,y,s,o){s===void 0&&(s=0),o===void 0&&(o=0);var c=null;if(T?c=y[T.sn-y[0].sn+1]||null:s===0&&y[0].start===0&&(c=y[0]),c&&ji(s,o,c)===0)return c;var d=gs(y,ji.bind(null,s,o));return!d||d===T&&c?c:d}function ji(T,y,s){if(T===void 0&&(T=0),y===void 0&&(y=0),s.start<=T&&s.start+s.duration>T)return 0;var o=Math.min(y,s.duration+(s.deltaPTS?s.deltaPTS:0));return s.start+s.duration-o<=T?1:s.start-o>T&&s.start?-1:0}function Oo(T,y,s){var o=1e3*Math.min(y,s.duration+(s.deltaPTS?s.deltaPTS:0));return(s.endProgramDateTime||0)-o>T}var ch=m(21);const vs=function(T){for(var y="",s=T.length,o=0;o<s;o++)y+="["+T.start(o).toFixed(3)+"-"+T.end(o).toFixed(3)+"]";return y};function ec(T,y){for(var s=0;s<y.length;s++){var o=y[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(T,typeof(c=function(d,h){if(typeof d!="object"||d===null)return d;var u=d[Symbol.toPrimitive];if(u!==void 0){var p=u.call(d,h);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(o.key,"string"))=="symbol"?c:String(c),o)}var c}function Fo(T,y){return Fo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},Fo(T,y)}var cn="STOPPED",ht="IDLE",ys="KEY_LOADING",zi="FRAG_LOADING",Vi="FRAG_LOADING_WAITING_RETRY",Ss="WAITING_TRACK",xn="PARSING",Ia="PARSED",Oa="ENDED",Nn="ERROR",Fa="WAITING_INIT_PTS",Hi="WAITING_LEVEL",Mo=function(T){var y,s;function o(u,p,S,b){var k;return(k=T.call(this)||this).hls=void 0,k.fragPrevious=null,k.fragCurrent=null,k.fragmentTracker=void 0,k.transmuxer=null,k._state=cn,k.media=null,k.mediaBuffer=null,k.config=void 0,k.bitrateTest=!1,k.lastCurrentTime=0,k.nextLoadPosition=0,k.startPosition=0,k.loadedmetadata=!1,k.fragLoadError=0,k.retryDate=0,k.levels=null,k.fragmentLoader=void 0,k.keyLoader=void 0,k.levelLastLoaded=null,k.startFragRequested=!1,k.decrypter=void 0,k.initPTS=[],k.onvseeking=null,k.onvended=null,k.logPrefix="",k.log=void 0,k.warn=void 0,k.logPrefix=b,k.log=C.logger.log.bind(C.logger,b+":"),k.warn=C.logger.warn.bind(C.logger,b+":"),k.hls=u,k.fragmentLoader=new wn(u.config),k.keyLoader=S,k.fragmentTracker=p,k.config=u.config,k.decrypter=new ch.default(u.config),u.on(v.Events.LEVEL_SWITCHING,k.onLevelSwitching,function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(k)),k}s=T,(y=o).prototype=Object.create(s.prototype),y.prototype.constructor=y,Fo(y,s);var c,d,h=o.prototype;return h.doTick=function(){this.onTickEnd()},h.onTickEnd=function(){},h.startLoad=function(u){},h.stopLoad=function(){this.fragmentLoader.abort(),this.keyLoader.abort();var u=this.fragCurrent;u&&(u.abortRequests(),this.fragmentTracker.removeFragment(u)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=cn},h._streamEnded=function(u,p){if(p.live||u.nextStart||!u.end||!this.media)return!1;var S=p.partList;if(S!=null&&S.length){var b=S[S.length-1];return zt.isBuffered(this.media,b.start+b.duration/2)}var k=p.fragments[p.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(k)},h.getLevelDetails=function(){var u;if(this.levels&&this.levelLastLoaded!==null)return(u=this.levels[this.levelLastLoaded])===null||u===void 0?void 0:u.details},h.onMediaAttached=function(u,p){var S=this.media=this.mediaBuffer=p.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),S.addEventListener("seeking",this.onvseeking),S.addEventListener("ended",this.onvended);var b=this.config;this.levels&&b.autoStartLoad&&this.state===cn&&this.startLoad(b.startPosition)},h.onMediaDetaching=function(){var u=this.media;u!=null&&u.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),u&&this.onvseeking&&this.onvended&&(u.removeEventListener("seeking",this.onvseeking),u.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},h.onMediaSeeking=function(){var u=this.config,p=this.fragCurrent,S=this.media,b=this.mediaBuffer,k=this.state,_=S?S.currentTime:0,D=zt.bufferInfo(b||S,_,u.maxBufferHole);if(this.log("media seeking to "+((0,w.isFiniteNumber)(_)?_.toFixed(3):_)+", state: "+k),this.state===Oa)this.resetLoadingState();else if(p){var F=u.maxFragLookUpTolerance,U=p.start-F,Q=p.start+p.duration+F;if(!D.len||Q<D.start||U>D.end){var q=_>Q;(_<U||q)&&(q&&p.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),p.abortRequests()),this.resetLoadingState())}}S&&(this.lastCurrentTime=_),this.loadedmetadata||D.len||(this.nextLoadPosition=this.startPosition=_),this.tickImmediate()},h.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},h.onLevelSwitching=function(u,p){this.fragLoadError=0},h.onHandlerDestroying=function(){this.stopLoad(),T.prototype.onHandlerDestroying.call(this)},h.onHandlerDestroyed=function(){this.state=cn,this.hls.off(v.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,T.prototype.onHandlerDestroyed.call(this)},h.loadFragment=function(u,p,S){this._loadFragForPlayback(u,p,S)},h._loadFragForPlayback=function(u,p,S){var b=this;this._doFragLoad(u,p,S,function(k){if(b.fragContextChanged(u))return b.warn("Fragment "+u.sn+(k.part?" p: "+k.part.index:"")+" of level "+u.level+" was dropped during download."),void b.fragmentTracker.removeFragment(u);u.stats.chunkCount++,b._handleFragmentLoadProgress(k)}).then(function(k){if(k){b.fragLoadError=0;var _=b.state;b.fragContextChanged(u)?(_===zi||!b.fragCurrent&&_===xn)&&(b.fragmentTracker.removeFragment(u),b.state=ht):("payload"in k&&(b.log("Loaded fragment "+u.sn+" of level "+u.level),b.hls.trigger(v.Events.FRAG_LOADED,k)),b._handleFragmentLoadComplete(k))}}).catch(function(k){b.state!==cn&&b.state!==Nn&&(b.warn(k),b.resetFragmentLoading(u))})},h.flushMainBuffer=function(u,p,S){if(S===void 0&&(S=null),u-p){var b={startOffset:u,endOffset:p,type:S};this.fragLoadError=0,this.hls.trigger(v.Events.BUFFER_FLUSHING,b)}},h._loadInitSegment=function(u,p){var S=this;this._doFragLoad(u,p).then(function(b){if(!b||S.fragContextChanged(u)||!S.levels)throw new Error("init load aborted");return b}).then(function(b){var k=S.hls,_=b.payload,D=u.decryptdata;if(_&&_.byteLength>0&&D&&D.key&&D.iv&&D.method==="AES-128"){var F=self.performance.now();return S.decrypter.decrypt(new Uint8Array(_),D.key.buffer,D.iv.buffer).then(function(U){var Q=self.performance.now();return k.trigger(v.Events.FRAG_DECRYPTED,{frag:u,payload:U,stats:{tstart:F,tdecrypt:Q}}),b.payload=U,b})}return b}).then(function(b){var k=S.fragCurrent,_=S.hls,D=S.levels;if(!D)throw new Error("init load aborted, missing levels");D[u.level].details;var F=u.stats;S.state=ht,S.fragLoadError=0,u.data=new Uint8Array(b.payload),F.parsing.start=F.buffering.start=self.performance.now(),F.parsing.end=F.buffering.end=self.performance.now(),b.frag===k&&_.trigger(v.Events.FRAG_BUFFERED,{stats:F,frag:k,part:null,id:u.type}),S.tick()}).catch(function(b){S.state!==cn&&S.state!==Nn&&(S.warn(b),S.resetFragmentLoading(u))})},h.fragContextChanged=function(u){var p=this.fragCurrent;return!u||!p||u.level!==p.level||u.sn!==p.sn||u.urlId!==p.urlId},h.fragBufferedComplete=function(u,p){var S,b,k,_,D=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+u.type+" sn: "+u.sn+(p?" part: "+p.index:"")+" of "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+u.level+" (frag:["+((S=u.startPTS)!=null?S:NaN).toFixed(3)+"-"+((b=u.endPTS)!=null?b:NaN).toFixed(3)+"] > buffer:"+(D?vs(zt.getBuffered(D)):"(detached)")+")"),this.state=ht,D&&(!this.loadedmetadata&&u.type==oe.PlaylistLevelType.MAIN&&D.buffered.length&&((k=this.fragCurrent)===null||k===void 0?void 0:k.sn)===((_=this.fragPrevious)===null||_===void 0?void 0:_.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},h.seekToStartPos=function(){},h._handleFragmentLoadComplete=function(u){var p=this.transmuxer;if(p){var S=u.frag,b=u.part,k=u.partsLoaded,_=!k||k.length===0||k.some(function(F){return!F}),D=new Lo(S.level,S.sn,S.stats.chunkCount+1,0,b?b.index:-1,!_);p.flush(D)}},h._handleFragmentLoadProgress=function(u){},h._doFragLoad=function(u,p,S,b){var k,_=this;if(S===void 0&&(S=null),!this.levels)throw new Error("frag load aborted, missing levels");var D=null;if(!u.encrypted||(k=u.decryptdata)!==null&&k!==void 0&&k.key?!u.encrypted&&p.encryptedFragments.length&&this.keyLoader.loadClear(u,p.encryptedFragments):(this.log("Loading key for "+u.sn+" of ["+p.startSN+"-"+p.endSN+"], "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+u.level),this.state=ys,this.fragCurrent=u,D=this.keyLoader.load(u).then(function(te){if(!_.fragContextChanged(te.frag))return _.hls.trigger(v.Events.KEY_LOADED,te),_.state===ys&&(_.state=ht),te}),this.hls.trigger(v.Events.KEY_LOADING,{frag:u}),this.throwIfFragContextChanged("KEY_LOADING")),S=Math.max(u.start,S||0),this.config.lowLatencyMode&&p){var F=p.partList;if(F&&b){S>u.end&&p.fragmentHint&&(u=p.fragmentHint);var U=this.getNextPart(F,u,S);if(U>-1){var Q=F[U];return this.log("Loading part sn: "+u.sn+" p: "+Q.index+" cc: "+u.cc+" of playlist ["+p.startSN+"-"+p.endSN+"] parts [0-"+U+"-"+(F.length-1)+"] "+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+u.level+", target: "+parseFloat(S.toFixed(3))),this.nextLoadPosition=Q.start+Q.duration,this.state=zi,this.hls.trigger(v.Events.FRAG_LOADING,{frag:u,part:F[U],targetBufferTime:S}),this.throwIfFragContextChanged("FRAG_LOADING parts"),D?D.then(function(te){return!te||_.fragContextChanged(te.frag)?null:_.doFragPartsLoad(u,F,U,b)}).catch(function(te){return _.handleFragLoadError(te)}):this.doFragPartsLoad(u,F,U,b).catch(function(te){return _.handleFragLoadError(te)})}if(!u.url||this.loadedEndOfParts(F,S))return Promise.resolve(null)}}this.log("Loading fragment "+u.sn+" cc: "+u.cc+" "+(p?"of ["+p.startSN+"-"+p.endSN+"] ":"")+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+u.level+", target: "+parseFloat(S.toFixed(3))),(0,w.isFiniteNumber)(u.sn)&&!this.bitrateTest&&(this.nextLoadPosition=u.start+u.duration),this.state=zi,this.hls.trigger(v.Events.FRAG_LOADING,{frag:u,targetBufferTime:S}),this.throwIfFragContextChanged("FRAG_LOADING");var q=this.config.progressive;return q&&D?D.then(function(te){return!te||_.fragContextChanged(te==null?void 0:te.frag)?null:_.fragmentLoader.load(u,b)}).catch(function(te){return _.handleFragLoadError(te)}):Promise.all([this.fragmentLoader.load(u,q?b:void 0),D]).then(function(te){var fe=te[0];return!q&&fe&&b&&b(fe),fe}).catch(function(te){return _.handleFragLoadError(te)})},h.throwIfFragContextChanged=function(u){if(this.fragCurrent===null)throw new Error("frag load aborted, context changed in "+u)},h.doFragPartsLoad=function(u,p,S,b){var k=this;return new Promise(function(_,D){var F=[];(function U(Q){var q=p[Q];k.fragmentLoader.loadPart(u,q,b).then(function(te){F[q.index]=te;var fe=te.part;k.hls.trigger(v.Events.FRAG_LOADED,te);var ge=p[Q+1];if(!ge||ge.fragment!==u)return _({frag:u,part:fe,partsLoaded:F});U(Q+1)}).catch(D)})(S)})},h.handleFragLoadError=function(u){if("data"in u){var p=u.data;u.data&&p.details===x.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(p.frag,p.part):this.hls.trigger(v.Events.ERROR,p)}else this.hls.trigger(v.Events.ERROR,{type:x.ErrorTypes.OTHER_ERROR,details:x.ErrorDetails.INTERNAL_EXCEPTION,err:u,fatal:!0});return null},h._handleTransmuxerFlush=function(u){var p=this.getCurrentContext(u);if(p&&this.state===xn){var S=p.frag,b=p.part,k=p.level,_=self.performance.now();S.stats.parsing.end=_,b&&(b.stats.parsing.end=_),this.updateLevelTiming(S,b,k,u.partial)}else this.fragCurrent||this.state===cn||this.state===Nn||(this.state=ht)},h.getCurrentContext=function(u){var p=this.levels,S=u.level,b=u.sn,k=u.part;if(!p||!p[S])return this.warn("Levels object was unset while buffering fragment "+b+" of level "+S+". The current chunk will not be buffered."),null;var _=p[S],D=k>-1?function(U,Q,q){if(!U||!U.details)return null;var te=U.details.partList;if(te)for(var fe=te.length;fe--;){var ge=te[fe];if(ge.index===q&&ge.fragment.sn===Q)return ge}return null}(_,b,k):null,F=D?D.fragment:function(U,Q,q){if(!U||!U.details)return null;var te=U.details,fe=te.fragments[Q-te.startSN];return fe||((fe=te.fragmentHint)&&fe.sn===Q?fe:Q<te.startSN&&q&&q.sn===Q?q:null)}(_,b,this.fragCurrent);return F?{frag:F,part:D,level:_}:null},h.bufferFragmentData=function(u,p,S,b){if(u&&this.state===xn){var k=u.data1,_=u.data2,D=k;if(k&&_&&(D=(0,Se.appendUint8Array)(k,_)),D&&D.length){var F={type:u.type,frag:p,part:S,chunkMeta:b,parent:p.type,data:D};this.hls.trigger(v.Events.BUFFER_APPENDING,F),u.dropped&&u.independent&&!S&&this.flushBufferGap(p)}}},h.flushBufferGap=function(u){var p=this.media;if(p)if(zt.isBuffered(p,p.currentTime)){var S=p.currentTime,b=zt.bufferInfo(p,S,0),k=u.duration,_=Math.min(2*this.config.maxFragLookUpTolerance,.25*k),D=Math.max(Math.min(u.start-_,b.end-_),S+_);u.start-D>_&&this.flushMainBuffer(D,u.start)}else this.flushMainBuffer(0,u.start)},h.getFwdBufferInfo=function(u,p){var S=this.config,b=this.getLoadPosition();if(!(0,w.isFiniteNumber)(b))return null;var k=zt.bufferInfo(u,b,S.maxBufferHole);if(k.len===0&&k.nextStart!==void 0){var _=this.fragmentTracker.getBufferedFrag(b,p);if(_&&k.nextStart<_.end)return zt.bufferInfo(u,b,Math.max(k.nextStart,S.maxBufferHole))}return k},h.getMaxBufferLength=function(u){var p,S=this.config;return p=u?Math.max(8*S.maxBufferSize/u,S.maxBufferLength):S.maxBufferLength,Math.min(p,S.maxMaxBufferLength)},h.reduceMaxBufferLength=function(u){var p=this.config,S=u||p.maxBufferLength;return p.maxMaxBufferLength>=S&&(p.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+p.maxMaxBufferLength+"s"),!0)},h.getNextFragment=function(u,p){var S=p.fragments,b=S.length;if(!b)return null;var k,_=this.config,D=S[0].start;if(p.live){var F=_.initialLiveManifestSize;if(b<F)return this.warn("Not enough fragments to start playback (have: "+b+", need: "+F+")"),null;p.PTSKnown||this.startFragRequested||this.startPosition!==-1||(k=this.getInitialLiveFragment(p,S),this.startPosition=k?this.hls.liveSyncPosition||k.start:u)}else u<=D&&(k=S[0]);if(!k){var U=_.lowLatencyMode?p.partEnd:p.fragmentEnd;k=this.getFragmentAtPosition(u,U,p)}return this.mapToInitFragWhenRequired(k)},h.mapToInitFragWhenRequired=function(u){return u==null||!u.initSegment||u!=null&&u.initSegment.data||this.bitrateTest?u:u.initSegment},h.getNextPart=function(u,p,S){for(var b=-1,k=!1,_=!0,D=0,F=u.length;D<F;D++){var U=u[D];if(_=_&&!U.independent,b>-1&&S<U.start)break;var Q=U.loaded;Q?b=-1:(k||U.independent||_)&&U.fragment===p&&(b=D),k=Q}return b},h.loadedEndOfParts=function(u,p){var S=u[u.length-1];return S&&p>S.start&&S.loaded},h.getInitialLiveFragment=function(u,p){var S=this.fragPrevious,b=null;if(S){if(u.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+S.programDateTime),b=function(F,U,Q){if(U===null||!Array.isArray(F)||!F.length||!(0,w.isFiniteNumber)(U)||U<(F[0].programDateTime||0)||U>=(F[F.length-1].endProgramDateTime||0))return null;Q=Q||0;for(var q=0;q<F.length;++q){var te=F[q];if(Oo(U,Q,te))return te}return null}(p,S.endProgramDateTime,this.config.maxFragLookUpTolerance)),!b){var k=S.sn+1;if(k>=u.startSN&&k<=u.endSN){var _=p[k-u.startSN];S.cc===_.cc&&(b=_,this.log("Live playlist, switching playlist, load frag with next SN: "+b.sn))}b||(b=function(F,U){return gs(F,function(Q){return Q.cc<U?1:Q.cc>U?-1:0})}(p,S.cc),b&&this.log("Live playlist, switching playlist, load frag with same CC: "+b.sn))}}else{var D=this.hls.liveSyncPosition;D!==null&&(b=this.getFragmentAtPosition(D,this.bitrateTest?u.fragmentEnd:u.edge,u))}return b},h.getFragmentAtPosition=function(u,p,S){var b,k=this.config,_=this.fragPrevious,D=S.fragments,F=S.endSN,U=S.fragmentHint,Q=k.maxFragLookUpTolerance,q=!!(k.lowLatencyMode&&S.partList&&U);if(q&&U&&!this.bitrateTest&&(D=D.concat(U),F=U.sn),b=u<p?Io(_,D,u,u>p-Q?0:Q):D[D.length-1]){var te=b.sn-S.startSN;if(this.fragmentTracker.getState(b)===Ue.OK&&(_=b),_&&b.sn===_.sn&&!q&&_&&b.level===_.level){var fe=D[te+1];b.sn<F&&this.fragmentTracker.getState(fe)!==Ue.OK?(this.log("SN "+b.sn+" just loaded, load next one: "+fe.sn),b=fe):b=null}}return b},h.synchronizeToLiveEdge=function(u){var p=this.config,S=this.media;if(S){var b=this.hls.liveSyncPosition,k=S.currentTime,_=u.fragments[0].start,D=u.edge,F=k>=_-p.maxFragLookUpTolerance&&k<=D;if(b!==null&&S.duration>b&&(k<b||!F)){var U=p.liveMaxLatencyDuration!==void 0?p.liveMaxLatencyDuration:p.liveMaxLatencyDurationCount*u.targetduration;(!F&&S.readyState<4||k<D-U)&&(this.loadedmetadata||(this.nextLoadPosition=b),S.readyState&&(this.warn("Playback: "+k.toFixed(3)+" is located too far from the end of live sliding playlist: "+D+", reset currentTime to : "+b.toFixed(3)),S.currentTime=b))}}},h.alignPlaylists=function(u,p){var S=this.levels,b=this.levelLastLoaded,k=this.fragPrevious,_=b!==null?S[b]:null,D=u.fragments.length;if(!D)return this.warn("No fragments in live playlist"),0;var F=u.fragments[0].start,U=!p,Q=u.alignedSliding&&(0,w.isFiniteNumber)(F);if(U||!Q&&!F){(function(te,fe,ge){fe&&(function(pe,Te,ze){if(function(Ae,$e,Ne){return!(!$e.details||!(Ne.endCC>Ne.startCC||Ae&&Ae.cc<Ne.startCC))}(pe,ze,Te)){var Ve=function(Ae,$e,Ne){var ct=Ae.fragments,Pt=$e.fragments;if(Pt.length&&ct.length){var lt=Xu(ct,Pt[0].cc);if(lt&&(!lt||lt.startPTS))return lt;C.logger.log("No frag in previous level to align on")}else C.logger.log("No fragments to align")}(ze.details,Te);Ve&&(0,w.isFiniteNumber)(Ve.start)&&(C.logger.log("Adjusting PTS using last level due to CC increase within current level "+Te.url),Do(Ve.start,Te))}}(te,ge,fe),!ge.alignedSliding&&fe.details&&function(pe,Te){if(Te.fragments.length&&pe.hasProgramDateTime&&Te.hasProgramDateTime){var ze=Te.fragments[0].programDateTime,Ve=pe.fragments[0].programDateTime,Ae=(Ve-ze)/1e3+Te.fragments[0].start;Ae&&(0,w.isFiniteNumber)(Ae)&&(C.logger.log("Adjusting PTS using programDateTime delta "+(Ve-ze)+"ms, sliding:"+Ae.toFixed(3)+" "+pe.url+" "),Do(Ae,pe))}}(ge,fe.details),ge.alignedSliding||!fe.details||ge.skippedSegments||ne(fe.details,ge))})(k,_,u);var q=u.fragments[0].start;return this.log("Live playlist sliding: "+q.toFixed(2)+" start-sn: "+(p?p.startSN:"na")+"->"+u.startSN+" prev-sn: "+(k?k.sn:"na")+" fragments: "+D),q}return F},h.waitForCdnTuneIn=function(u){return u.live&&u.canBlockReload&&u.partTarget&&u.tuneInGoal>Math.max(u.partHoldBack,3*u.partTarget)},h.setStartPosition=function(u,p){var S=this.startPosition;if(S<p&&(S=-1),S===-1||this.lastCurrentTime===-1){var b=u.startTimeOffset;(0,w.isFiniteNumber)(b)?(S=p+b,b<0&&(S+=u.totalduration),S=Math.min(Math.max(p,S),p+u.totalduration),this.log("Start time offset "+b+" found in playlist, adjust startPosition to "+S),this.startPosition=S):u.live?S=this.hls.liveSyncPosition||p:this.startPosition=S=0,this.lastCurrentTime=S}this.nextLoadPosition=S},h.getLoadPosition=function(){var u=this.media,p=0;return this.loadedmetadata&&u?p=u.currentTime:this.nextLoadPosition&&(p=this.nextLoadPosition),p},h.handleFragLoadAborted=function(u,p){this.transmuxer&&u.sn!=="initSegment"&&u.stats.aborted&&(this.warn("Fragment "+u.sn+(p?" part"+p.index:"")+" of level "+u.level+" was aborted"),this.resetFragmentLoading(u))},h.resetFragmentLoading=function(u){this.fragCurrent&&(this.fragContextChanged(u)||this.state===Vi)||(this.state=ht)},h.onFragmentOrKeyLoadError=function(u,p){if(p.fatal)return this.stopLoad(),void(this.state=Nn);var S=this.config;if(p.chunkMeta){var b=this.getCurrentContext(p.chunkMeta);b&&(p.frag=b.frag,p.levelRetry=!0,this.fragLoadError=S.fragLoadingMaxRetry)}var k=p.frag;if(k&&k.type===u)if(this.fragCurrent,this.fragLoadError+1<=S.fragLoadingMaxRetry){this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition);var _=Math.min(Math.pow(2,this.fragLoadError)*S.fragLoadingRetryDelay,S.fragLoadingMaxRetryTimeout);this.warn("Fragment "+k.sn+" of "+u+" "+k.level+" failed to load, retrying in "+_+"ms"),this.retryDate=self.performance.now()+_,this.fragLoadError++,this.state=Vi}else p.levelRetry?(u===oe.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=ht):(C.logger.error(p.details+" reaches max retry, redispatch as fatal ..."),p.fatal=!0,this.hls.stopLoad(),this.state=Nn)},h.afterBufferFlushed=function(u,p,S){if(u){var b=zt.getBuffered(u);this.fragmentTracker.detectEvictedFragments(p,b,S),this.state===Oa&&this.resetLoadingState()}},h.resetLoadingState=function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=ht},h.resetStartWhenNotLoaded=function(u){if(!this.loadedmetadata){this.startFragRequested=!1;var p=this.levels?this.levels[u].details:null;p!=null&&p.live?(this.startPosition=-1,this.setStartPosition(p,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}},h.updateLevelTiming=function(u,p,S,b){var k=this,_=S.details;Object.keys(u.elementaryStreams).reduce(function(D,F){var U=u.elementaryStreams[F];if(U){var Q=U.endPTS-U.startPTS;if(Q<=0)return k.warn("Could not parse fragment "+u.sn+" "+F+" duration reliably ("+Q+")"),D||!1;var q=b?0:J(_,u,U.startPTS,U.endPTS,U.startDTS,U.endDTS);return k.hls.trigger(v.Events.LEVEL_PTS_UPDATED,{details:_,level:S,drift:q,type:F,frag:u,start:U.startPTS,end:U.endPTS}),!0}return D},!1)||(this.warn("Found no media in fragment "+u.sn+" of level "+S.id+" resetting transmuxer to fallback to playlist timing"),this.resetTransmuxer()),this.state=Ia,this.hls.trigger(v.Events.FRAG_PARSED,{frag:u,part:p})},h.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},c=o,(d=[{key:"state",get:function(){return this._state},set:function(u){var p=this._state;p!==u&&(this._state=u,this.log(p+"->"+u))}}])&&ec(c.prototype,d),Object.defineProperty(c,"prototype",{writable:!1}),o}(gi);function Gi(){return self.MediaSource||self.WebKitMediaSource}function bs(){return self.SourceBuffer||self.WebKitSourceBuffer}var No=function(){var T=ENTRY_MODULE,y={},s=function c(d){var h=y[d];if(h!==void 0)return h.exports;var u=y[d]={exports:{}};return T[d].call(u.exports,u,u.exports,c),u.exports};s.m=T,s.n=function(c){var d=c&&c.__esModule?function(){return c.default}:function(){return c};return s.d(d,{a:d}),d},s.d=function(c,d){for(var h in d)s.o(d,h)&&!s.o(c,h)&&Object.defineProperty(c,h,{enumerable:!0,get:d[h]})},s.o=function(c,d){return Object.prototype.hasOwnProperty.call(c,d)},s.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})};var o=s(ENTRY_MODULE);return o.default||o}.toString().split("ENTRY_MODULE"),tc="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function Bo(T){return(T+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function dh(T,y,s){var o={};o[s]=[];var c=y.toString().replace(/^"[^"]+"/,"function"),d=c.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/)||c.match(/^\(\w+,\s*\w+,\s*(\w+)\)\s?\=\s?\>/);if(!d)return o;for(var h,u=d[1],p=new RegExp("(\\\\n|\\W)"+Bo(u)+tc,"g");h=p.exec(c);)h[3]!=="dll-reference"&&o[s].push(h[3]);for(p=new RegExp("\\("+Bo(u)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)'+tc,"g");h=p.exec(c);)T[h[2]]||(o[s].push(h[1]),T[h[2]]=m(h[1]).m),o[h[2]]=o[h[2]]||[],o[h[2]].push(h[4]);for(var S,b=Object.keys(o),k=0;k<b.length;k++)for(var _=0;_<o[b[k]].length;_++)S=o[b[k]][_],isNaN(1*S)||(o[b[k]][_]=1*o[b[k]][_]);return o}function fh(T){return Object.keys(T).reduce(function(y,s){return y||T[s].length>0},!1)}function rc(T,y,s,o){var c=T[o].map(function(d){return'"'+d+'": '+y[o][d].toString().replace(/^"[^"]+"/,"function")}).join(",");return No[0]+"{"+c+"}"+No[1]+'"'+s+'"'+No[2]}var Xn=m(544),Uo=m(729),hh=m.n(Uo),$o=Gi()||{isTypeSupported:function(){return!1}},Es=function(){function T(s,o,c,d){var h=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var u=s.config;this.hls=s,this.id=o,this.useWorker=!!u.enableWorker,this.onTransmuxComplete=c,this.onFlush=d;var p=function(_,D){(D=D||{}).frag=h.frag,D.id=h.id,h.hls.trigger(_,D)};this.observer=new Uo.EventEmitter,this.observer.on(v.Events.FRAG_DECRYPTED,p),this.observer.on(v.Events.ERROR,p);var S={mp4:$o.isTypeSupported("video/mp4"),mpeg:$o.isTypeSupported("audio/mpeg"),mp3:$o.isTypeSupported('audio/mp4; codecs="mp3"')},b=navigator.vendor;if(this.useWorker&&typeof Worker<"u"){var k;C.logger.log("demuxing in webworker");try{k=this.worker=function(_,D){D=D||{};var F={main:m.m},U=D.all?{main:Object.keys(F.main)}:function(ge,pe){for(var Te={main:[pe]},ze={main:[]},Ve={main:{}};fh(Te);)for(var Ae=Object.keys(Te),$e=0;$e<Ae.length;$e++){var Ne=Ae[$e],ct=Te[Ne].pop();if(Ve[Ne]=Ve[Ne]||{},!Ve[Ne][ct]&&ge[Ne][ct]){Ve[Ne][ct]=!0,ze[Ne]=ze[Ne]||[],ze[Ne].push(ct);for(var Pt=dh(ge,ge[Ne][ct],Ne),lt=Object.keys(Pt),pt=0;pt<lt.length;pt++)Te[lt[pt]]=Te[lt[pt]]||[],Te[lt[pt]]=Te[lt[pt]].concat(Pt[lt[pt]])}}return ze}(F,_),Q="";Object.keys(U).filter(function(ge){return ge!=="main"}).forEach(function(ge){for(var pe=0;U[ge][pe];)pe++;U[ge].push(pe),F[ge][pe]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",Q=Q+"var "+ge+" = ("+rc(U,F,pe,modules)+`)();
`}),Q=Q+"new (("+rc(U,F,_,"main")+")())(self);";var q=new window.Blob([Q],{type:"text/javascript"}),te=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(q),fe=new window.Worker(te);return fe.objectURL=te,fe}(182),this.onwmsg=this.onWorkerMessage.bind(this),k.addEventListener("message",this.onwmsg),k.onerror=function(_){h.useWorker=!1,C.logger.warn("Exception in webworker, fallback to inline"),h.hls.trigger(v.Events.ERROR,{type:x.ErrorTypes.OTHER_ERROR,details:x.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:new Error(_.message+"  ("+_.filename+":"+_.lineno+")")})},k.postMessage({cmd:"init",typeSupported:S,vendor:b,id:o,config:JSON.stringify(u)})}catch(_){C.logger.warn("Error in worker:",_),C.logger.error("Error while initializing DemuxerWorker, fallback to inline"),k&&self.URL.revokeObjectURL(k.objectURL),this.transmuxer=new Xn.default(this.observer,S,u,b,o),this.worker=null}}else this.transmuxer=new Xn.default(this.observer,S,u,b,o)}var y=T.prototype;return y.destroy=function(){var s=this.worker;if(s)s.removeEventListener("message",this.onwmsg),s.terminate(),this.worker=null,this.onwmsg=void 0;else{var o=this.transmuxer;o&&(o.destroy(),this.transmuxer=null)}var c=this.observer;c&&c.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},y.push=function(s,o,c,d,h,u,p,S,b,k){var _,D,F=this;b.transmuxing.start=self.performance.now();var U=this.transmuxer,Q=this.worker,q=u?u.start:h.start,te=h.decryptdata,fe=this.frag,ge=!(fe&&h.cc===fe.cc),pe=!(fe&&b.level===fe.level),Te=fe?b.sn-fe.sn:-1,ze=this.part?b.part-this.part.index:-1,Ve=Te===0&&b.id>1&&b.id===(fe==null?void 0:fe.stats.chunkCount),Ae=!pe&&(Te===1||Te===0&&(ze===1||Ve&&ze<=0)),$e=self.performance.now();(pe||Te||h.stats.parsing.start===0)&&(h.stats.parsing.start=$e),!u||!ze&&Ae||(u.stats.parsing.start=$e);var Ne=!(fe&&((_=h.initSegment)===null||_===void 0?void 0:_.url)===((D=fe.initSegment)===null||D===void 0?void 0:D.url)),ct=new Xn.TransmuxState(ge,Ae,S,pe,q,Ne);if(!Ae||ge||Ne){C.logger.log("[transmuxer-interface, "+h.type+"]: Starting new transmux session for sn: "+b.sn+" p: "+b.part+" level: "+b.level+" id: "+b.id+`
        discontinuity: `+ge+`
        trackSwitch: `+pe+`
        contiguous: `+Ae+`
        accurateTimeOffset: `+S+`
        timeOffset: `+q+`
        initSegmentChange: `+Ne);var Pt=new Xn.TransmuxConfig(c,d,o,p,k);this.configureTransmuxer(Pt)}if(this.frag=h,this.part=u,Q)Q.postMessage({cmd:"demux",data:s,decryptdata:te,chunkMeta:b,state:ct},s instanceof ArrayBuffer?[s]:[]);else if(U){var lt=U.push(s,te,b,ct);(0,Xn.isPromise)(lt)?(U.async=!0,lt.then(function(pt){F.handleTransmuxComplete(pt)}).catch(function(pt){F.transmuxerError(pt,b,"transmuxer-interface push error")})):(U.async=!1,this.handleTransmuxComplete(lt))}},y.flush=function(s){var o=this;s.transmuxing.start=self.performance.now();var c=this.transmuxer,d=this.worker;if(d)d.postMessage({cmd:"flush",chunkMeta:s});else if(c){var h=c.flush(s);(0,Xn.isPromise)(h)||c.async?((0,Xn.isPromise)(h)||(h=Promise.resolve(h)),h.then(function(u){o.handleFlushResult(u,s)}).catch(function(u){o.transmuxerError(u,s,"transmuxer-interface flush error")})):this.handleFlushResult(h,s)}},y.transmuxerError=function(s,o,c){this.hls&&this.hls.trigger(v.Events.ERROR,{type:x.ErrorTypes.MEDIA_ERROR,details:x.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:o,fatal:!1,error:s,err:s,reason:c})},y.handleFlushResult=function(s,o){var c=this;s.forEach(function(d){c.handleTransmuxComplete(d)}),this.onFlush(o)},y.onWorkerMessage=function(s){var o=s.data,c=this.hls;switch(o.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(o.data);break;case"flush":this.onFlush(o.data);break;case"workerLog":C.logger[o.data.logType]&&C.logger[o.data.logType](o.data.message);break;default:o.data=o.data||{},o.data.frag=this.frag,o.data.id=this.id,c.trigger(o.event,o.data)}},y.configureTransmuxer=function(s){var o=this.worker,c=this.transmuxer;o?o.postMessage({cmd:"configure",config:s}):c&&c.configure(s)},y.handleTransmuxComplete=function(s){s.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(s)},T}(),ph=function(){function T(s,o,c,d){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=s,this.media=o,this.fragmentTracker=c,this.hls=d}var y=T.prototype;return y.destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},y.poll=function(s,o){var c=this.config,d=this.media,h=this.stalled;if(d!==null){var u=d.currentTime,p=d.seeking,S=this.seeking&&!p,b=!this.seeking&&p;if(this.seeking=p,u===s){if((b||S)&&(this.stalled=null),!(d.paused&&!p||d.ended||d.playbackRate===0)&&zt.getBuffered(d).length){var k=zt.bufferInfo(d,u,0),_=k.len>0,D=k.nextStart||0;if(_||D){if(p){var F=k.len>2,U=!D||o&&o.start<=u||D-u>2&&!this.fragmentTracker.getPartialFragment(u);if(F||U)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var Q,q=Math.max(D,k.start||0)-u,te=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,fe=!(te==null||(Q=te.details)===null||Q===void 0)&&Q.live?2*te.details.targetduration:2;if(q>0&&q<=fe)return void this._trySkipBufferHole(null)}var ge=self.performance.now();if(h!==null){var pe=ge-h;if(p||!(pe>=250)||(this._reportStall(k),this.media)){var Te=zt.bufferInfo(d,u,c.maxBufferHole);this._tryFixBufferStall(Te,pe)}}else this.stalled=ge}}}else if(this.moved=!0,h!==null){if(this.stallReported){var ze=self.performance.now()-h;C.logger.warn("playback not stuck anymore @"+u+", after "+Math.round(ze)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}}},y._tryFixBufferStall=function(s,o){var c=this.config,d=this.fragmentTracker,h=this.media;if(h!==null){var u=h.currentTime,p=d.getPartialFragment(u);if(p&&(this._trySkipBufferHole(p)||!this.media))return;s.len>c.maxBufferHole&&o>1e3*c.highBufferWatchdogPeriod&&(C.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}},y._reportStall=function(s){var o=this.hls,c=this.media;!this.stallReported&&c&&(this.stallReported=!0,C.logger.warn("Playback stalling at @"+c.currentTime+" due to low buffer ("+JSON.stringify(s)+")"),o.trigger(v.Events.ERROR,{type:x.ErrorTypes.MEDIA_ERROR,details:x.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:s.len}))},y._trySkipBufferHole=function(s){var o=this.config,c=this.hls,d=this.media;if(d===null)return 0;for(var h=d.currentTime,u=0,p=zt.getBuffered(d),S=0;S<p.length;S++){var b=p.start(S);if(h+o.maxBufferHole>=u&&h<b){var k=Math.max(b+.05,d.currentTime+.1);return C.logger.warn("skipping hole, adjusting currentTime from "+h+" to "+k),this.moved=!0,this.stalled=null,d.currentTime=k,s&&c.trigger(v.Events.ERROR,{type:x.ErrorTypes.MEDIA_ERROR,details:x.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+h+" to "+k,frag:s}),k}u=p.end(S)}return 0},y._tryNudgeBuffer=function(){var s=this.config,o=this.hls,c=this.media,d=this.nudgeRetry;if(c!==null){var h=c.currentTime;if(this.nudgeRetry++,d<s.nudgeMaxRetry){var u=h+(d+1)*s.nudgeOffset;C.logger.warn("Nudging 'currentTime' from "+h+" to "+u),c.currentTime=u,o.trigger(v.Events.ERROR,{type:x.ErrorTypes.MEDIA_ERROR,details:x.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else C.logger.error("Playhead still not moving while enough data buffered @"+h+" after "+s.nudgeMaxRetry+" nudges"),o.trigger(v.Events.ERROR,{type:x.ErrorTypes.MEDIA_ERROR,details:x.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})}},T}();function mh(T,y){for(var s=0;s<y.length;s++){var o=y[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(T,typeof(c=function(d,h){if(typeof d!="object"||d===null)return d;var u=d[Symbol.toPrimitive];if(u!==void 0){var p=u.call(d,h);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(o.key,"string"))=="symbol"?c:String(c),o)}var c}function jo(T,y){return jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},jo(T,y)}var Ts=function(T){var y,s;function o(u,p,S){var b;return(b=T.call(this,u,p,S,"[stream-controller]")||this).audioCodecSwap=!1,b.gapController=null,b.level=-1,b._forceStartLoad=!1,b.altAudio=!1,b.audioOnly=!1,b.fragPlaying=null,b.onvplaying=null,b.onvseeked=null,b.fragLastKbps=0,b.couldBacktrack=!1,b.backtrackFragment=null,b.audioCodecSwitch=!1,b.videoBuffer=null,b._registerListeners(),b}s=T,(y=o).prototype=Object.create(s.prototype),y.prototype.constructor=y,jo(y,s);var c,d,h=o.prototype;return h._registerListeners=function(){var u=this.hls;u.on(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),u.on(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),u.on(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),u.on(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),u.on(v.Events.LEVEL_LOADING,this.onLevelLoading,this),u.on(v.Events.LEVEL_LOADED,this.onLevelLoaded,this),u.on(v.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),u.on(v.Events.ERROR,this.onError,this),u.on(v.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),u.on(v.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),u.on(v.Events.BUFFER_CREATED,this.onBufferCreated,this),u.on(v.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),u.on(v.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),u.on(v.Events.FRAG_BUFFERED,this.onFragBuffered,this)},h._unregisterListeners=function(){var u=this.hls;u.off(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),u.off(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),u.off(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),u.off(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),u.off(v.Events.LEVEL_LOADED,this.onLevelLoaded,this),u.off(v.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),u.off(v.Events.ERROR,this.onError,this),u.off(v.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),u.off(v.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),u.off(v.Events.BUFFER_CREATED,this.onBufferCreated,this),u.off(v.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),u.off(v.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),u.off(v.Events.FRAG_BUFFERED,this.onFragBuffered,this)},h.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},h.startLoad=function(u){if(this.levels){var p=this.lastCurrentTime,S=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var b=S.startLevel;b===-1&&(S.config.testBandwidth&&this.levels.length>1?(b=0,this.bitrateTest=!0):b=S.nextAutoLevel),this.level=S.nextLoadLevel=b,this.loadedmetadata=!1}p>0&&u===-1&&(this.log("Override startPosition with lastCurrentTime @"+p.toFixed(3)),u=p),this.state=ht,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=u,this.tick()}else this._forceStartLoad=!0,this.state=cn},h.stopLoad=function(){this._forceStartLoad=!1,T.prototype.stopLoad.call(this)},h.doTick=function(){switch(this.state){case ht:this.doTickIdle();break;case Hi:var u,p=this.levels,S=this.level,b=p==null||(u=p[S])===null||u===void 0?void 0:u.details;if(b&&(!b.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(b))break;this.state=ht;break}break;case Vi:var k,_=self.performance.now(),D=this.retryDate;(!D||_>=D||(k=this.media)!==null&&k!==void 0&&k.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.level),this.state=ht)}this.onTickEnd()},h.onTickEnd=function(){T.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},h.doTickIdle=function(){var u=this.hls,p=this.levelLastLoaded,S=this.levels,b=this.media,k=u.config,_=u.nextLoadLevel;if(p!==null&&(b||!this.startFragRequested&&k.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&S&&S[_]){var D=S[_],F=this.getMainFwdBufferInfo();if(F!==null){var U=this.getLevelDetails();if(U&&this._streamEnded(F,U)){var Q={};return this.altAudio&&(Q.type="video"),this.hls.trigger(v.Events.BUFFER_EOS,Q),void(this.state=Oa)}this.level=u.nextLoadLevel=_;var q=D.details;if(!q||this.state===Hi||q.live&&this.levelLastLoaded!==_)return this.level=_,void(this.state=Hi);if(!(F.len>=this.getMaxBufferLength(D.maxBitrate))){this.backtrackFragment&&this.backtrackFragment.start>F.end&&(this.backtrackFragment=null);var te=this.backtrackFragment?this.backtrackFragment.start:F.end,fe=this.getNextFragment(te,q);if(this.couldBacktrack&&!this.fragPrevious&&fe&&fe.sn!=="initSegment"&&this.fragmentTracker.getState(fe)!==Ue.OK){var ge,pe=((ge=this.backtrackFragment)!=null?ge:fe).sn-q.startSN,Te=q.fragments[pe-1];Te&&fe.cc===Te.cc&&(fe=Te,this.fragmentTracker.removeFragment(Te))}else this.backtrackFragment&&F.len&&(this.backtrackFragment=null);if(fe&&this.fragmentTracker.getState(fe)===Ue.OK&&this.nextLoadPosition>te){var ze=this.audioOnly&&!this.altAudio?j.ElementaryStreamTypes.AUDIO:j.ElementaryStreamTypes.VIDEO,Ve=(ze===j.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;Ve&&this.afterBufferFlushed(Ve,ze,oe.PlaylistLevelType.MAIN),fe=this.getNextFragment(this.nextLoadPosition,q)}fe&&(!fe.initSegment||fe.initSegment.data||this.bitrateTest||(fe=fe.initSegment),this.loadFragment(fe,q,te))}}}},h.loadFragment=function(u,p,S){var b,k=this.fragmentTracker.getState(u);this.fragCurrent=u,k===Ue.NOT_LOADED?u.sn==="initSegment"?this._loadInitSegment(u,p):this.bitrateTest?(this.log("Fragment "+u.sn+" of level "+u.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(u,p)):(this.startFragRequested=!0,T.prototype.loadFragment.call(this,u,p,S)):k===Ue.APPENDING?this.reduceMaxBufferLength(u.duration)&&this.fragmentTracker.removeFragment(u):((b=this.media)===null||b===void 0?void 0:b.buffered.length)===0&&this.fragmentTracker.removeAllFragments()},h.getAppendedFrag=function(u){var p=this.fragmentTracker.getAppendedFrag(u,oe.PlaylistLevelType.MAIN);return p&&"fragment"in p?p.fragment:p},h.getBufferedFrag=function(u){return this.fragmentTracker.getBufferedFrag(u,oe.PlaylistLevelType.MAIN)},h.followingBufferedFrag=function(u){return u?this.getBufferedFrag(u.end+.5):null},h.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},h.nextLevelSwitch=function(){var u=this.levels,p=this.media;if(p!=null&&p.readyState){var S,b=this.getAppendedFrag(p.currentTime);if(b&&b.start>1&&this.flushMainBuffer(0,b.start-1),!p.paused&&u){var k=u[this.hls.nextLoadLevel],_=this.fragLastKbps;S=_&&this.fragCurrent?this.fragCurrent.duration*k.maxBitrate/(1e3*_)+1:0}else S=0;var D=this.getBufferedFrag(p.currentTime+S);if(D){var F=this.followingBufferedFrag(D);if(F){this.abortCurrentFrag();var U=F.maxStartPTS?F.maxStartPTS:F.start,Q=F.duration,q=Math.max(D.end,U+Math.min(Math.max(Q-this.config.maxFragLookUpTolerance,.5*Q),.75*Q));this.flushMainBuffer(q,Number.POSITIVE_INFINITY)}}}},h.abortCurrentFrag=function(){var u=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,u&&u.abortRequests(),this.state){case ys:case zi:case Vi:case xn:case Ia:this.state=ht}this.nextLoadPosition=this.getLoadPosition()},h.flushMainBuffer=function(u,p){T.prototype.flushMainBuffer.call(this,u,p,this.altAudio?"video":null)},h.onMediaAttached=function(u,p){T.prototype.onMediaAttached.call(this,u,p);var S=p.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),S.addEventListener("playing",this.onvplaying),S.addEventListener("seeked",this.onvseeked),this.gapController=new ph(this.config,S,this.fragmentTracker,this.hls)},h.onMediaDetaching=function(){var u=this.media;u&&this.onvplaying&&this.onvseeked&&(u.removeEventListener("playing",this.onvplaying),u.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),T.prototype.onMediaDetaching.call(this)},h.onMediaPlaying=function(){this.tick()},h.onMediaSeeked=function(){var u=this.media,p=u?u.currentTime:null;(0,w.isFiniteNumber)(p)&&this.log("Media seeked to "+p.toFixed(3)),this.tick()},h.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(v.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null,this.backtrackFragment=null},h.onManifestParsed=function(u,p){var S,b,k,_=!1,D=!1;p.levels.forEach(function(F){(S=F.audioCodec)&&(S.indexOf("mp4a.40.2")!==-1&&(_=!0),S.indexOf("mp4a.40.5")!==-1&&(D=!0))}),this.audioCodecSwitch=_&&D&&typeof((k=bs())==null||(b=k.prototype)===null||b===void 0?void 0:b.changeType)!="function",this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=p.levels,this.startFragRequested=!1},h.onLevelLoading=function(u,p){var S=this.levels;if(S&&this.state===ht){var b=S[p.level];(!b.details||b.details.live&&this.levelLastLoaded!==p.level||this.waitForCdnTuneIn(b.details))&&(this.state=Hi)}},h.onLevelLoaded=function(u,p){var S,b=this.levels,k=p.level,_=p.details,D=_.totalduration;if(b){this.log("Level "+k+" loaded ["+_.startSN+","+_.endSN+"], cc ["+_.startCC+", "+_.endCC+"] duration:"+D);var F=this.fragCurrent;!F||this.state!==zi&&this.state!==Vi||F.level!==p.level&&F.loader&&(this.state=ht,this.backtrackFragment=null,F.abortRequests());var U=b[k],Q=0;if(_.live||(S=U.details)!==null&&S!==void 0&&S.live){if(_.fragments[0]||(_.deltaUpdateFailed=!0),_.deltaUpdateFailed)return;Q=this.alignPlaylists(_,U.details)}if(U.details=_,this.levelLastLoaded=k,this.hls.trigger(v.Events.LEVEL_UPDATED,{details:_,level:k}),this.state===Hi){if(this.waitForCdnTuneIn(_))return;this.state=ht}this.startFragRequested?_.live&&this.synchronizeToLiveEdge(_):this.setStartPosition(_,Q),this.tick()}else this.warn("Levels were reset while loading level "+k)},h._handleFragmentLoadProgress=function(u){var p,S=u.frag,b=u.part,k=u.payload,_=this.levels;if(_){var D=_[S.level],F=D.details;if(F){var U=D.videoCodec,Q=F.PTSKnown||!F.live,q=(p=S.initSegment)===null||p===void 0?void 0:p.data,te=this._getAudioCodec(D),fe=this.transmuxer=this.transmuxer||new Es(this.hls,oe.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),ge=b?b.index:-1,pe=ge!==-1,Te=new Lo(S.level,S.sn,S.stats.chunkCount,k.byteLength,ge,pe),ze=this.initPTS[S.cc];fe.push(k,q,te,U,S,b,F.totalduration,Q,Te,ze)}else this.warn("Dropping fragment "+S.sn+" of level "+S.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+S.sn+" of level "+S.level+" will not be buffered")},h.onAudioTrackSwitching=function(u,p){var S=this.altAudio,b=!!p.url,k=p.id;if(!b){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var _=this.fragCurrent;_&&(this.log("Switching to main audio track, cancel main fragment load"),_.abortRequests()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var D=this.hls;S&&D.trigger(v.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),D.trigger(v.Events.AUDIO_TRACK_SWITCHED,{id:k})}},h.onAudioTrackSwitched=function(u,p){var S=p.id,b=!!this.hls.audioTracks[S].url;if(b){var k=this.videoBuffer;k&&this.mediaBuffer!==k&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=k)}this.altAudio=b,this.tick()},h.onBufferCreated=function(u,p){var S,b,k=p.tracks,_=!1;for(var D in k){var F=k[D];if(F.id==="main"){if(b=D,S=F,D==="video"){var U=k[D];U&&(this.videoBuffer=U.buffer)}}else _=!0}_&&S?(this.log("Alternate track found, use "+b+".buffered to schedule main fragment loading"),this.mediaBuffer=S.buffer):this.mediaBuffer=this.media},h.onFragBuffered=function(u,p){var S=p.frag,b=p.part;if(!S||S.type===oe.PlaylistLevelType.MAIN){if(this.fragContextChanged(S))return this.warn("Fragment "+S.sn+(b?" p: "+b.index:"")+" of level "+S.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===Ia&&(this.state=ht));var k=b?b.stats:S.stats;this.fragLastKbps=Math.round(8*k.total/(k.buffering.end-k.loading.first)),S.sn!=="initSegment"&&(this.fragPrevious=S),this.fragBufferedComplete(S,b)}},h.onError=function(u,p){if(p.type!==x.ErrorTypes.KEY_SYSTEM_ERROR)switch(p.details){case x.ErrorDetails.FRAG_LOAD_ERROR:case x.ErrorDetails.FRAG_LOAD_TIMEOUT:case x.ErrorDetails.FRAG_PARSING_ERROR:case x.ErrorDetails.KEY_LOAD_ERROR:case x.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(oe.PlaylistLevelType.MAIN,p);break;case x.ErrorDetails.LEVEL_LOAD_ERROR:case x.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==Nn&&(p.fatal?(this.warn(""+p.details),this.state=Nn):p.levelRetry||this.state!==Hi||(this.state=ht));break;case x.ErrorDetails.BUFFER_FULL_ERROR:if(p.parent==="main"&&(this.state===xn||this.state===Ia)){var S=!0,b=this.getFwdBufferInfo(this.media,oe.PlaylistLevelType.MAIN);b&&b.len>.5&&(S=!this.reduceMaxBufferLength(b.len)),S&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}else this.onFragmentOrKeyLoadError(oe.PlaylistLevelType.MAIN,p)},h.checkBuffer=function(){var u=this.media,p=this.gapController;if(u&&p&&u.readyState){if(this.loadedmetadata||!zt.getBuffered(u).length){var S=this.state!==ht?this.fragCurrent:null;p.poll(this.lastCurrentTime,S)}this.lastCurrentTime=u.currentTime}},h.onFragLoadEmergencyAborted=function(){this.state=ht,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},h.onBufferFlushed=function(u,p){var S=p.type;if(S!==j.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var b=(S===j.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(b,S,oe.PlaylistLevelType.MAIN)}},h.onLevelsUpdated=function(u,p){this.levels=p.levels},h.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},h.seekToStartPos=function(){var u=this.media;if(u){var p=u.currentTime,S=this.startPosition;if(S>=0&&p<S){if(u.seeking)return void this.log("could not seek to "+S+", already seeking at "+p);var b=zt.getBuffered(u),k=(b.length?b.start(0):0)-S;k>0&&(k<this.config.maxBufferHole||k<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+k+" to match buffer start"),S+=k,this.startPosition=S),this.log("seek to target start position "+S+" from current time "+p),u.currentTime=S}}},h._getAudioCodec=function(u){var p=this.config.defaultAudioCodec||u.audioCodec;return this.audioCodecSwap&&p&&(this.log("Swapping audio codec"),p=p.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),p},h._loadBitrateTestFrag=function(u,p){var S=this;u.bitrateTest=!0,this._doFragLoad(u,p).then(function(b){var k=S.hls;if(b&&!S.fragContextChanged(u)){S.fragLoadError=0,S.state=ht,S.startFragRequested=!1,S.bitrateTest=!1;var _=u.stats;_.parsing.start=_.parsing.end=_.buffering.start=_.buffering.end=self.performance.now(),k.trigger(v.Events.FRAG_LOADED,b),u.bitrateTest=!1}})},h._handleTransmuxComplete=function(u){var p,S="main",b=this.hls,k=u.remuxResult,_=u.chunkMeta,D=this.getCurrentContext(_);if(!D)return this.warn("The loading context changed while buffering fragment "+_.sn+" of level "+_.level+". This chunk will not be buffered."),void this.resetStartWhenNotLoaded(_.level);var F=D.frag,U=D.part,Q=D.level,q=k.video,te=k.text,fe=k.id3,ge=k.initSegment,pe=Q.details,Te=this.altAudio?void 0:k.audio;if(!this.fragContextChanged(F)){if(this.state=xn,ge){ge.tracks&&(this._bufferInitSegment(Q,ge.tracks,F,_),b.trigger(v.Events.FRAG_PARSING_INIT_SEGMENT,{frag:F,id:S,tracks:ge.tracks}));var ze=ge.initPTS,Ve=ge.timescale;(0,w.isFiniteNumber)(ze)&&(this.initPTS[F.cc]=ze,b.trigger(v.Events.INIT_PTS_FOUND,{frag:F,id:S,initPTS:ze,timescale:Ve}))}if(q&&k.independent!==!1){if(pe){var Ae=q.startPTS,$e=q.endPTS,Ne=q.startDTS,ct=q.endDTS;if(U)U.elementaryStreams[q.type]={startPTS:Ae,endPTS:$e,startDTS:Ne,endDTS:ct};else if(q.firstKeyFrame&&q.independent&&_.id===1&&(this.couldBacktrack=!0),q.dropped&&q.independent){var Pt=this.getMainFwdBufferInfo();if((Pt?Pt.end:this.getLoadPosition())+this.config.maxBufferHole<(q.firstKeyFramePTS?q.firstKeyFramePTS:Ae)-this.config.maxBufferHole)return void this.backtrack(F);F.setElementaryStreamInfo(q.type,F.start,$e,F.start,ct,!0)}F.setElementaryStreamInfo(q.type,Ae,$e,Ne,ct),this.backtrackFragment&&(this.backtrackFragment=F),this.bufferFragmentData(q,F,U,_)}}else if(k.independent===!1)return void this.backtrack(F);if(Te){var lt=Te.startPTS,pt=Te.endPTS,bt=Te.startDTS,Rr=Te.endDTS;U&&(U.elementaryStreams[j.ElementaryStreamTypes.AUDIO]={startPTS:lt,endPTS:pt,startDTS:bt,endDTS:Rr}),F.setElementaryStreamInfo(j.ElementaryStreamTypes.AUDIO,lt,pt,bt,Rr),this.bufferFragmentData(Te,F,U,_)}if(pe&&fe!=null&&(p=fe.samples)!==null&&p!==void 0&&p.length){var cr={id:S,frag:F,details:pe,samples:fe.samples};b.trigger(v.Events.FRAG_PARSING_METADATA,cr)}if(pe&&te){var Qt={id:S,frag:F,details:pe,samples:te.samples};b.trigger(v.Events.FRAG_PARSING_USERDATA,Qt)}}},h._bufferInitSegment=function(u,p,S,b){var k=this;if(this.state===xn){this.audioOnly=!!p.audio&&!p.video,this.altAudio&&!this.audioOnly&&delete p.audio;var _=p.audio,D=p.video,F=p.audiovideo;if(_){var U=u.audioCodec,Q=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(U&&(U=U.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),_.metadata.channelCount!==1&&Q.indexOf("firefox")===-1&&(U="mp4a.40.5")),Q.indexOf("android")!==-1&&_.container!=="audio/mpeg"&&(U="mp4a.40.2",this.log("Android: force audio codec to "+U)),u.audioCodec&&u.audioCodec!==U&&this.log('Swapping manifest audio codec "'+u.audioCodec+'" for "'+U+'"'),_.levelCodec=U,_.id="main",this.log("Init audio buffer, container:"+_.container+", codecs[selected/level/parsed]=["+(U||"")+"/"+(u.audioCodec||"")+"/"+_.codec+"]")}D&&(D.levelCodec=u.videoCodec,D.id="main",this.log("Init video buffer, container:"+D.container+", codecs[level/parsed]=["+(u.videoCodec||"")+"/"+D.codec+"]")),F&&this.log("Init audiovideo buffer, container:"+F.container+", codecs[level/parsed]=["+(u.attrs.CODECS||"")+"/"+F.codec+"]"),this.hls.trigger(v.Events.BUFFER_CODECS,p),Object.keys(p).forEach(function(q){var te=p[q].initSegment;te!=null&&te.byteLength&&k.hls.trigger(v.Events.BUFFER_APPENDING,{type:q,data:te,frag:S,part:null,chunkMeta:b,parent:S.type})}),this.tick()}},h.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,oe.PlaylistLevelType.MAIN)},h.backtrack=function(u){this.couldBacktrack=!0,this.backtrackFragment=u,this.resetTransmuxer(),this.flushBufferGap(u),this.fragmentTracker.removeFragment(u),this.fragPrevious=null,this.nextLoadPosition=u.start,this.state=ht},h.checkFragmentChanged=function(){var u=this.media,p=null;if(u&&u.readyState>1&&u.seeking===!1){var S=u.currentTime;if(zt.isBuffered(u,S)?p=this.getAppendedFrag(S):zt.isBuffered(u,S+.1)&&(p=this.getAppendedFrag(S+.1)),p){this.backtrackFragment=null;var b=this.fragPlaying,k=p.level;b&&p.sn===b.sn&&b.level===k&&p.urlId===b.urlId||(this.fragPlaying=p,this.hls.trigger(v.Events.FRAG_CHANGED,{frag:p}),b&&b.level===k||this.hls.trigger(v.Events.LEVEL_SWITCHED,{level:k}))}}},c=o,(d=[{key:"nextLevel",get:function(){var u=this.nextBufferedFrag;return u?u.level:-1}},{key:"currentFrag",get:function(){var u=this.media;return u?this.fragPlaying||this.getAppendedFrag(u.currentTime):null}},{key:"currentProgramDateTime",get:function(){var u=this.media;if(u){var p=u.currentTime,S=this.currentFrag;if(S&&(0,w.isFiniteNumber)(p)&&(0,w.isFiniteNumber)(S.programDateTime)){var b=S.programDateTime+1e3*(p-S.start);return new Date(b)}}return null}},{key:"currentLevel",get:function(){var u=this.currentFrag;return u?u.level:-1}},{key:"nextBufferedFrag",get:function(){var u=this.currentFrag;return u?this.followingBufferedFrag(u):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&mh(c.prototype,d),Object.defineProperty(c,"prototype",{writable:!1}),o}(Mo);const Ki=function(){function T(s,o,c){o===void 0&&(o=0),c===void 0&&(c=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=s,this.alpha_=s?Math.exp(Math.log(.5)/s):0,this.estimate_=o,this.totalWeight_=c}var y=T.prototype;return y.sample=function(s,o){var c=Math.pow(this.alpha_,s);this.estimate_=o*(1-c)+c*this.estimate_,this.totalWeight_+=s},y.getTotalWeight=function(){return this.totalWeight_},y.getEstimate=function(){if(this.alpha_){var s=1-Math.pow(this.alpha_,this.totalWeight_);if(s)return this.estimate_/s}return this.estimate_},T}(),zo=function(){function T(s,o,c){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=c,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Ki(s),this.fast_=new Ki(o)}var y=T.prototype;return y.update=function(s,o){var c=this.slow_,d=this.fast_;this.slow_.halfLife!==s&&(this.slow_=new Ki(s,c.getEstimate(),c.getTotalWeight())),this.fast_.halfLife!==o&&(this.fast_=new Ki(o,d.getEstimate(),d.getTotalWeight()))},y.sample=function(s,o){var c=(s=Math.max(s,this.minDelayMs_))/1e3,d=8*o/c;this.fast_.sample(c,d),this.slow_.sample(c,d)},y.canEstimate=function(){var s=this.fast_;return s&&s.getTotalWeight()>=this.minWeight_},y.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},y.destroy=function(){},T}();function Vo(T,y){for(var s=0;s<y.length;s++){var o=y[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(T,typeof(c=function(d,h){if(typeof d!="object"||d===null)return d;var u=d[Symbol.toPrimitive];if(u!==void 0){var p=u.call(d,h);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(o.key,"string"))=="symbol"?c:String(c),o)}var c}const gh=function(){function T(c){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=c;var d=c.config;this.bwEstimator=new zo(d.abrEwmaSlowVoD,d.abrEwmaFastVoD,d.abrEwmaDefaultEstimate),this.registerListeners()}var y,s,o=T.prototype;return o.registerListeners=function(){var c=this.hls;c.on(v.Events.FRAG_LOADING,this.onFragLoading,this),c.on(v.Events.FRAG_LOADED,this.onFragLoaded,this),c.on(v.Events.FRAG_BUFFERED,this.onFragBuffered,this),c.on(v.Events.LEVEL_LOADED,this.onLevelLoaded,this),c.on(v.Events.ERROR,this.onError,this)},o.unregisterListeners=function(){var c=this.hls;c.off(v.Events.FRAG_LOADING,this.onFragLoading,this),c.off(v.Events.FRAG_LOADED,this.onFragLoaded,this),c.off(v.Events.FRAG_BUFFERED,this.onFragBuffered,this),c.off(v.Events.LEVEL_LOADED,this.onLevelLoaded,this),c.off(v.Events.ERROR,this.onError,this)},o.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},o.onFragLoading=function(c,d){var h,u=d.frag;u.type===oe.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=u,this.partCurrent=(h=d.part)!=null?h:null,this.timer=self.setInterval(this.onCheck,100)))},o.onLevelLoaded=function(c,d){var h=this.hls.config;d.details.live?this.bwEstimator.update(h.abrEwmaSlowLive,h.abrEwmaFastLive):this.bwEstimator.update(h.abrEwmaSlowVoD,h.abrEwmaFastVoD)},o._abandonRulesCheck=function(){var c=this.fragCurrent,d=this.partCurrent,h=this.hls,u=h.autoLevelEnabled,p=h.media;if(c&&p){var S=d?d.stats:c.stats,b=d?d.duration:c.duration;if(S.aborted||S.loaded&&S.loaded===S.total||c.level===0)return this.clearTimer(),void(this._nextAutoLevel=-1);if(u&&!p.paused&&p.playbackRate&&p.readyState){var k=h.mainForwardBufferInfo;if(k!==null){var _=performance.now()-S.loading.start,D=Math.abs(p.playbackRate);if(!(_<=500*b/D)){var F=S.loaded&&S.loading.first,U=this.bwEstimator.getEstimate(),Q=h.levels,q=h.minAutoLevel,te=Q[c.level],fe=S.total||Math.max(S.loaded,Math.round(b*te.maxBitrate/8)),ge=F?1e3*S.loaded/_:0,pe=ge?(fe-S.loaded)/ge:8*fe/U,Te=k.len/D;if(!(pe<=Te)){var ze,Ve=Number.POSITIVE_INFINITY;for(ze=c.level-1;ze>q;ze--){var Ae=Q[ze].maxBitrate;if((Ve=ge?b*Ae/(6.4*ge):b*Ae/U)<Te)break}Ve>=pe||(C.logger.warn("Fragment "+c.sn+(d?" part "+d.index:"")+" of level "+c.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+ze+`
      Current BW estimate: `+((0,w.isFiniteNumber)(U)?(U/1024).toFixed(3):"Unknown")+` Kb/s
      Estimated load time for current fragment: `+pe.toFixed(3)+` s
      Estimated load time for the next fragment: `+Ve.toFixed(3)+` s
      Time to underbuffer: `+Te.toFixed(3)+" s"),h.nextLoadLevel=ze,F&&this.bwEstimator.sample(_,S.loaded),this.clearTimer(),(c.loader||c.keyLoader)&&(this.fragCurrent=this.partCurrent=null,c.abortRequests()),h.trigger(v.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:c,part:d,stats:S}))}}}}}},o.onFragLoaded=function(c,d){var h=d.frag,u=d.part;if(h.type===oe.PlaylistLevelType.MAIN&&(0,w.isFiniteNumber)(h.sn)){var p=u?u.stats:h.stats,S=u?u.duration:h.duration;if(this.clearTimer(),this.lastLoadedFragLevel=h.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var b=this.hls.levels[h.level],k=(b.loaded?b.loaded.bytes:0)+p.loaded,_=(b.loaded?b.loaded.duration:0)+S;b.loaded={bytes:k,duration:_},b.realBitrate=Math.round(8*k/_)}if(h.bitrateTest){var D={stats:p,frag:h,part:u,id:h.type};this.onFragBuffered(v.Events.FRAG_BUFFERED,D)}}},o.onFragBuffered=function(c,d){var h=d.frag,u=d.part,p=u?u.stats:h.stats;if(!p.aborted&&h.type===oe.PlaylistLevelType.MAIN&&h.sn!=="initSegment"){var S=p.parsing.end-p.loading.start;this.bwEstimator.sample(S,p.loaded),p.bwEstimate=this.bwEstimator.getEstimate(),h.bitrateTest?this.bitrateTestDelay=S/1e3:this.bitrateTestDelay=0}},o.onError=function(c,d){var h;if(((h=d.frag)===null||h===void 0?void 0:h.type)===oe.PlaylistLevelType.MAIN){if(d.type===x.ErrorTypes.KEY_SYSTEM_ERROR)return void this.clearTimer();switch(d.details){case x.ErrorDetails.FRAG_LOAD_ERROR:case x.ErrorDetails.FRAG_LOAD_TIMEOUT:case x.ErrorDetails.KEY_LOAD_ERROR:case x.ErrorDetails.KEY_LOAD_TIMEOUT:this.clearTimer()}}},o.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},o.getNextABRAutoLevel=function(){var c=this.fragCurrent,d=this.partCurrent,h=this.hls,u=h.maxAutoLevel,p=h.config,S=h.minAutoLevel,b=h.media,k=d?d.duration:c?c.duration:0,_=b&&b.playbackRate!==0?Math.abs(b.playbackRate):1,D=this.bwEstimator?this.bwEstimator.getEstimate():p.abrEwmaDefaultEstimate,F=h.mainForwardBufferInfo,U=(F?F.len:0)/_,Q=this.findBestLevel(D,S,u,U,p.abrBandWidthFactor,p.abrBandWidthUpFactor);if(Q>=0)return Q;C.logger.trace((U?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var q=k?Math.min(k,p.maxStarvationDelay):p.maxStarvationDelay,te=p.abrBandWidthFactor,fe=p.abrBandWidthUpFactor;if(!U){var ge=this.bitrateTestDelay;ge&&(q=(k?Math.min(k,p.maxLoadingDelay):p.maxLoadingDelay)-ge,C.logger.trace("bitrate test took "+Math.round(1e3*ge)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*q)+" ms"),te=fe=1)}return Q=this.findBestLevel(D,S,u,U+q,te,fe),Math.max(Q,0)},o.findBestLevel=function(c,d,h,u,p,S){for(var b,k=this.fragCurrent,_=this.partCurrent,D=this.lastLoadedFragLevel,F=this.hls.levels,U=F[D],Q=!(U==null||(b=U.details)===null||b===void 0||!b.live),q=U==null?void 0:U.codecSet,te=_?_.duration:k?k.duration:0,fe=h;fe>=d;fe--){var ge=F[fe];if(ge&&(!q||ge.codecSet===q)){var pe,Te=ge.details,ze=(_?Te==null?void 0:Te.partTarget:Te==null?void 0:Te.averagetargetduration)||te;pe=fe<=D?p*c:S*c;var Ve=F[fe].maxBitrate,Ae=Ve*ze/pe;if(C.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+fe+"/"+Math.round(pe)+"/"+Ve+"/"+ze+"/"+u+"/"+Ae),pe>Ve&&(Ae===0||!(0,w.isFiniteNumber)(Ae)||Q&&!this.bitrateTestDelay||Ae<u))return fe}}return-1},y=T,(s=[{key:"nextAutoLevel",get:function(){var c=this._nextAutoLevel,d=this.bwEstimator;if(c!==-1&&!d.canEstimate())return c;var h=this.getNextABRAutoLevel();return c!==-1&&this.hls.levels[h].loadError?c:(c!==-1&&(h=Math.min(c,h)),h)},set:function(c){this._nextAutoLevel=c}}])&&Vo(y.prototype,s),Object.defineProperty(y,"prototype",{writable:!1}),T}();var Ho=function(){function T(){this.chunks=[],this.dataLength=0}var y=T.prototype;return y.push=function(s){this.chunks.push(s),this.dataLength+=s.length},y.flush=function(){var s,o=this.chunks,c=this.dataLength;return o.length?(s=o.length===1?o[0]:function(d,h){for(var u=new Uint8Array(h),p=0,S=0;S<d.length;S++){var b=d[S];u.set(b,p),p+=b.length}return u}(o,c),this.reset(),s):new Uint8Array(0)},y.reset=function(){this.chunks.length=0,this.dataLength=0},T}();function Wi(){return Wi=Object.assign?Object.assign.bind():function(T){for(var y=1;y<arguments.length;y++){var s=arguments[y];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(T[o]=s[o])}return T},Wi.apply(this,arguments)}function ws(T,y){return ws=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},ws(T,y)}var vi=function(T){var y,s;function o(d,h,u){var p;return(p=T.call(this,d,h,u,"[audio-stream-controller]")||this).videoBuffer=null,p.videoTrackCC=-1,p.waitingVideoCC=-1,p.audioSwitch=!1,p.trackId=-1,p.waitingData=null,p.mainDetails=null,p.bufferFlushed=!1,p.cachedTrackLoadedData=null,p._registerListeners(),p}s=T,(y=o).prototype=Object.create(s.prototype),y.prototype.constructor=y,ws(y,s);var c=o.prototype;return c.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},c._registerListeners=function(){var d=this.hls;d.on(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),d.on(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),d.on(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),d.on(v.Events.LEVEL_LOADED,this.onLevelLoaded,this),d.on(v.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),d.on(v.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),d.on(v.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),d.on(v.Events.ERROR,this.onError,this),d.on(v.Events.BUFFER_RESET,this.onBufferReset,this),d.on(v.Events.BUFFER_CREATED,this.onBufferCreated,this),d.on(v.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),d.on(v.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),d.on(v.Events.FRAG_BUFFERED,this.onFragBuffered,this)},c._unregisterListeners=function(){var d=this.hls;d.off(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),d.off(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),d.off(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),d.off(v.Events.LEVEL_LOADED,this.onLevelLoaded,this),d.off(v.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),d.off(v.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),d.off(v.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),d.off(v.Events.ERROR,this.onError,this),d.off(v.Events.BUFFER_RESET,this.onBufferReset,this),d.off(v.Events.BUFFER_CREATED,this.onBufferCreated,this),d.off(v.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),d.off(v.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),d.off(v.Events.FRAG_BUFFERED,this.onFragBuffered,this)},c.onInitPtsFound=function(d,h){var u=h.frag,p=h.id,S=h.initPTS;if(p==="main"){var b=u.cc;this.initPTS[u.cc]=S,this.log("InitPTS for cc: "+b+" found from main: "+S),this.videoTrackCC=b,this.state===Fa&&this.tick()}},c.startLoad=function(d){if(!this.levels)return this.startPosition=d,void(this.state=cn);var h=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,h>0&&d===-1?(this.log("Override startPosition with lastCurrentTime @"+h.toFixed(3)),d=h,this.state=ht):(this.loadedmetadata=!1,this.state=Ss),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=d,this.tick()},c.doTick=function(){switch(this.state){case ht:this.doTickIdle();break;case Ss:var d,h=this.levels,u=this.trackId,p=h==null||(d=h[u])===null||d===void 0?void 0:d.details;if(p){if(this.waitForCdnTuneIn(p))break;this.state=Fa}break;case Vi:var S,b=performance.now(),k=this.retryDate;(!k||b>=k||(S=this.media)!==null&&S!==void 0&&S.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=ht);break;case Fa:var _=this.waitingData;if(_){var D=_.frag,F=_.part,U=_.cache,Q=_.complete;if(this.initPTS[D.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=zi;var q={frag:D,part:F,payload:U.flush(),networkDetails:null};this._handleFragmentLoadProgress(q),Q&&T.prototype._handleFragmentLoadComplete.call(this,q)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc ("+D.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var te=this.getLoadPosition(),fe=zt.bufferInfo(this.mediaBuffer,te,this.config.maxBufferHole);ji(fe.end,this.config.maxFragLookUpTolerance,D)<0&&(this.log("Waiting fragment cc ("+D.cc+") @ "+D.start+" cancelled because another fragment at "+fe.end+" is needed"),this.clearWaitingFragment())}}else this.state=ht}this.onTickEnd()},c.clearWaitingFragment=function(){var d=this.waitingData;d&&(this.fragmentTracker.removeFragment(d.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=ht)},c.resetLoadingState=function(){this.clearWaitingFragment(),T.prototype.resetLoadingState.call(this)},c.onTickEnd=function(){var d=this.media;d&&d.readyState&&(this.lastCurrentTime=d.currentTime)},c.doTickIdle=function(){var d=this.hls,h=this.levels,u=this.media,p=this.trackId,S=d.config;if(h&&h[p]&&(u||!this.startFragRequested&&S.startFragPrefetch)){var b=h[p].details;if(!b||b.live&&this.levelLastLoaded!==p||this.waitForCdnTuneIn(b))this.state=Ss;else{var k=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&k&&(this.bufferFlushed=!1,this.afterBufferFlushed(k,j.ElementaryStreamTypes.AUDIO,oe.PlaylistLevelType.AUDIO));var _=this.getFwdBufferInfo(k,oe.PlaylistLevelType.AUDIO);if(_!==null){var D=this.audioSwitch;if(!D&&this._streamEnded(_,b))return d.trigger(v.Events.BUFFER_EOS,{type:"audio"}),void(this.state=Oa);var F=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,oe.PlaylistLevelType.MAIN);if(!(_.len>=this.getMaxBufferLength(F==null?void 0:F.len))||D){var U=b.fragments[0].start,Q=_.end;if(D&&u){var q=this.getLoadPosition();Q=q,b.PTSKnown&&q<U&&(_.end>U||_.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),u.currentTime=U+.05)}if(!(F&&Q>F.end+b.targetduration)&&(F&&F.len||!_.len)){var te=this.getNextFragment(Q,b);te?this.loadFragment(te,b,Q):this.bufferFlushed=!0}}}}}},c.getMaxBufferLength=function(d){var h=T.prototype.getMaxBufferLength.call(this);return d?Math.max(h,d):h},c.onMediaDetaching=function(){this.videoBuffer=null,T.prototype.onMediaDetaching.call(this)},c.onAudioTracksUpdated=function(d,h){var u=h.audioTracks;this.resetTransmuxer(),this.levels=u.map(function(p){return new Y(p)})},c.onAudioTrackSwitching=function(d,h){var u=!!h.url;this.trackId=h.id;var p=this.fragCurrent;p&&p.abortRequests(),this.fragCurrent=null,this.clearWaitingFragment(),u?this.setInterval(100):this.resetTransmuxer(),u?(this.audioSwitch=!0,this.state=ht):this.state=cn,this.tick()},c.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},c.onLevelLoaded=function(d,h){this.mainDetails=h.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(v.Events.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},c.onAudioTrackLoaded=function(d,h){var u;if(this.mainDetails!=null){var p=this.levels,S=h.details,b=h.id;if(p){this.log("Track "+b+" loaded ["+S.startSN+","+S.endSN+"],duration:"+S.totalduration);var k=p[b],_=0;if(S.live||(u=k.details)!==null&&u!==void 0&&u.live){var D=this.mainDetails;if(S.fragments[0]||(S.deltaUpdateFailed=!0),S.deltaUpdateFailed||!D)return;!k.details&&S.hasProgramDateTime&&D.hasProgramDateTime?(Ju(S,D),_=S.fragments[0].start):_=this.alignPlaylists(S,k.details)}k.details=S,this.levelLastLoaded=b,this.startFragRequested||!this.mainDetails&&S.live||this.setStartPosition(k.details,_),this.state!==Ss||this.waitForCdnTuneIn(S)||(this.state=ht),this.tick()}else this.warn("Audio tracks were reset while loading level "+b)}else this.cachedTrackLoadedData=h},c._handleFragmentLoadProgress=function(d){var h,u=d.frag,p=d.part,S=d.payload,b=this.config,k=this.trackId,_=this.levels;if(_){var D=_[k],F=D.details,U=b.defaultAudioCodec||D.audioCodec||"mp4a.40.2",Q=this.transmuxer;Q||(Q=this.transmuxer=new Es(this.hls,oe.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var q=this.initPTS[u.cc],te=(h=u.initSegment)===null||h===void 0?void 0:h.data;if(q!==void 0){var fe=p?p.index:-1,ge=fe!==-1,pe=new Lo(u.level,u.sn,u.stats.chunkCount,S.byteLength,fe,ge);Q.push(S,te,U,"",u,p,F.totalduration,!1,pe,q)}else this.log("Unknown video PTS for cc "+u.cc+", waiting for video PTS before demuxing audio frag "+u.sn+" of ["+F.startSN+" ,"+F.endSN+"],track "+k),(this.waitingData=this.waitingData||{frag:u,part:p,cache:new Ho,complete:!1}).cache.push(new Uint8Array(S)),this.waitingVideoCC=this.videoTrackCC,this.state=Fa}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+u.sn+" of level "+u.level+" will not be buffered")},c._handleFragmentLoadComplete=function(d){this.waitingData?this.waitingData.complete=!0:T.prototype._handleFragmentLoadComplete.call(this,d)},c.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},c.onBufferCreated=function(d,h){var u=h.tracks.audio;u&&(this.mediaBuffer=u.buffer||null),h.tracks.video&&(this.videoBuffer=h.tracks.video.buffer||null)},c.onFragBuffered=function(d,h){var u,p=h.frag,S=h.part;p.type===oe.PlaylistLevelType.AUDIO?this.fragContextChanged(p)?this.warn("Fragment "+p.sn+(S?" p: "+S.index:"")+" of level "+p.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):(p.sn!=="initSegment"&&(this.fragPrevious=p,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(v.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(p,S)):this.loadedmetadata||p.type!==oe.PlaylistLevelType.MAIN||(u=this.videoBuffer||this.media)!==null&&u!==void 0&&u.buffered.length&&(this.loadedmetadata=!0)},c.onError=function(d,h){if(h.type!==x.ErrorTypes.KEY_SYSTEM_ERROR)switch(h.details){case x.ErrorDetails.FRAG_LOAD_ERROR:case x.ErrorDetails.FRAG_LOAD_TIMEOUT:case x.ErrorDetails.FRAG_PARSING_ERROR:case x.ErrorDetails.KEY_LOAD_ERROR:case x.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(oe.PlaylistLevelType.AUDIO,h);break;case x.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case x.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==Nn&&this.state!==cn&&(this.state=h.fatal?Nn:ht,this.warn(h.details+" while loading frag, switching to "+this.state+" state"));break;case x.ErrorDetails.BUFFER_FULL_ERROR:if(h.parent==="audio"&&(this.state===xn||this.state===Ia)){var u=!0,p=this.getFwdBufferInfo(this.mediaBuffer,oe.PlaylistLevelType.AUDIO);p&&p.len>.5&&(u=!this.reduceMaxBufferLength(p.len)),u&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,T.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}else this.onFragmentOrKeyLoadError(oe.PlaylistLevelType.AUDIO,h)},c.onBufferFlushed=function(d,h){h.type===j.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0,this.state===Oa&&(this.state=ht))},c._handleTransmuxComplete=function(d){var h,u="audio",p=this.hls,S=d.remuxResult,b=d.chunkMeta,k=this.getCurrentContext(b);if(!k)return this.warn("The loading context changed while buffering fragment "+b.sn+" of level "+b.level+". This chunk will not be buffered."),void this.resetStartWhenNotLoaded(b.level);var _=k.frag,D=k.part,F=k.level.details,U=S.audio,Q=S.text,q=S.id3,te=S.initSegment;if(!this.fragContextChanged(_)&&F){if(this.state=xn,this.audioSwitch&&U&&this.completeAudioSwitch(),te!=null&&te.tracks&&(this._bufferInitSegment(te.tracks,_,b),p.trigger(v.Events.FRAG_PARSING_INIT_SEGMENT,{frag:_,id:u,tracks:te.tracks})),U){var fe=U.startPTS,ge=U.endPTS,pe=U.startDTS,Te=U.endDTS;D&&(D.elementaryStreams[j.ElementaryStreamTypes.AUDIO]={startPTS:fe,endPTS:ge,startDTS:pe,endDTS:Te}),_.setElementaryStreamInfo(j.ElementaryStreamTypes.AUDIO,fe,ge,pe,Te),this.bufferFragmentData(U,_,D,b)}if(q!=null&&(h=q.samples)!==null&&h!==void 0&&h.length){var ze=Wi({id:u,frag:_,details:F},q);p.trigger(v.Events.FRAG_PARSING_METADATA,ze)}if(Q){var Ve=Wi({id:u,frag:_,details:F},Q);p.trigger(v.Events.FRAG_PARSING_USERDATA,Ve)}}},c._bufferInitSegment=function(d,h,u){if(this.state===xn){d.video&&delete d.video;var p=d.audio;if(p){p.levelCodec=p.codec,p.id="audio",this.log("Init audio buffer, container:"+p.container+", codecs[parsed]=["+p.codec+"]"),this.hls.trigger(v.Events.BUFFER_CODECS,d);var S=p.initSegment;if(S!=null&&S.byteLength){var b={type:"audio",frag:h,part:null,chunkMeta:u,parent:h.type,data:S};this.hls.trigger(v.Events.BUFFER_APPENDING,b)}this.tick()}}},c.loadFragment=function(d,h,u){var p=this.fragmentTracker.getState(d);this.fragCurrent=d,(this.audioSwitch||p===Ue.NOT_LOADED||p===Ue.PARTIAL)&&(d.sn==="initSegment"?this._loadInitSegment(d,h):h.live&&!(0,w.isFiniteNumber)(this.initPTS[d.cc])?(this.log("Waiting for video PTS in continuity counter "+d.cc+" of live stream before loading audio fragment "+d.sn+" of level "+this.trackId),this.state=Fa):(this.startFragRequested=!0,T.prototype.loadFragment.call(this,d,h,u)))},c.completeAudioSwitch=function(){var d=this.hls,h=this.media,u=this.trackId;h&&(this.log("Switching audio track : flushing all audio"),T.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,d.trigger(v.Events.AUDIO_TRACK_SWITCHED,{id:u})},o}(Mo);const Ma=vi;function vh(T,y){for(var s=0;s<y.length;s++){var o=y[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(T,typeof(c=function(d,h){if(typeof d!="object"||d===null)return d;var u=d[Symbol.toPrimitive];if(u!==void 0){var p=u.call(d,h);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(o.key,"string"))=="symbol"?c:String(c),o)}var c}function ks(T,y){return ks=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},ks(T,y)}const yh=function(T){var y,s;function o(u){var p;return(p=T.call(this,u,"[audio-track-controller]")||this).tracks=[],p.groupId=null,p.tracksInGroup=[],p.trackId=-1,p.trackName="",p.selectDefaultTrack=!0,p.registerListeners(),p}s=T,(y=o).prototype=Object.create(s.prototype),y.prototype.constructor=y,ks(y,s);var c,d,h=o.prototype;return h.registerListeners=function(){var u=this.hls;u.on(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),u.on(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),u.on(v.Events.LEVEL_LOADING,this.onLevelLoading,this),u.on(v.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),u.on(v.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),u.on(v.Events.ERROR,this.onError,this)},h.unregisterListeners=function(){var u=this.hls;u.off(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),u.off(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),u.off(v.Events.LEVEL_LOADING,this.onLevelLoading,this),u.off(v.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),u.off(v.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),u.off(v.Events.ERROR,this.onError,this)},h.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,T.prototype.destroy.call(this)},h.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},h.onManifestParsed=function(u,p){this.tracks=p.audioTracks||[]},h.onAudioTrackLoaded=function(u,p){var S=p.id,b=p.details,k=this.tracksInGroup[S];if(k){var _=k.details;k.details=p.details,this.log("audioTrack "+S+" loaded ["+b.startSN+"-"+b.endSN+"]"),S===this.trackId&&(this.retryCount=0,this.playlistLoaded(S,p,_))}else this.warn("Invalid audio track id "+S)},h.onLevelLoading=function(u,p){this.switchLevel(p.level)},h.onLevelSwitching=function(u,p){this.switchLevel(p.level)},h.switchLevel=function(u){var p=this.hls.levels[u];if(p!=null&&p.audioGroupIds){var S=p.audioGroupIds[p.urlId];if(this.groupId!==S){this.groupId=S;var b=this.tracks.filter(function(_){return!S||_.groupId===S});this.selectDefaultTrack&&!b.some(function(_){return _.default})&&(this.selectDefaultTrack=!1),this.tracksInGroup=b;var k={audioTracks:b};this.log("Updating audio tracks, "+b.length+' track(s) found in "'+S+'" group-id'),this.hls.trigger(v.Events.AUDIO_TRACKS_UPDATED,k),this.selectInitialTrack()}}},h.onError=function(u,p){T.prototype.onError.call(this,u,p),!p.fatal&&p.context&&p.context.type===oe.PlaylistContextType.AUDIO_TRACK&&p.context.id===this.trackId&&p.context.groupId===this.groupId&&this.retryLoadingOrFail(p)},h.setAudioTrack=function(u){var p=this.tracksInGroup;if(u<0||u>=p.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var S=p[this.trackId];this.log("Now switching to audio-track index "+u);var b=p[u],k=b.id,_=b.groupId,D=_===void 0?"":_,F=b.name,U=b.type,Q=b.url;if(this.trackId=u,this.trackName=F,this.selectDefaultTrack=!1,this.hls.trigger(v.Events.AUDIO_TRACK_SWITCHING,{id:k,groupId:D,name:F,type:U,url:Q}),!b.details||b.details.live){var q=this.switchParams(b.url,S==null?void 0:S.details);this.loadPlaylist(q)}}},h.selectInitialTrack=function(){this.tracksInGroup;var u=this.trackName,p=this.findTrackId(u)||this.findTrackId();p!==-1?this.setAudioTrack(p):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(v.Events.ERROR,{type:x.ErrorTypes.MEDIA_ERROR,details:x.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},h.findTrackId=function(u){for(var p=this.tracksInGroup,S=0;S<p.length;S++){var b=p[S];if((!this.selectDefaultTrack||b.default)&&(!u||u===b.name))return b.id}return-1},h.loadPlaylist=function(u){T.prototype.loadPlaylist.call(this);var p=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(p)){var S=p.id,b=p.groupId,k=p.url;if(u)try{k=u.addDirectives(k)}catch(_){this.warn("Could not construct new URL with HLS Delivery Directives: "+_)}this.log("loading audio-track playlist for id: "+S),this.clearTimer(),this.hls.trigger(v.Events.AUDIO_TRACK_LOADING,{url:k,id:S,groupId:b,deliveryDirectives:u||null})}},c=o,(d=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(u){this.selectDefaultTrack=!1,this.setAudioTrack(u)}}])&&vh(c.prototype,d),Object.defineProperty(c,"prototype",{writable:!1}),o}(Ee);function nc(T,y){for(var s=0;s<y.length;s++){var o=y[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(T,typeof(c=function(d,h){if(typeof d!="object"||d===null)return d;var u=d[Symbol.toPrimitive];if(u!==void 0){var p=u.call(d,h);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(o.key,"string"))=="symbol"?c:String(c),o)}var c}function Go(T,y){return Go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},Go(T,y)}var Sh=function(T){var y,s;function o(u,p,S){var b;return(b=T.call(this,u,p,S,"[subtitle-stream-controller]")||this).levels=[],b.currentTrackId=-1,b.tracksBuffered=[],b.mainDetails=null,b._registerListeners(),b}s=T,(y=o).prototype=Object.create(s.prototype),y.prototype.constructor=y,Go(y,s);var c,d,h=o.prototype;return h.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},h._registerListeners=function(){var u=this.hls;u.on(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),u.on(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),u.on(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),u.on(v.Events.LEVEL_LOADED,this.onLevelLoaded,this),u.on(v.Events.ERROR,this.onError,this),u.on(v.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),u.on(v.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),u.on(v.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),u.on(v.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),u.on(v.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),u.on(v.Events.FRAG_BUFFERED,this.onFragBuffered,this)},h._unregisterListeners=function(){var u=this.hls;u.off(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),u.off(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),u.off(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),u.off(v.Events.LEVEL_LOADED,this.onLevelLoaded,this),u.off(v.Events.ERROR,this.onError,this),u.off(v.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),u.off(v.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),u.off(v.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),u.off(v.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),u.off(v.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),u.off(v.Events.FRAG_BUFFERED,this.onFragBuffered,this)},h.startLoad=function(u){this.stopLoad(),this.state=ht,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=u,this.tick()},h.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},h.onLevelLoaded=function(u,p){this.mainDetails=p.details},h.onSubtitleFragProcessed=function(u,p){var S=p.frag,b=p.success;if(this.fragPrevious=S,this.state=ht,b){var k=this.tracksBuffered[this.currentTrackId];if(k){for(var _,D=S.start,F=0;F<k.length;F++)if(D>=k[F].start&&D<=k[F].end){_=k[F];break}var U=S.start+S.duration;_?_.end=U:(_={start:D,end:U},k.push(_)),this.fragmentTracker.fragBuffered(S)}}},h.onBufferFlushing=function(u,p){var S=p.startOffset,b=p.endOffset;if(S===0&&b!==Number.POSITIVE_INFINITY){var k=this.currentTrackId,_=this.levels;if(!_.length||!_[k]||!_[k].details)return;var D=b-_[k].details.targetduration;if(D<=0)return;p.endOffsetSubtitles=Math.max(0,D),this.tracksBuffered.forEach(function(F){for(var U=0;U<F.length;)if(F[U].end<=D)F.shift();else{if(!(F[U].start<D))break;F[U].start=D,U++}}),this.fragmentTracker.removeFragmentsInRange(S,D,oe.PlaylistLevelType.SUBTITLE)}},h.onFragBuffered=function(u,p){var S;this.loadedmetadata||p.frag.type!==oe.PlaylistLevelType.MAIN||(S=this.media)!==null&&S!==void 0&&S.buffered.length&&(this.loadedmetadata=!0)},h.onError=function(u,p){var S=p.frag;S&&S.type===oe.PlaylistLevelType.SUBTITLE&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state=ht)},h.onSubtitleTracksUpdated=function(u,p){var S=this,b=p.subtitleTracks;this.tracksBuffered=[],this.levels=b.map(function(k){return new Y(k)}),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach(function(k){S.tracksBuffered[k.id]=[]}),this.mediaBuffer=null},h.onSubtitleTrackSwitch=function(u,p){if(this.currentTrackId=p.id,this.levels.length&&this.currentTrackId!==-1){var S=this.levels[this.currentTrackId];S!=null&&S.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,S&&this.setInterval(500)}else this.clearInterval()},h.onSubtitleTrackLoaded=function(u,p){var S,b=p.details,k=p.id,_=this.currentTrackId,D=this.levels;if(D.length){var F=D[_];if(!(k>=D.length||k!==_)&&F){this.mediaBuffer=this.mediaBufferTimeRanges;var U=0;if(b.live||(S=F.details)!==null&&S!==void 0&&S.live){var Q=this.mainDetails;if(b.deltaUpdateFailed||!Q)return;var q=Q.fragments[0];F.details?(U=this.alignPlaylists(b,F.details))===0&&q&&ve(b,U=q.start):b.hasProgramDateTime&&Q.hasProgramDateTime?(Ju(b,Q),U=b.fragments[0].start):q&&ve(b,U=q.start)}F.details=b,this.levelLastLoaded=k,this.startFragRequested||!this.mainDetails&&b.live||this.setStartPosition(F.details,U),this.tick(),b.live&&!this.fragCurrent&&this.media&&this.state===ht&&(Io(null,b.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),F.details=void 0))}}},h._handleFragmentLoadComplete=function(u){var p=this,S=u.frag,b=u.payload,k=S.decryptdata,_=this.hls;if(!this.fragContextChanged(S)&&b&&b.byteLength>0&&k&&k.key&&k.iv&&k.method==="AES-128"){var D=performance.now();this.decrypter.decrypt(new Uint8Array(b),k.key.buffer,k.iv.buffer).then(function(F){var U=performance.now();_.trigger(v.Events.FRAG_DECRYPTED,{frag:S,payload:F,stats:{tstart:D,tdecrypt:U}})}).catch(function(F){p.warn(F.name+": "+F.message),p.state=ht})}},h.doTick=function(){if(this.media){if(this.state===ht){var u=this.currentTrackId,p=this.levels;if(!p.length||!p[u]||!p[u].details)return;var S=p[u].details,b=S.targetduration,k=this.config,_=this.getLoadPosition(),D=zt.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],_-b,k.maxBufferHole),F=D.end,U=D.len,Q=this.getFwdBufferInfo(this.media,oe.PlaylistLevelType.MAIN);if(U>this.getMaxBufferLength(Q==null?void 0:Q.len)+b)return;var q=S.fragments,te=q.length,fe=S.edge,ge=null,pe=this.fragPrevious;if(F<fe){var Te=k.maxFragLookUpTolerance;!(ge=Io(pe,q,Math.max(q[0].start,F),Te))&&pe&&pe.start<q[0].start&&(ge=q[0])}else ge=q[te-1];if(!ge)return;ge=this.mapToInitFragWhenRequired(ge),this.fragmentTracker.getState(ge)===Ue.NOT_LOADED&&this.loadFragment(ge,S,F)}}else this.state=ht},h.getMaxBufferLength=function(u){var p=T.prototype.getMaxBufferLength.call(this);return u?Math.max(p,u):p},h.loadFragment=function(u,p,S){this.fragCurrent=u,u.sn==="initSegment"?this._loadInitSegment(u,p):(this.startFragRequested=!0,T.prototype.loadFragment.call(this,u,p,S))},c=o,(d=[{key:"mediaBufferTimeRanges",get:function(){return new ic(this.tracksBuffered[this.currentTrackId]||[])}}])&&nc(c.prototype,d),Object.defineProperty(c,"prototype",{writable:!1}),o}(Mo),ic=function(T){this.buffered=void 0;var y=function(s,o,c){if((o>>>=0)>c-1)throw new DOMException("Failed to execute '"+s+"' on 'TimeRanges': The index provided ("+o+") is greater than the maximum bound ("+c+")");return T[o][s]};this.buffered={get length(){return T.length},end:function(s){return y("end",s,T.length)},start:function(s){return y("start",s,T.length)}}};function bh(T,y){for(var s=0;s<y.length;s++){var o=y[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(T,typeof(c=function(d,h){if(typeof d!="object"||d===null)return d;var u=d[Symbol.toPrimitive];if(u!==void 0){var p=u.call(d,h);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(o.key,"string"))=="symbol"?c:String(c),o)}var c}function z(T,y){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},z(T,y)}function ee(T){for(var y=[],s=0;s<T.length;s++){var o=T[s];o.kind==="subtitles"&&o.label&&y.push(T[s])}return y}const he=function(T){var y,s;function o(u){var p;return(p=T.call(this,u,"[subtitle-track-controller]")||this).media=null,p.tracks=[],p.groupId=null,p.tracksInGroup=[],p.trackId=-1,p.selectDefaultTrack=!0,p.queuedDefaultTrack=-1,p.trackChangeListener=function(){return p.onTextTracksChanged()},p.asyncPollTrackChange=function(){return p.pollTrackChange(0)},p.useTextTrackPolling=!1,p.subtitlePollingInterval=-1,p._subtitleDisplay=!0,p.registerListeners(),p}s=T,(y=o).prototype=Object.create(s.prototype),y.prototype.constructor=y,z(y,s);var c,d,h=o.prototype;return h.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,T.prototype.destroy.call(this)},h.registerListeners=function(){var u=this.hls;u.on(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),u.on(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),u.on(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),u.on(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),u.on(v.Events.LEVEL_LOADING,this.onLevelLoading,this),u.on(v.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),u.on(v.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),u.on(v.Events.ERROR,this.onError,this)},h.unregisterListeners=function(){var u=this.hls;u.off(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),u.off(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),u.off(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),u.off(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),u.off(v.Events.LEVEL_LOADING,this.onLevelLoading,this),u.off(v.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),u.off(v.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),u.off(v.Events.ERROR,this.onError,this)},h.onMediaAttached=function(u,p){this.media=p.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},h.pollTrackChange=function(u){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,u)},h.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),ee(this.media.textTracks).forEach(function(u){Tt(u)}),this.subtitleTrack=-1,this.media=null)},h.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},h.onManifestParsed=function(u,p){this.tracks=p.subtitleTracks},h.onSubtitleTrackLoaded=function(u,p){var S=p.id,b=p.details,k=this.trackId,_=this.tracksInGroup[k];if(_){var D=_.details;_.details=p.details,this.log("subtitle track "+S+" loaded ["+b.startSN+"-"+b.endSN+"]"),S===this.trackId&&(this.retryCount=0,this.playlistLoaded(S,p,D))}else this.warn("Invalid subtitle track id "+S)},h.onLevelLoading=function(u,p){this.switchLevel(p.level)},h.onLevelSwitching=function(u,p){this.switchLevel(p.level)},h.switchLevel=function(u){var p=this.hls.levels[u];if(p!=null&&p.textGroupIds){var S=p.textGroupIds[p.urlId];if(this.groupId!==S){var b=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,k=this.tracks.filter(function(F){return!S||F.groupId===S});this.tracksInGroup=k;var _=this.findTrackId(b==null?void 0:b.name)||this.findTrackId();this.groupId=S;var D={subtitleTracks:k};this.log("Updating subtitle tracks, "+k.length+' track(s) found in "'+S+'" group-id'),this.hls.trigger(v.Events.SUBTITLE_TRACKS_UPDATED,D),_!==-1&&this.setSubtitleTrack(_,b)}}},h.findTrackId=function(u){for(var p=this.tracksInGroup,S=0;S<p.length;S++){var b=p[S];if((!this.selectDefaultTrack||b.default)&&(!u||u===b.name))return b.id}return-1},h.onError=function(u,p){T.prototype.onError.call(this,u,p),!p.fatal&&p.context&&p.context.type===oe.PlaylistContextType.SUBTITLE_TRACK&&p.context.id===this.trackId&&p.context.groupId===this.groupId&&this.retryLoadingOrFail(p)},h.loadPlaylist=function(u){T.prototype.loadPlaylist.call(this);var p=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(p)){var S=p.id,b=p.groupId,k=p.url;if(u)try{k=u.addDirectives(k)}catch(_){this.warn("Could not construct new URL with HLS Delivery Directives: "+_)}this.log("Loading subtitle playlist for id "+S),this.hls.trigger(v.Events.SUBTITLE_TRACK_LOADING,{url:k,id:S,groupId:b,deliveryDirectives:u||null})}},h.toggleTrackModes=function(u){var p=this,S=this.media,b=this.trackId;if(S){var k=ee(S.textTracks),_=k.filter(function(U){return U.groupId===p.groupId});if(u===-1)[].slice.call(k).forEach(function(U){U.mode="disabled"});else{var D=_[b];D&&(D.mode="disabled")}var F=_[u];F&&(F.mode=this.subtitleDisplay?"showing":"hidden")}},h.setSubtitleTrack=function(u,p){var S,b=this.tracksInGroup;if(this.media){if(this.trackId!==u&&this.toggleTrackModes(u),!(this.trackId===u&&(u===-1||(S=b[u])!==null&&S!==void 0&&S.details)||u<-1||u>=b.length)){this.clearTimer();var k=b[u];if(this.log("Switching to subtitle track "+u),this.trackId=u,k){var _=k.id,D=k.groupId,F=D===void 0?"":D,U=k.name,Q=k.type,q=k.url;this.hls.trigger(v.Events.SUBTITLE_TRACK_SWITCH,{id:_,groupId:F,name:U,type:Q,url:q});var te=this.switchParams(k.url,p==null?void 0:p.details);this.loadPlaylist(te)}else this.hls.trigger(v.Events.SUBTITLE_TRACK_SWITCH,{id:u})}}else this.queuedDefaultTrack=u},h.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var u=-1,p=ee(this.media.textTracks),S=0;S<p.length;S++)if(p[S].mode==="hidden")u=S;else if(p[S].mode==="showing"){u=S;break}this.subtitleTrack!==u&&(this.subtitleTrack=u)}},c=o,(d=[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(u){this._subtitleDisplay=u,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(u){this.selectDefaultTrack=!1;var p=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(u,p)}}])&&bh(c.prototype,d),Object.defineProperty(c,"prototype",{writable:!1}),o}(Ee);var Pe,St=function(){function T(s){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=s}var y=T.prototype;return y.append=function(s,o){var c=this.queues[o];c.push(s),c.length===1&&this.buffers[o]&&this.executeNext(o)},y.insertAbort=function(s,o){this.queues[o].unshift(s),this.executeNext(o)},y.appendBlocker=function(s){var o,c=new Promise(function(h){o=h}),d={execute:o,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(d,s),c},y.executeNext=function(s){var o=this.buffers,c=this.queues,d=o[s],h=c[s];if(h.length){var u=h[0];try{u.execute()}catch(p){C.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),u.onError(p),d&&d.updating||(h.shift(),this.executeNext(s))}}},y.shiftAndExecuteNext=function(s){this.queues[s].shift(),this.executeNext(s)},y.current=function(s){return this.queues[s][0]},T}(),Ot=Gi(),$t=/([ha]vc.)(?:\.[^.,]+)+/,vt=function(){function T(s){var o=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var c=o.media,d=o.mediaSource;C.logger.log("[buffer-controller]: Media source opened"),c&&(c.removeEventListener("emptied",o._onMediaEmptied),o.updateMediaElementDuration(),o.hls.trigger(v.Events.MEDIA_ATTACHED,{media:c})),d&&d.removeEventListener("sourceopen",o._onMediaSourceOpen),o.checkPendingTracks()},this._onMediaSourceClose=function(){C.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){C.logger.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=function(){var c=o.media,d=o._objectUrl;c&&c.src!==d&&C.logger.error("Media element src was set while attaching MediaSource ("+d+" > "+c.src+")")},this.hls=s,this._initSourceBuffer(),this.registerListeners()}var y=T.prototype;return y.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},y.destroy=function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null},y.registerListeners=function(){var s=this.hls;s.on(v.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),s.on(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),s.on(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),s.on(v.Events.BUFFER_RESET,this.onBufferReset,this),s.on(v.Events.BUFFER_APPENDING,this.onBufferAppending,this),s.on(v.Events.BUFFER_CODECS,this.onBufferCodecs,this),s.on(v.Events.BUFFER_EOS,this.onBufferEos,this),s.on(v.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),s.on(v.Events.LEVEL_UPDATED,this.onLevelUpdated,this),s.on(v.Events.FRAG_PARSED,this.onFragParsed,this),s.on(v.Events.FRAG_CHANGED,this.onFragChanged,this)},y.unregisterListeners=function(){var s=this.hls;s.off(v.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),s.off(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),s.off(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),s.off(v.Events.BUFFER_RESET,this.onBufferReset,this),s.off(v.Events.BUFFER_APPENDING,this.onBufferAppending,this),s.off(v.Events.BUFFER_CODECS,this.onBufferCodecs,this),s.off(v.Events.BUFFER_EOS,this.onBufferEos,this),s.off(v.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),s.off(v.Events.LEVEL_UPDATED,this.onLevelUpdated,this),s.off(v.Events.FRAG_PARSED,this.onFragParsed,this),s.off(v.Events.FRAG_CHANGED,this.onFragChanged,this)},y._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new St(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null},y.onManifestParsed=function(s,o){var c=2;(o.audio&&!o.video||!o.altAudio)&&(c=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=c,this.details=null,C.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},y.onMediaAttaching=function(s,o){var c=this.media=o.media;if(c&&Ot){var d=this.mediaSource=new Ot;d.addEventListener("sourceopen",this._onMediaSourceOpen),d.addEventListener("sourceended",this._onMediaSourceEnded),d.addEventListener("sourceclose",this._onMediaSourceClose),c.src=self.URL.createObjectURL(d),this._objectUrl=c.src,c.addEventListener("emptied",this._onMediaEmptied)}},y.onMediaDetaching=function(){var s=this.media,o=this.mediaSource,c=this._objectUrl;if(o){if(C.logger.log("[buffer-controller]: media source detaching"),o.readyState==="open")try{o.endOfStream()}catch(d){C.logger.warn("[buffer-controller]: onMediaDetaching: "+d.message+" while calling endOfStream")}this.onBufferReset(),o.removeEventListener("sourceopen",this._onMediaSourceOpen),o.removeEventListener("sourceended",this._onMediaSourceEnded),o.removeEventListener("sourceclose",this._onMediaSourceClose),s&&(s.removeEventListener("emptied",this._onMediaEmptied),c&&self.URL.revokeObjectURL(c),s.src===c?(s.removeAttribute("src"),s.load()):C.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(v.Events.MEDIA_DETACHED,void 0)},y.onBufferReset=function(){var s=this;this.getSourceBufferTypes().forEach(function(o){var c=s.sourceBuffer[o];try{c&&(s.removeBufferListeners(o),s.mediaSource&&s.mediaSource.removeSourceBuffer(c),s.sourceBuffer[o]=void 0)}catch(d){C.logger.warn("[buffer-controller]: Failed to reset the "+o+" buffer",d)}}),this._initSourceBuffer()},y.onBufferCodecs=function(s,o){var c=this,d=this.getSourceBufferTypes().length;Object.keys(o).forEach(function(h){if(d){var u=c.tracks[h];if(u&&typeof u.buffer.changeType=="function"){var p=o[h],S=p.id,b=p.codec,k=p.levelCodec,_=p.container,D=p.metadata,F=(u.levelCodec||u.codec).replace($t,"$1"),U=(k||b).replace($t,"$1");if(F!==U){var Q=_+";codecs="+(k||b);c.appendChangeType(h,Q),C.logger.log("[buffer-controller]: switching codec "+F+" to "+U),c.tracks[h]={buffer:u.buffer,codec:b,container:_,levelCodec:k,metadata:D,id:S}}}}else c.pendingTracks[h]=o[h]}),d||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())},y.appendChangeType=function(s,o){var c=this,d=this.operationQueue,h={execute:function(){var u=c.sourceBuffer[s];u&&(C.logger.log("[buffer-controller]: changing "+s+" sourceBuffer type to "+o),u.changeType(o)),d.shiftAndExecuteNext(s)},onStart:function(){},onComplete:function(){},onError:function(u){C.logger.warn("[buffer-controller]: Failed to change "+s+" SourceBuffer type",u)}};d.append(h,s)},y.onBufferAppending=function(s,o){var c=this,d=this.hls,h=this.operationQueue,u=this.tracks,p=o.data,S=o.type,b=o.frag,k=o.part,_=o.chunkMeta,D=_.buffering[S],F=self.performance.now();D.start=F;var U=b.stats.buffering,Q=k?k.stats.buffering:null;U.start===0&&(U.start=F),Q&&Q.start===0&&(Q.start=F);var q=u.audio,te=!1;S==="audio"&&(q==null?void 0:q.container)==="audio/mpeg"&&(te=!this.lastMpegAudioChunk||_.id===1||this.lastMpegAudioChunk.sn!==_.sn,this.lastMpegAudioChunk=_);var fe=b.start,ge={execute:function(){if(D.executeStart=self.performance.now(),te){var pe=c.sourceBuffer[S];if(pe){var Te=fe-pe.timestampOffset;Math.abs(Te)>=.1&&(C.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+fe+" (delta: "+Te+") sn: "+b.sn+")"),pe.timestampOffset=fe)}}c.appendExecutor(p,S)},onStart:function(){},onComplete:function(){var pe=self.performance.now();D.executeEnd=D.end=pe,U.first===0&&(U.first=pe),Q&&Q.first===0&&(Q.first=pe);var Te=c.sourceBuffer,ze={};for(var Ve in Te)ze[Ve]=zt.getBuffered(Te[Ve]);c.appendError=0,c.hls.trigger(v.Events.BUFFER_APPENDED,{type:S,frag:b,part:k,chunkMeta:_,parent:b.type,timeRanges:ze})},onError:function(pe){C.logger.error("[buffer-controller]: Error encountered while trying to append to the "+S+" SourceBuffer",pe);var Te={type:x.ErrorTypes.MEDIA_ERROR,parent:b.type,details:x.ErrorDetails.BUFFER_APPEND_ERROR,err:pe,fatal:!1};pe.code===DOMException.QUOTA_EXCEEDED_ERR?Te.details=x.ErrorDetails.BUFFER_FULL_ERROR:(c.appendError++,Te.details=x.ErrorDetails.BUFFER_APPEND_ERROR,c.appendError>d.config.appendErrorMaxRetry&&(C.logger.error("[buffer-controller]: Failed "+d.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),Te.fatal=!0,d.stopLoad())),d.trigger(v.Events.ERROR,Te)}};h.append(ge,S)},y.onBufferFlushing=function(s,o){var c=this,d=this.operationQueue,h=function(u){return{execute:c.removeExecutor.bind(c,u,o.startOffset,o.endOffset),onStart:function(){},onComplete:function(){c.hls.trigger(v.Events.BUFFER_FLUSHED,{type:u})},onError:function(p){C.logger.warn("[buffer-controller]: Failed to remove from "+u+" SourceBuffer",p)}}};o.type?d.append(h(o.type),o.type):this.getSourceBufferTypes().forEach(function(u){d.append(h(u),u)})},y.onFragParsed=function(s,o){var c=this,d=o.frag,h=o.part,u=[],p=h?h.elementaryStreams:d.elementaryStreams;p[j.ElementaryStreamTypes.AUDIOVIDEO]?u.push("audiovideo"):(p[j.ElementaryStreamTypes.AUDIO]&&u.push("audio"),p[j.ElementaryStreamTypes.VIDEO]&&u.push("video")),u.length===0&&C.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+d.type+" level: "+d.level+" sn: "+d.sn),this.blockBuffers(function(){var S=self.performance.now();d.stats.buffering.end=S,h&&(h.stats.buffering.end=S);var b=h?h.stats:d.stats;c.hls.trigger(v.Events.FRAG_BUFFERED,{frag:d,part:h,stats:b,id:d.type})},u)},y.onFragChanged=function(s,o){this.flushBackBuffer()},y.onBufferEos=function(s,o){var c=this;this.getSourceBufferTypes().reduce(function(d,h){var u=c.sourceBuffer[h];return!u||o.type&&o.type!==h||(u.ending=!0,u.ended||(u.ended=!0,C.logger.log("[buffer-controller]: "+h+" sourceBuffer now EOS"))),d&&!(u&&!u.ended)},!0)&&(C.logger.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(function(){c.getSourceBufferTypes().forEach(function(h){var u=c.sourceBuffer[h];u&&(u.ending=!1)});var d=c.mediaSource;d&&d.readyState==="open"?(C.logger.log("[buffer-controller]: Calling mediaSource.endOfStream()"),d.endOfStream()):d&&C.logger.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: "+d.readyState)}))},y.onLevelUpdated=function(s,o){var c=o.details;c.fragments.length&&(this.details=c,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},y.flushBackBuffer=function(){var s=this.hls,o=this.details,c=this.media,d=this.sourceBuffer;if(c&&o!==null){var h=this.getSourceBufferTypes();if(h.length){var u=o.live&&s.config.liveBackBufferLength!==null?s.config.liveBackBufferLength:s.config.backBufferLength;if((0,w.isFiniteNumber)(u)&&!(u<0)){var p=c.currentTime,S=o.levelTargetDuration,b=Math.max(u,S),k=Math.floor(p/S)*S-b;h.forEach(function(_){var D=d[_];if(D){var F=zt.getBuffered(D);if(F.length>0&&k>F.start(0)){if(s.trigger(v.Events.BACK_BUFFER_REACHED,{bufferEnd:k}),o.live)s.trigger(v.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:k});else if(D.ended&&F.end(F.length-1)-p<2*S)return void C.logger.info("[buffer-controller]: Cannot flush "+_+" back buffer while SourceBuffer is in ended state");s.trigger(v.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:k,type:_})}}})}}}},y.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&this.mediaSource.readyState==="open"){var s=this.details,o=this.hls,c=this.media,d=this.mediaSource,h=s.fragments[0].start+s.totalduration,u=c.duration,p=(0,w.isFiniteNumber)(d.duration)?d.duration:0;s.live&&o.config.liveDurationInfinity?(C.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),d.duration=1/0,this.updateSeekableRange(s)):(h>p&&h>u||!(0,w.isFiniteNumber)(u))&&(C.logger.log("[buffer-controller]: Updating Media Source duration to "+h.toFixed(3)),d.duration=h)}},y.updateSeekableRange=function(s){var o=this.mediaSource,c=s.fragments;if(c.length&&s.live&&o!=null&&o.setLiveSeekableRange){var d=Math.max(0,c[0].start),h=Math.max(d,d+s.totalduration);o.setLiveSeekableRange(d,h)}},y.checkPendingTracks=function(){var s=this.bufferCodecEventsExpected,o=this.operationQueue,c=this.pendingTracks,d=Object.keys(c).length;if(d&&!s||d===2){this.createSourceBuffers(c),this.pendingTracks={};var h=this.getSourceBufferTypes();if(h.length===0)return void this.hls.trigger(v.Events.ERROR,{type:x.ErrorTypes.MEDIA_ERROR,details:x.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});h.forEach(function(u){o.executeNext(u)})}},y.createSourceBuffers=function(s){var o=this.sourceBuffer,c=this.mediaSource;if(!c)throw Error("createSourceBuffers called when mediaSource was null");var d=0;for(var h in s)if(!o[h]){var u=s[h];if(!u)throw Error("source buffer exists for track "+h+", however track does not");var p=u.levelCodec||u.codec,S=u.container+";codecs="+p;C.logger.log("[buffer-controller]: creating sourceBuffer("+S+")");try{var b=o[h]=c.addSourceBuffer(S),k=h;this.addBufferListener(k,"updatestart",this._onSBUpdateStart),this.addBufferListener(k,"updateend",this._onSBUpdateEnd),this.addBufferListener(k,"error",this._onSBUpdateError),this.tracks[h]={buffer:b,codec:p,container:u.container,levelCodec:u.levelCodec,metadata:u.metadata,id:u.id},d++}catch(_){C.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+_.message),this.hls.trigger(v.Events.ERROR,{type:x.ErrorTypes.MEDIA_ERROR,details:x.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:_,mimeType:S})}}d&&this.hls.trigger(v.Events.BUFFER_CREATED,{tracks:this.tracks})},y._onSBUpdateStart=function(s){this.operationQueue.current(s).onStart()},y._onSBUpdateEnd=function(s){var o=this.operationQueue;o.current(s).onComplete(),o.shiftAndExecuteNext(s)},y._onSBUpdateError=function(s,o){C.logger.error("[buffer-controller]: "+s+" SourceBuffer error",o),this.hls.trigger(v.Events.ERROR,{type:x.ErrorTypes.MEDIA_ERROR,details:x.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var c=this.operationQueue.current(s);c&&c.onError(o)},y.removeExecutor=function(s,o,c){var d=this.media,h=this.mediaSource,u=this.operationQueue,p=this.sourceBuffer[s];if(!d||!h||!p)return C.logger.warn("[buffer-controller]: Attempting to remove from the "+s+" SourceBuffer, but it does not exist"),void u.shiftAndExecuteNext(s);var S=(0,w.isFiniteNumber)(d.duration)?d.duration:1/0,b=(0,w.isFiniteNumber)(h.duration)?h.duration:1/0,k=Math.max(0,o),_=Math.min(c,S,b);_>k&&!p.ending?(p.ended=!1,C.logger.log("[buffer-controller]: Removing ["+k+","+_+"] from the "+s+" SourceBuffer"),p.remove(k,_)):u.shiftAndExecuteNext(s)},y.appendExecutor=function(s,o){var c=this.operationQueue,d=this.sourceBuffer[o];if(!d)return C.logger.warn("[buffer-controller]: Attempting to append to the "+o+" SourceBuffer, but it does not exist"),void c.shiftAndExecuteNext(o);d.ended=!1,d.appendBuffer(s)},y.blockBuffers=function(s,o){var c=this;if(o===void 0&&(o=this.getSourceBufferTypes()),!o.length)return C.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(s);var d=this.operationQueue,h=o.map(function(u){return d.appendBlocker(u)});Promise.all(h).then(function(){s(),o.forEach(function(u){var p=c.sourceBuffer[u];p&&p.updating||d.shiftAndExecuteNext(u)})})},y.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},y.addBufferListener=function(s,o,c){var d=this.sourceBuffer[s];if(d){var h=c.bind(this,s);this.listeners[s].push({event:o,listener:h}),d.addEventListener(o,h)}},y.removeBufferListeners=function(s){var o=this.sourceBuffer[s];o&&this.listeners[s].forEach(function(c){o.removeEventListener(c.event,c.listener)})},T}(),jt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Vr=function(T){var y=T;return jt.hasOwnProperty(T)&&(y=jt[T]),String.fromCharCode(y)},ur=15,Hr=100,Ko={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Wo={17:2,18:4,21:6,22:8,23:10,19:13,20:15},ac={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},YC={25:2,26:4,29:6,30:8,31:10,27:13,28:15},QC=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];(function(T){T[T.ERROR=0]="ERROR",T[T.TEXT=1]="TEXT",T[T.WARNING=2]="WARNING",T[T.INFO=2]="INFO",T[T.DEBUG=3]="DEBUG",T[T.DATA=3]="DATA"})(Pe||(Pe={}));var XC=function(){function T(){this.time=null,this.verboseLevel=Pe.ERROR}return T.prototype.log=function(y,s){if(this.verboseLevel>=y){var o=typeof s=="function"?s():s;C.logger.log(this.time+" ["+y+"] "+o)}},T}(),Na=function(T){for(var y=[],s=0;s<T.length;s++)y.push(T[s].toString(16));return y},Vy=function(){function T(s,o,c,d,h){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=s||"white",this.underline=o||!1,this.italics=c||!1,this.background=d||"black",this.flash=h||!1}var y=T.prototype;return y.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},y.setStyles=function(s){for(var o=["foreground","underline","italics","background","flash"],c=0;c<o.length;c++){var d=o[c];s.hasOwnProperty(d)&&(this[d]=s[d])}},y.isDefault=function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},y.equals=function(s){return this.foreground===s.foreground&&this.underline===s.underline&&this.italics===s.italics&&this.background===s.background&&this.flash===s.flash},y.copy=function(s){this.foreground=s.foreground,this.underline=s.underline,this.italics=s.italics,this.background=s.background,this.flash=s.flash},y.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},T}(),ZC=function(){function T(s,o,c,d,h,u){this.uchar=void 0,this.penState=void 0,this.uchar=s||" ",this.penState=new Vy(o,c,d,h,u)}var y=T.prototype;return y.reset=function(){this.uchar=" ",this.penState.reset()},y.setChar=function(s,o){this.uchar=s,this.penState.copy(o)},y.setPenState=function(s){this.penState.copy(s)},y.equals=function(s){return this.uchar===s.uchar&&this.penState.equals(s.penState)},y.copy=function(s){this.uchar=s.uchar,this.penState.copy(s.penState)},y.isEmpty=function(){return this.uchar===" "&&this.penState.isDefault()},T}(),JC=function(){function T(s){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var o=0;o<Hr;o++)this.chars.push(new ZC);this.logger=s,this.pos=0,this.currPenState=new Vy}var y=T.prototype;return y.equals=function(s){for(var o=!0,c=0;c<Hr;c++)if(!this.chars[c].equals(s.chars[c])){o=!1;break}return o},y.copy=function(s){for(var o=0;o<Hr;o++)this.chars[o].copy(s.chars[o])},y.isEmpty=function(){for(var s=!0,o=0;o<Hr;o++)if(!this.chars[o].isEmpty()){s=!1;break}return s},y.setCursor=function(s){this.pos!==s&&(this.pos=s),this.pos<0?(this.logger.log(Pe.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>Hr&&(this.logger.log(Pe.DEBUG,"Too large cursor position "+this.pos),this.pos=Hr)},y.moveCursor=function(s){var o=this.pos+s;if(s>1)for(var c=this.pos+1;c<o+1;c++)this.chars[c].setPenState(this.currPenState);this.setCursor(o)},y.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},y.insertChar=function(s){var o=this;s>=144&&this.backSpace();var c=Vr(s);this.pos>=Hr?this.logger.log(Pe.ERROR,function(){return"Cannot insert "+s.toString(16)+" ("+c+") at position "+o.pos+". Skipping it!"}):(this.chars[this.pos].setChar(c,this.currPenState),this.moveCursor(1))},y.clearFromPos=function(s){var o;for(o=s;o<Hr;o++)this.chars[o].reset()},y.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},y.clearToEndOfRow=function(){this.clearFromPos(this.pos)},y.getTextString=function(){for(var s=[],o=!0,c=0;c<Hr;c++){var d=this.chars[c].uchar;d!==" "&&(o=!1),s.push(d)}return o?"":s.join("")},y.setPenStyles=function(s){this.currPenState.setStyles(s),this.chars[this.pos].setPenState(this.currPenState)},T}(),Eh=function(){function T(s){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var o=0;o<ur;o++)this.rows.push(new JC(s));this.logger=s,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var y=T.prototype;return y.reset=function(){for(var s=0;s<ur;s++)this.rows[s].clear();this.currRow=14},y.equals=function(s){for(var o=!0,c=0;c<ur;c++)if(!this.rows[c].equals(s.rows[c])){o=!1;break}return o},y.copy=function(s){for(var o=0;o<ur;o++)this.rows[o].copy(s.rows[o])},y.isEmpty=function(){for(var s=!0,o=0;o<ur;o++)if(!this.rows[o].isEmpty()){s=!1;break}return s},y.backSpace=function(){this.rows[this.currRow].backSpace()},y.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},y.insertChar=function(s){this.rows[this.currRow].insertChar(s)},y.setPen=function(s){this.rows[this.currRow].setPenStyles(s)},y.moveCursor=function(s){this.rows[this.currRow].moveCursor(s)},y.setCursor=function(s){this.logger.log(Pe.INFO,"setCursor: "+s),this.rows[this.currRow].setCursor(s)},y.setPAC=function(s){this.logger.log(Pe.INFO,function(){return"pacData = "+JSON.stringify(s)});var o=s.row-1;if(this.nrRollUpRows&&o<this.nrRollUpRows-1&&(o=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==o){for(var c=0;c<ur;c++)this.rows[c].clear();var d=this.currRow+1-this.nrRollUpRows,h=this.lastOutputScreen;if(h){var u=h.rows[d].cueStartTime,p=this.logger.time;if(u&&p!==null&&u<p)for(var S=0;S<this.nrRollUpRows;S++)this.rows[o-this.nrRollUpRows+S+1].copy(h.rows[d+S])}}this.currRow=o;var b=this.rows[this.currRow];if(s.indent!==null){var k=s.indent,_=Math.max(k-1,0);b.setCursor(s.indent),s.color=b.chars[_].penState.foreground}var D={foreground:s.color,underline:s.underline,italics:s.italics,background:"black",flash:!1};this.setPen(D)},y.setBkgData=function(s){this.logger.log(Pe.INFO,function(){return"bkgData = "+JSON.stringify(s)}),this.backSpace(),this.setPen(s),this.insertChar(32)},y.setRollUpRows=function(s){this.nrRollUpRows=s},y.rollUp=function(){var s=this;if(this.nrRollUpRows!==null){this.logger.log(Pe.TEXT,function(){return s.getDisplayText()});var o=this.currRow+1-this.nrRollUpRows,c=this.rows.splice(o,1)[0];c.clear(),this.rows.splice(this.currRow,0,c),this.logger.log(Pe.INFO,"Rolling up")}else this.logger.log(Pe.DEBUG,"roll_up but nrRollUpRows not set yet")},y.getDisplayText=function(s){s=s||!1;for(var o=[],c="",d=-1,h=0;h<ur;h++){var u=this.rows[h].getTextString();u&&(d=h+1,s?o.push("Row "+d+": '"+u+"'"):o.push(u.trim()))}return o.length>0&&(c=s?"["+o.join(" | ")+"]":o.join(`
`)),c},y.getTextAndFormat=function(){return this.rows},T}(),Hy=function(){function T(s,o,c){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=s,this.outputFilter=o,this.mode=null,this.verbose=0,this.displayedMemory=new Eh(c),this.nonDisplayedMemory=new Eh(c),this.lastOutputScreen=new Eh(c),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=c}var y=T.prototype;return y.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},y.getHandler=function(){return this.outputFilter},y.setHandler=function(s){this.outputFilter=s},y.setPAC=function(s){this.writeScreen.setPAC(s)},y.setBkgData=function(s){this.writeScreen.setBkgData(s)},y.setMode=function(s){s!==this.mode&&(this.mode=s,this.logger.log(Pe.INFO,function(){return"MODE="+s}),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=s)},y.insertChars=function(s){for(var o=this,c=0;c<s.length;c++)this.writeScreen.insertChar(s[c]);var d=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(Pe.INFO,function(){return d+": "+o.writeScreen.getDisplayText(!0)}),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(this.logger.log(Pe.TEXT,function(){return"DISPLAYED: "+o.displayedMemory.getDisplayText(!0)}),this.outputDataUpdate())},y.ccRCL=function(){this.logger.log(Pe.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},y.ccBS=function(){this.logger.log(Pe.INFO,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},y.ccAOF=function(){},y.ccAON=function(){},y.ccDER=function(){this.logger.log(Pe.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},y.ccRU=function(s){this.logger.log(Pe.INFO,"RU("+s+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(s)},y.ccFON=function(){this.logger.log(Pe.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},y.ccRDC=function(){this.logger.log(Pe.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},y.ccTR=function(){this.logger.log(Pe.INFO,"TR"),this.setMode("MODE_TEXT")},y.ccRTD=function(){this.logger.log(Pe.INFO,"RTD"),this.setMode("MODE_TEXT")},y.ccEDM=function(){this.logger.log(Pe.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},y.ccCR=function(){this.logger.log(Pe.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},y.ccENM=function(){this.logger.log(Pe.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},y.ccEOC=function(){var s=this;if(this.logger.log(Pe.INFO,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var o=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=o,this.writeScreen=this.nonDisplayedMemory,this.logger.log(Pe.TEXT,function(){return"DISP: "+s.displayedMemory.getDisplayText()})}this.outputDataUpdate(!0)},y.ccTO=function(s){this.logger.log(Pe.INFO,"TO("+s+") - Tab Offset"),this.writeScreen.moveCursor(s)},y.ccMIDROW=function(s){var o={flash:!1};if(o.underline=s%2==1,o.italics=s>=46,o.italics)o.foreground="white";else{var c=Math.floor(s/2)-16;o.foreground=["white","green","blue","cyan","red","yellow","magenta"][c]}this.logger.log(Pe.INFO,"MIDROW: "+JSON.stringify(o)),this.writeScreen.setPen(o)},y.outputDataUpdate=function(s){s===void 0&&(s=!1);var o=this.logger.time;o!==null&&this.outputFilter&&(this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,o,this.lastOutputScreen),s&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:o):this.cueStartTime=o,this.lastOutputScreen.copy(this.displayedMemory))},y.cueSplitAtTime=function(s){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,s,this.displayedMemory),this.cueStartTime=s))},T}(),e_=function(){function T(s,o,c){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var d=new XC;this.channels=[null,new Hy(s,o,d),new Hy(s+1,c,d)],this.cmdHistory={a:null,b:null},this.logger=d}var y=T.prototype;return y.getHandler=function(s){return this.channels[s].getHandler()},y.setHandler=function(s,o){this.channels[s].setHandler(o)},y.addData=function(s,o){var c,d,h,u=!1;this.logger.time=s;for(var p=0;p<o.length;p+=2)if(d=127&o[p],h=127&o[p+1],d!==0||h!==0){if(this.logger.log(Pe.DATA,"["+Na([o[p],o[p+1]])+"] -> ("+Na([d,h])+")"),(c=this.parseCmd(d,h))||(c=this.parseMidrow(d,h)),c||(c=this.parsePAC(d,h)),c||(c=this.parseBackgroundAttributes(d,h)),!c&&(u=this.parseChars(d,h))){var S=this.currentChannel;S&&S>0?this.channels[S].insertChars(u):this.logger.log(Pe.WARNING,"No channel found yet. TEXT-MODE?")}c||u||this.logger.log(Pe.WARNING,"Couldn't parse cleaned data "+Na([d,h])+" orig: "+Na([o[p],o[p+1]]))}},y.parseCmd=function(s,o){var c=this.cmdHistory;if(!((s===20||s===28||s===21||s===29)&&o>=32&&o<=47||(s===23||s===31)&&o>=33&&o<=35))return!1;if(Gy(s,o,c))return xs(null,null,c),this.logger.log(Pe.DEBUG,"Repeated command ("+Na([s,o])+") is dropped"),!0;var d=s===20||s===21||s===23?1:2,h=this.channels[d];return s===20||s===21||s===28||s===29?o===32?h.ccRCL():o===33?h.ccBS():o===34?h.ccAOF():o===35?h.ccAON():o===36?h.ccDER():o===37?h.ccRU(2):o===38?h.ccRU(3):o===39?h.ccRU(4):o===40?h.ccFON():o===41?h.ccRDC():o===42?h.ccTR():o===43?h.ccRTD():o===44?h.ccEDM():o===45?h.ccCR():o===46?h.ccENM():o===47&&h.ccEOC():h.ccTO(o-32),xs(s,o,c),this.currentChannel=d,!0},y.parseMidrow=function(s,o){var c=0;if((s===17||s===25)&&o>=32&&o<=47){if((c=s===17?1:2)!==this.currentChannel)return this.logger.log(Pe.ERROR,"Mismatch channel in midrow parsing"),!1;var d=this.channels[c];return!!d&&(d.ccMIDROW(o),this.logger.log(Pe.DEBUG,"MIDROW ("+Na([s,o])+")"),!0)}return!1},y.parsePAC=function(s,o){var c,d=this.cmdHistory;if(!((s>=17&&s<=23||s>=25&&s<=31)&&o>=64&&o<=127||(s===16||s===24)&&o>=64&&o<=95))return!1;if(Gy(s,o,d))return xs(null,null,d),!0;var h=s<=23?1:2;c=o>=64&&o<=95?h===1?Ko[s]:ac[s]:h===1?Wo[s]:YC[s];var u=this.channels[h];return!!u&&(u.setPAC(this.interpretPAC(c,o)),xs(s,o,d),this.currentChannel=h,!0)},y.interpretPAC=function(s,o){var c,d={color:null,italics:!1,indent:null,underline:!1,row:s};return c=o>95?o-96:o-64,d.underline=(1&c)==1,c<=13?d.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(c/2)]:c<=15?(d.italics=!0,d.color="white"):d.indent=4*Math.floor((c-16)/2),d},y.parseChars=function(s,o){var c,d,h=null,u=null;if(s>=25?(c=2,u=s-8):(c=1,u=s),u>=17&&u<=19?(d=u===17?o+80:u===18?o+112:o+144,this.logger.log(Pe.INFO,"Special char '"+Vr(d)+"' in channel "+c),h=[d]):s>=32&&s<=127&&(h=o===0?[s]:[s,o]),h){var p=Na(h);this.logger.log(Pe.DEBUG,"Char codes =  "+p.join(",")),xs(s,o,this.cmdHistory)}return h},y.parseBackgroundAttributes=function(s,o){var c;if(!((s===16||s===24)&&o>=32&&o<=47||(s===23||s===31)&&o>=45&&o<=47))return!1;var d={};s===16||s===24?(c=Math.floor((o-32)/2),d.background=QC[c],o%2==1&&(d.background=d.background+"_semi")):o===45?d.background="transparent":(d.foreground="black",o===47&&(d.underline=!0));var h=s<=23?1:2;return this.channels[h].setBkgData(d),xs(s,o,this.cmdHistory),!0},y.reset=function(){for(var s=0;s<Object.keys(this.channels).length;s++){var o=this.channels[s];o&&o.reset()}this.cmdHistory={a:null,b:null}},y.cueSplitAtTime=function(s){for(var o=0;o<this.channels.length;o++){var c=this.channels[o];c&&c.cueSplitAtTime(s)}},T}();function xs(T,y,s){s.a=T,s.b=y}function Gy(T,y,s){return s.a===T&&s.b===y}const Ky=e_;var sc=function(){function T(s,o){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=s,this.trackName=o}var y=T.prototype;return y.dispatchCue=function(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},y.newCue=function(s,o,c){(this.startTime===null||this.startTime>s)&&(this.startTime=s),this.endTime=o,this.screen=c,this.timelineController.createCaptionsTrack(this.trackName)},y.reset=function(){this.cueRanges=[],this.startTime=null},T}();const Th=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;var T=["","lr","rl"],y=["start","middle","end","left","right"];function s(h,u){if(typeof u!="string"||!Array.isArray(h))return!1;var p=u.toLowerCase();return!!~h.indexOf(p)&&p}function o(h){return s(y,h)}function c(h){for(var u=arguments.length,p=new Array(u>1?u-1:0),S=1;S<u;S++)p[S-1]=arguments[S];for(var b=1;b<arguments.length;b++){var k=arguments[b];for(var _ in k)h[_]=k[_]}return h}function d(h,u,p){var S=this,b={enumerable:!0};S.hasBeenReset=!1;var k="",_=!1,D=h,F=u,U=p,Q=null,q="",te=!0,fe="auto",ge="start",pe=50,Te="middle",ze=50,Ve="middle";Object.defineProperty(S,"id",c({},b,{get:function(){return k},set:function(Ae){k=""+Ae}})),Object.defineProperty(S,"pauseOnExit",c({},b,{get:function(){return _},set:function(Ae){_=!!Ae}})),Object.defineProperty(S,"startTime",c({},b,{get:function(){return D},set:function(Ae){if(typeof Ae!="number")throw new TypeError("Start time must be set to a number.");D=Ae,this.hasBeenReset=!0}})),Object.defineProperty(S,"endTime",c({},b,{get:function(){return F},set:function(Ae){if(typeof Ae!="number")throw new TypeError("End time must be set to a number.");F=Ae,this.hasBeenReset=!0}})),Object.defineProperty(S,"text",c({},b,{get:function(){return U},set:function(Ae){U=""+Ae,this.hasBeenReset=!0}})),Object.defineProperty(S,"region",c({},b,{get:function(){return Q},set:function(Ae){Q=Ae,this.hasBeenReset=!0}})),Object.defineProperty(S,"vertical",c({},b,{get:function(){return q},set:function(Ae){var $e=function(Ne){return s(T,Ne)}(Ae);if($e===!1)throw new SyntaxError("An invalid or illegal string was specified.");q=$e,this.hasBeenReset=!0}})),Object.defineProperty(S,"snapToLines",c({},b,{get:function(){return te},set:function(Ae){te=!!Ae,this.hasBeenReset=!0}})),Object.defineProperty(S,"line",c({},b,{get:function(){return fe},set:function(Ae){if(typeof Ae!="number"&&Ae!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");fe=Ae,this.hasBeenReset=!0}})),Object.defineProperty(S,"lineAlign",c({},b,{get:function(){return ge},set:function(Ae){var $e=o(Ae);if(!$e)throw new SyntaxError("An invalid or illegal string was specified.");ge=$e,this.hasBeenReset=!0}})),Object.defineProperty(S,"position",c({},b,{get:function(){return pe},set:function(Ae){if(Ae<0||Ae>100)throw new Error("Position must be between 0 and 100.");pe=Ae,this.hasBeenReset=!0}})),Object.defineProperty(S,"positionAlign",c({},b,{get:function(){return Te},set:function(Ae){var $e=o(Ae);if(!$e)throw new SyntaxError("An invalid or illegal string was specified.");Te=$e,this.hasBeenReset=!0}})),Object.defineProperty(S,"size",c({},b,{get:function(){return ze},set:function(Ae){if(Ae<0||Ae>100)throw new Error("Size must be between 0 and 100.");ze=Ae,this.hasBeenReset=!0}})),Object.defineProperty(S,"align",c({},b,{get:function(){return Ve},set:function(Ae){var $e=o(Ae);if(!$e)throw new SyntaxError("An invalid or illegal string was specified.");Ve=$e,this.hasBeenReset=!0}})),S.displayState=void 0}return d.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},d}();var t_=function(){function T(){}return T.prototype.decode=function(y,s){if(!y)return"";if(typeof y!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(y))},T}();function Wy(T){function y(o,c,d,h){return 3600*(0|o)+60*(0|c)+(0|d)+parseFloat(h||0)}var s=T.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return s?parseFloat(s[2])>59?y(s[2],s[3],0,s[4]):y(s[1],s[2],s[3],s[4]):null}var r_=function(){function T(){this.values=Object.create(null)}var y=T.prototype;return y.set=function(s,o){this.get(s)||o===""||(this.values[s]=o)},y.get=function(s,o,c){return c?this.has(s)?this.values[s]:o[c]:this.has(s)?this.values[s]:o},y.has=function(s){return s in this.values},y.alt=function(s,o,c){for(var d=0;d<c.length;++d)if(o===c[d]){this.set(s,o);break}},y.integer=function(s,o){/^-?\d+$/.test(o)&&this.set(s,parseInt(o,10))},y.percent=function(s,o){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(o)){var c=parseFloat(o);if(c>=0&&c<=100)return this.set(s,c),!0}return!1},T}();function qy(T,y,s,o){var c=o?T.split(o):[T];for(var d in c)if(typeof c[d]=="string"){var h=c[d].split(s);h.length===2&&y(h[0],h[1])}}var wh=new Th(0,0,""),oc=wh.align==="middle"?"middle":"center";function n_(T,y,s){var o=T;function c(){var h=Wy(T);if(h===null)throw new Error("Malformed timestamp: "+o);return T=T.replace(/^[^\sa-zA-Z-]+/,""),h}function d(){T=T.replace(/^\s+/,"")}if(d(),y.startTime=c(),d(),T.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+o);T=T.slice(3),d(),y.endTime=c(),d(),function(h,u){var p=new r_;qy(h,function(k,_){var D;switch(k){case"region":for(var F=s.length-1;F>=0;F--)if(s[F].id===_){p.set(k,s[F].region);break}break;case"vertical":p.alt(k,_,["rl","lr"]);break;case"line":D=_.split(","),p.integer(k,D[0]),p.percent(k,D[0])&&p.set("snapToLines",!1),p.alt(k,D[0],["auto"]),D.length===2&&p.alt("lineAlign",D[1],["start",oc,"end"]);break;case"position":D=_.split(","),p.percent(k,D[0]),D.length===2&&p.alt("positionAlign",D[1],["start",oc,"end","line-left","line-right","auto"]);break;case"size":p.percent(k,_);break;case"align":p.alt(k,_,["start",oc,"end","left","right"])}},/:/,/\s/),u.region=p.get("region",null),u.vertical=p.get("vertical","");var S=p.get("line","auto");S==="auto"&&wh.line===-1&&(S=-1),u.line=S,u.lineAlign=p.get("lineAlign","start"),u.snapToLines=p.get("snapToLines",!0),u.size=p.get("size",100),u.align=p.get("align",oc);var b=p.get("position","auto");b==="auto"&&wh.position===50&&(b=u.align==="start"||u.align==="left"?0:u.align==="end"||u.align==="right"?100:50),u.position=b}(T,y)}function Yy(T){return T.replace(/<br(?: \/)?>/gi,`
`)}var i_=function(){function T(){this.state="INITIAL",this.buffer="",this.decoder=new t_,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var y=T.prototype;return y.parse=function(s){var o=this;function c(){var S=o.buffer,b=0;for(S=Yy(S);b<S.length&&S[b]!=="\r"&&S[b]!==`
`;)++b;var k=S.slice(0,b);return S[b]==="\r"&&++b,S[b]===`
`&&++b,o.buffer=S.slice(b),k}s&&(o.buffer+=o.decoder.decode(s,{stream:!0}));try{var d="";if(o.state==="INITIAL"){if(!/\r\n|\n/.test(o.buffer))return this;var h=(d=c()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!h||!h[0])throw new Error("Malformed WebVTT signature.");o.state="HEADER"}for(var u=!1;o.buffer;){if(!/\r\n|\n/.test(o.buffer))return this;switch(u?u=!1:d=c(),o.state){case"HEADER":/:/.test(d)?qy(d,function(S,b){},/:/):d||(o.state="ID");continue;case"NOTE":d||(o.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(d)){o.state="NOTE";break}if(!d)continue;if(o.cue=new Th(0,0,""),o.state="CUE",d.indexOf("-->")===-1){o.cue.id=d;continue}case"CUE":if(!o.cue){o.state="BADCUE";continue}try{n_(d,o.cue,o.regionList)}catch{o.cue=null,o.state="BADCUE";continue}o.state="CUETEXT";continue;case"CUETEXT":var p=d.indexOf("-->")!==-1;if(!d||p&&(u=!0)){o.oncue&&o.cue&&o.oncue(o.cue),o.cue=null,o.state="ID";continue}if(o.cue===null)continue;o.cue.text&&(o.cue.text+=`
`),o.cue.text+=d;continue;case"BADCUE":d||(o.state="ID")}}}catch{o.state==="CUETEXT"&&o.cue&&o.oncue&&o.oncue(o.cue),o.cue=null,o.state=o.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},y.flush=function(){var s=this;try{if((s.cue||s.state==="HEADER")&&(s.buffer+=`

`,s.parse()),s.state==="INITIAL"||s.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(o){s.onparsingerror&&s.onparsingerror(o)}return s.onflush&&s.onflush(),this},T}(),Qy=m(673),a_=m(524),s_=/\r\n|\n\r|\n|\r/g,kh=function(T,y,s){return s===void 0&&(s=0),T.slice(s,s+y.length)===y},xh=function(T){for(var y=5381,s=T.length;s;)y=33*y^T.charCodeAt(--s);return(y>>>0).toString()};function Ch(T,y,s){return xh(T.toString())+xh(y.toString())+xh(s)}function _h(){return _h=Object.assign?Object.assign.bind():function(T){for(var y=1;y<arguments.length;y++){var s=arguments[y];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(T[o]=s[o])}return T},_h.apply(this,arguments)}var Ah="stpp.ttml.im1t",Xy=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Zy=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,o_={left:"start",center:"center",right:"end",start:"start",end:"end"};function Jy(T,y,s,o,c){var d=(0,Se.findBox)(new Uint8Array(T),["mdat"]);if(d.length!==0){var h=d.map(function(p){return(0,gt.utf8ArrayToStr)(p)}),u=(0,Qy.toTimescaleFromScale)(y,1,s);try{h.forEach(function(p){return o(function(S,b){var k=new DOMParser().parseFromString(S,"text/xml").getElementsByTagName("tt")[0];if(!k)throw new Error("Invalid ttml");var _={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},D=Object.keys(_).reduce(function(te,fe){return te[fe]=k.getAttribute("ttp:"+fe)||_[fe],te},{}),F=k.getAttribute("xml:space")!=="preserve",U=e0(Rh(k,"styling","style")),Q=e0(Rh(k,"layout","region")),q=Rh(k,"body","[begin]");return[].map.call(q,function(te){var fe=t0(te,F);if(!fe||!te.hasAttribute("begin"))return null;var ge=Lh(te.getAttribute("begin"),D),pe=Lh(te.getAttribute("dur"),D),Te=Lh(te.getAttribute("end"),D);if(ge===null)throw r0(te);if(Te===null){if(pe===null)throw r0(te);Te=ge+pe}var ze=new Th(ge-b,Te-b,fe);ze.id=Ch(ze.startTime,ze.endTime,ze.text);var Ve=function(Ne,ct,Pt){var lt="http://www.w3.org/ns/ttml#styling",pt=null,bt=Ne!=null&&Ne.hasAttribute("style")?Ne.getAttribute("style"):null;return bt&&Pt.hasOwnProperty(bt)&&(pt=Pt[bt]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce(function(Rr,cr){var Qt=Ph(ct,lt,cr)||Ph(Ne,lt,cr)||Ph(pt,lt,cr);return Qt&&(Rr[cr]=Qt),Rr},{})}(Q[te.getAttribute("region")],U[te.getAttribute("style")],U),Ae=Ve.textAlign;if(Ae){var $e=o_[Ae];$e&&(ze.lineAlign=$e),ze.align=Ae}return _h(ze,Ve),ze}).filter(function(te){return te!==null})}(p,u))})}catch(p){c(p)}}else c(new Error("Could not parse IMSC1 mdat"))}function Rh(T,y,s){var o=T.getElementsByTagName(y)[0];return o?[].slice.call(o.querySelectorAll(s)):[]}function e0(T){return T.reduce(function(y,s){var o=s.getAttribute("xml:id");return o&&(y[o]=s),y},{})}function t0(T,y){return[].slice.call(T.childNodes).reduce(function(s,o,c){var d;return o.nodeName==="br"&&c?s+`
`:(d=o.childNodes)!==null&&d!==void 0&&d.length?t0(o,y):y?s+o.textContent.trim().replace(/\s+/g," "):s+o.textContent},"")}function Ph(T,y,s){return T&&T.hasAttributeNS(y,s)?T.getAttributeNS(y,s):null}function r0(T){return new Error("Could not parse ttml timestamp "+T)}function Lh(T,y){if(!T)return null;var s=Wy(T);return s===null&&(Xy.test(T)?s=function(o,c){var d=Xy.exec(o),h=(0|d[4])+(0|d[5])/c.subFrameRate;return 3600*(0|d[1])+60*(0|d[2])+(0|d[3])+h/c.frameRate}(T,y):Zy.test(T)&&(s=function(o,c){var d=Zy.exec(o),h=Number(d[1]);switch(d[2]){case"h":return 3600*h;case"m":return 60*h;case"ms":return 1e3*h;case"f":return h/c.frameRate;case"t":return h/c.tickRate}return h}(T,y))),s}var l_=function(){function T(s){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=s,this.config=s.config,this.Cues=s.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var o=new sc(this,"textTrack1"),c=new sc(this,"textTrack2"),d=new sc(this,"textTrack3"),h=new sc(this,"textTrack4");this.cea608Parser1=new Ky(1,o,c),this.cea608Parser2=new Ky(3,d,h)}s.on(v.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),s.on(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),s.on(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),s.on(v.Events.MANIFEST_LOADED,this.onManifestLoaded,this),s.on(v.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),s.on(v.Events.FRAG_LOADING,this.onFragLoading,this),s.on(v.Events.FRAG_LOADED,this.onFragLoaded,this),s.on(v.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),s.on(v.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),s.on(v.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),s.on(v.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),s.on(v.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var y=T.prototype;return y.destroy=function(){var s=this.hls;s.off(v.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),s.off(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),s.off(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),s.off(v.Events.MANIFEST_LOADED,this.onManifestLoaded,this),s.off(v.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),s.off(v.Events.FRAG_LOADING,this.onFragLoading,this),s.off(v.Events.FRAG_LOADED,this.onFragLoaded,this),s.off(v.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),s.off(v.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),s.off(v.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),s.off(v.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),s.off(v.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},y.addCues=function(s,o,c,d,h){for(var u,p,S,b,k=!1,_=h.length;_--;){var D=h[_],F=(u=D[0],p=D[1],S=o,b=c,Math.min(p,b)-Math.max(u,S));if(F>=0&&(D[0]=Math.min(D[0],o),D[1]=Math.max(D[1],c),k=!0,F/(c-o)>.5))return}if(k||h.push([o,c]),this.config.renderTextTracksNatively){var U=this.captionsTracks[s];this.Cues.newCue(U,o,c,d)}else{var Q=this.Cues.newCue(null,o,c,d);this.hls.trigger(v.Events.CUES_PARSED,{type:"captions",cues:Q,track:s})}},y.onInitPtsFound=function(s,o){var c=this,d=o.frag,h=o.id,u=o.initPTS,p=o.timescale,S=this.unparsedVttFrags;h==="main"&&(this.initPTS[d.cc]=u,this.timescale[d.cc]=p),S.length&&(this.unparsedVttFrags=[],S.forEach(function(b){c.onFragLoaded(v.Events.FRAG_LOADED,b)}))},y.getExistingTrack=function(s){var o=this.media;if(o)for(var c=0;c<o.textTracks.length;c++){var d=o.textTracks[c];if(d[s])return d}return null},y.createCaptionsTrack=function(s){this.config.renderTextTracksNatively?this.createNativeTrack(s):this.createNonNativeTrack(s)},y.createNativeTrack=function(s){if(!this.captionsTracks[s]){var o=this.captionsProperties,c=this.captionsTracks,d=this.media,h=o[s],u=h.label,p=h.languageCode,S=this.getExistingTrack(s);if(S)c[s]=S,Tt(c[s]),dt(c[s],d);else{var b=this.createTextTrack("captions",u,p);b&&(b[s]=!0,c[s]=b)}}},y.createNonNativeTrack=function(s){if(!this.nonNativeCaptionsTracks[s]){var o=this.captionsProperties[s];if(o){var c={_id:s,label:o.label,kind:"captions",default:!!o.media&&!!o.media.default,closedCaptions:o.media};this.nonNativeCaptionsTracks[s]=c,this.hls.trigger(v.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[c]})}}},y.createTextTrack=function(s,o,c){var d=this.media;if(d)return d.addTextTrack(s,o,c)},y.onMediaAttaching=function(s,o){this.media=o.media,this._cleanTracks()},y.onMediaDetaching=function(){var s=this.captionsTracks;Object.keys(s).forEach(function(o){Tt(s[o]),delete s[o]}),this.nonNativeCaptionsTracks={}},y.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},y._cleanTracks=function(){var s=this.media;if(s){var o=s.textTracks;if(o)for(var c=0;c<o.length;c++)Tt(o[c])}},y.onSubtitleTracksUpdated=function(s,o){var c=this;this.textTracks=[];var d=o.subtitleTracks||[],h=d.some(function(b){return b.textCodec===Ah});if(this.config.enableWebVTT||h&&this.config.enableIMSC1){var u=this.tracks&&d&&this.tracks.length===d.length;if(this.tracks=d||[],this.config.renderTextTracksNatively){var p=this.media?this.media.textTracks:[];this.tracks.forEach(function(b,k){var _;if(k<p.length){for(var D=null,F=0;F<p.length;F++)if(u_(p[F],b)){D=p[F];break}D&&(_=D)}if(_)Tt(_);else{var U=c._captionsOrSubtitlesFromCharacteristics(b);(_=c.createTextTrack(U,b.name,b.lang))&&(_.mode="disabled")}_&&(_.groupId=b.groupId,c.textTracks.push(_))})}else if(!u&&this.tracks&&this.tracks.length){var S=this.tracks.map(function(b){return{label:b.name,kind:b.type.toLowerCase(),default:b.default,subtitleTrack:b}});this.hls.trigger(v.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:S})}}},y._captionsOrSubtitlesFromCharacteristics=function(s){var o;if((o=s.attrs)!==null&&o!==void 0&&o.CHARACTERISTICS){var c=/transcribes-spoken-dialog/gi.test(s.attrs.CHARACTERISTICS),d=/describes-music-and-sound/gi.test(s.attrs.CHARACTERISTICS);if(c&&d)return"captions"}return"subtitles"},y.onManifestLoaded=function(s,o){var c=this;this.config.enableCEA708Captions&&o.captions&&o.captions.forEach(function(d){var h=/(?:CC|SERVICE)([1-4])/.exec(d.instreamId);if(h){var u="textTrack"+h[1],p=c.captionsProperties[u];p&&(p.label=d.name,d.lang&&(p.languageCode=d.lang),p.media=d)}})},y.closedCaptionsForLevel=function(s){var o=this.hls.levels[s.level];return o==null?void 0:o.attrs["CLOSED-CAPTIONS"]},y.onFragLoading=function(s,o){var c=this.cea608Parser1,d=this.cea608Parser2,h=this.lastSn,u=this.lastPartIndex;if(this.enabled&&c&&d&&o.frag.type===oe.PlaylistLevelType.MAIN){var p,S,b=o.frag.sn,k=(p=o==null||(S=o.part)===null||S===void 0?void 0:S.index)!=null?p:-1;b===h+1||b===h&&k===u+1||(c.reset(),d.reset()),this.lastSn=b,this.lastPartIndex=k}},y.onFragLoaded=function(s,o){var c=o.frag,d=o.payload,h=this.initPTS,u=this.unparsedVttFrags;if(c.type===oe.PlaylistLevelType.SUBTITLE)if(d.byteLength){if(!(0,w.isFiniteNumber)(h[c.cc]))return u.push(o),void(h.length&&this.hls.trigger(v.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:c,error:new Error("Missing initial subtitle PTS")}));var p=c.decryptdata,S="stats"in o;if(p==null||!p.encrypted||S){var b=this.tracks[c.level],k=this.vttCCs;k[c.cc]||(k[c.cc]={start:c.start,prevCC:this.prevCC,new:!0},this.prevCC=c.cc),b&&b.textCodec===Ah?this._parseIMSC1(c,d):this._parseVTTs(c,d,k)}}else this.hls.trigger(v.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:c,error:new Error("Empty subtitle payload")})},y._parseIMSC1=function(s,o){var c=this,d=this.hls;Jy(o,this.initPTS[s.cc],this.timescale[s.cc],function(h){c._appendCues(h,s.level),d.trigger(v.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:s})},function(h){C.logger.log("Failed to parse IMSC1: "+h),d.trigger(v.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:s,error:h})})},y._parseVTTs=function(s,o,c){var d,h=this,u=this.hls;(function(p,S,b,k,_,D,F,U){var Q,q=new i_,te=(0,gt.utf8ArrayToStr)(new Uint8Array(p)).trim().replace(s_,`
`).split(`
`),fe=[],ge=(0,Qy.toMpegTsClockFromTimescale)(S,b),pe="00:00.000",Te=0,ze=0,Ve=!0;q.oncue=function(Ae){var $e=k[_],Ne=k.ccOffset,ct=(Te-ge)/9e4;$e!=null&&$e.new&&(ze!==void 0?Ne=k.ccOffset=$e.start:function(bt,Rr,cr){var Qt=bt[Rr],Jt=bt[Qt.prevCC];if(!Jt||!Jt.new&&Qt.new)return bt.ccOffset=bt.presentationOffset=Qt.start,void(Qt.new=!1);for(;(yi=Jt)!==null&&yi!==void 0&&yi.new;){var yi;bt.ccOffset+=Qt.start-Jt.start,Qt.new=!1,Jt=bt[(Qt=Jt).prevCC]}bt.presentationOffset=cr}(k,_,ct)),ct&&(Ne=ct-k.presentationOffset);var Pt=Ae.endTime-Ae.startTime,lt=(0,a_.normalizePts)(9e4*(Ae.startTime+Ne-ze),9e4*D)/9e4;Ae.startTime=Math.max(lt,0),Ae.endTime=Math.max(lt+Pt,0);var pt=Ae.text.trim();Ae.text=decodeURIComponent(encodeURIComponent(pt)),Ae.id||(Ae.id=Ch(Ae.startTime,Ae.endTime,pt)),Ae.endTime>0&&fe.push(Ae)},q.onparsingerror=function(Ae){Q=Ae},q.onflush=function(){Q?U(Q):F(fe)},te.forEach(function(Ae){if(Ve){if(kh(Ae,"X-TIMESTAMP-MAP=")){Ve=!1,Ae.slice(16).split(",").forEach(function($e){kh($e,"LOCAL:")?pe=$e.slice(6):kh($e,"MPEGTS:")&&(Te=parseInt($e.slice(7)))});try{ze=function($e){var Ne=parseInt($e.slice(-3)),ct=parseInt($e.slice(-6,-4)),Pt=parseInt($e.slice(-9,-7)),lt=$e.length>9?parseInt($e.substring(0,$e.indexOf(":"))):0;if(!((0,w.isFiniteNumber)(Ne)&&(0,w.isFiniteNumber)(ct)&&(0,w.isFiniteNumber)(Pt)&&(0,w.isFiniteNumber)(lt)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+$e);return Ne+=1e3*ct,(Ne+=6e4*Pt)+36e5*lt}(pe)/1e3}catch($e){Q=$e}return}Ae===""&&(Ve=!1)}q.parse(Ae+`
`)}),q.flush()})((d=s.initSegment)!==null&&d!==void 0&&d.data?(0,Se.appendUint8Array)(s.initSegment.data,new Uint8Array(o)):o,this.initPTS[s.cc],this.timescale[s.cc],c,s.cc,s.start,function(p){h._appendCues(p,s.level),u.trigger(v.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:s})},function(p){h._fallbackToIMSC1(s,o),C.logger.log("Failed to parse VTT cue: "+p),u.trigger(v.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:s,error:p})})},y._fallbackToIMSC1=function(s,o){var c=this,d=this.tracks[s.level];d.textCodec||Jy(o,this.initPTS[s.cc],this.timescale[s.cc],function(){d.textCodec=Ah,c._parseIMSC1(s,o)},function(){d.textCodec="wvtt"})},y._appendCues=function(s,o){var c=this.hls;if(this.config.renderTextTracksNatively){var d=this.textTracks[o];if(!d||d.mode==="disabled")return;s.forEach(function(p){return yt(d,p)})}else{var h=this.tracks[o];if(!h)return;var u=h.default?"default":"subtitles"+o;c.trigger(v.Events.CUES_PARSED,{type:"subtitles",cues:s,track:u})}},y.onFragDecrypted=function(s,o){var c=o.frag;if(c.type===oe.PlaylistLevelType.SUBTITLE){if(!(0,w.isFiniteNumber)(this.initPTS[c.cc]))return void this.unparsedVttFrags.push(o);this.onFragLoaded(v.Events.FRAG_LOADED,o)}},y.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},y.onFragParsingUserdata=function(s,o){var c=this.cea608Parser1,d=this.cea608Parser2;if(this.enabled&&c&&d){var h=o.frag,u=o.samples;if(h.type!==oe.PlaylistLevelType.MAIN||this.closedCaptionsForLevel(h)!=="NONE")for(var p=0;p<u.length;p++){var S=u[p].bytes;if(S){var b=this.extractCea608Data(S);c.addData(u[p].pts,b[0]),d.addData(u[p].pts,b[1])}}}},y.onBufferFlushing=function(s,o){var c=o.startOffset,d=o.endOffset,h=o.endOffsetSubtitles,u=o.type,p=this.media;if(p&&!(p.currentTime<d)){if(!u||u==="video"){var S=this.captionsTracks;Object.keys(S).forEach(function(k){return Rt(S[k],c,d)})}if(this.config.renderTextTracksNatively&&c===0&&h!==void 0){var b=this.textTracks;Object.keys(b).forEach(function(k){return Rt(b[k],c,h)})}}},y.extractCea608Data=function(s){for(var o=[[],[]],c=31&s[0],d=2,h=0;h<c;h++){var u=s[d++],p=127&s[d++],S=127&s[d++];if((p!==0||S!==0)&&4&u){var b=3&u;b!==0&&b!==1||(o[b].push(p),o[b].push(S))}}return o},T}();function u_(T,y){return T&&T.label===y.name&&!(T.textTrack1||T.textTrack2)}function c_(T,y){for(var s=0;s<y.length;s++){var o=y[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(T,typeof(c=function(d,h){if(typeof d!="object"||d===null)return d;var u=d[Symbol.toPrimitive];if(u!==void 0){var p=u.call(d,h);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(o.key,"string"))=="symbol"?c:String(c),o)}var c}const d_=function(){function T(c){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=c,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var y,s,o=T.prototype;return o.setStreamController=function(c){this.streamController=c},o.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},o.registerListeners=function(){var c=this.hls;c.on(v.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),c.on(v.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),c.on(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),c.on(v.Events.BUFFER_CODECS,this.onBufferCodecs,this),c.on(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},o.unregisterListener=function(){var c=this.hls;c.off(v.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),c.off(v.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),c.off(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),c.off(v.Events.BUFFER_CODECS,this.onBufferCodecs,this),c.off(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},o.onFpsDropLevelCapping=function(c,d){T.isLevelAllowed(d.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(d.droppedLevel)},o.onMediaAttaching=function(c,d){this.media=d.media instanceof HTMLVideoElement?d.media:null,this.clientRect=null},o.onManifestParsed=function(c,d){var h=this.hls;this.restrictedLevels=[],this.firstLevel=d.firstLevel,h.config.capLevelToPlayerSize&&d.video&&this.startCapping()},o.onBufferCodecs=function(c,d){this.hls.config.capLevelToPlayerSize&&d.video&&this.startCapping()},o.onMediaDetaching=function(){this.stopCapping()},o.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var c=this.hls.levels;if(c.length){var d=this.hls;d.autoLevelCapping=this.getMaxLevel(c.length-1),d.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=d.autoLevelCapping}}},o.getMaxLevel=function(c){var d=this,h=this.hls.levels;if(!h.length)return-1;var u=h.filter(function(p,S){return T.isLevelAllowed(S,d.restrictedLevels)&&S<=c});return this.clientRect=null,T.getMaxLevelByMediaSize(u,this.mediaWidth,this.mediaHeight)},o.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},o.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},o.getDimensions=function(){if(this.clientRect)return this.clientRect;var c=this.media,d={width:0,height:0};if(c){var h=c.getBoundingClientRect();d.width=h.width,d.height=h.height,d.width||d.height||(d.width=h.right-h.left||c.width||0,d.height=h.bottom-h.top||c.height||0)}return this.clientRect=d,d},T.isLevelAllowed=function(c,d){return d===void 0&&(d=[]),d.indexOf(c)===-1},T.getMaxLevelByMediaSize=function(c,d,h){if(!c||!c.length)return-1;for(var u,p,S=c.length-1,b=0;b<c.length;b+=1){var k=c[b];if((k.width>=d||k.height>=h)&&(u=k,!(p=c[b+1])||u.width!==p.width||u.height!==p.height)){S=b;break}}return S},y=T,(s=[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var c=1;if(!this.hls.config.ignoreDevicePixelRatio)try{c=self.devicePixelRatio}catch{}return c}}])&&c_(y.prototype,s),Object.defineProperty(y,"prototype",{writable:!1}),T}(),f_=function(){function T(s){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=s,this.registerListeners()}var y=T.prototype;return y.setStreamController=function(s){this.streamController=s},y.registerListeners=function(){this.hls.on(v.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},y.unregisterListeners=function(){this.hls.off(v.Events.MEDIA_ATTACHING,this.onMediaAttaching)},y.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},y.onMediaAttaching=function(s,o){var c=this.hls.config;if(c.capLevelOnFPSDrop){var d=o.media instanceof self.HTMLVideoElement?o.media:null;this.media=d,d&&typeof d.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),c.fpsDroppedMonitoringPeriod)}},y.checkFPS=function(s,o,c){var d=performance.now();if(o){if(this.lastTime){var h=d-this.lastTime,u=c-this.lastDroppedFrames,p=o-this.lastDecodedFrames,S=1e3*u/h,b=this.hls;if(b.trigger(v.Events.FPS_DROP,{currentDropped:u,currentDecoded:p,totalDroppedFrames:c}),S>0&&u>b.config.fpsDroppedMonitoringThreshold*p){var k=b.currentLevel;C.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+k),k>0&&(b.autoLevelCapping===-1||b.autoLevelCapping>=k)&&(k-=1,b.trigger(v.Events.FPS_DROP_LEVEL_CAPPING,{level:k,droppedLevel:b.currentLevel}),b.autoLevelCapping=k,this.streamController.nextLevelSwitch())}}this.lastTime=d,this.lastDroppedFrames=c,this.lastDecodedFrames=o}},y.checkFPSInterval=function(){var s=this.media;if(s)if(this.isVideoPlaybackQualityAvailable){var o=s.getVideoPlaybackQuality();this.checkFPS(s,o.totalVideoFrames,o.droppedVideoFrames)}else this.checkFPS(s,s.webkitDecodedFrameCount,s.webkitDroppedFrameCount)},T}();var Ba=m(300);function Dh(T){var y=typeof Map=="function"?new Map:void 0;return Dh=function(s){if(s===null||(o=s,Function.toString.call(o).indexOf("[native code]")===-1))return s;var o;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(y!==void 0){if(y.has(s))return y.get(s);y.set(s,c)}function c(){return Ih(s,arguments,Oh(this).constructor)}return c.prototype=Object.create(s.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),qo(c,s)},Dh(T)}function Ih(T,y,s){return Ih=h_()?Reflect.construct.bind():function(o,c,d){var h=[null];h.push.apply(h,c);var u=new(Function.bind.apply(o,h));return d&&qo(u,d.prototype),u},Ih.apply(null,arguments)}function h_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qo(T,y){return qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},qo(T,y)}function Oh(T){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},Oh(T)}var lc="[eme]",n0=function(){function T(s){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=T.CDMCleanupPromise?[T.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=C.logger.debug.bind(C.logger,lc),this.log=C.logger.log.bind(C.logger,lc),this.warn=C.logger.warn.bind(C.logger,lc),this.error=C.logger.error.bind(C.logger,lc),this.hls=s,this.config=s.config,this.registerListeners()}var y=T.prototype;return y.destroy=function(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null},y.registerListeners=function(){this.hls.on(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(v.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(v.Events.MANIFEST_LOADED,this.onManifestLoaded,this)},y.unregisterListeners=function(){this.hls.off(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(v.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(v.Events.MANIFEST_LOADED,this.onManifestLoaded,this)},y.getLicenseServerUrl=function(s){var o=this.config,c=o.drmSystems,d=o.widevineLicenseUrl,h=c[s];if(h)return h.licenseUrl;if(s===B.WIDEVINE&&d)return d;throw new Error('no license server URL configured for key-system "'+s+'"')},y.getServerCertificateUrl=function(s){var o=this.config.drmSystems[s];if(o)return o.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'+s+'"]')},y.attemptKeySystemAccess=function(s){var o=this,c=this.hls.levels,d=function(p,S,b){return!!p&&b.indexOf(p)===S},h=c.map(function(p){return p.audioCodec}).filter(d),u=c.map(function(p){return p.videoCodec}).filter(d);return h.length+u.length===0&&u.push("avc1.42e01e"),new Promise(function(p,S){(function b(k){var _=k.shift();o.getMediaKeysPromise(_,h,u).then(function(D){return p({keySystem:_,mediaKeys:D})}).catch(function(D){k.length?b(k):S(D instanceof Bn?D:new Bn({type:x.ErrorTypes.KEY_SYSTEM_ERROR,details:x.ErrorDetails.KEY_SYSTEM_NO_ACCESS,error:D,fatal:!0},D.message))})})(s)})},y.requestMediaKeySystemAccess=function(s,o){var c=this.config.requestMediaKeySystemAccessFunc;if(typeof c!="function"){var d="Configured requestMediaKeySystemAccess is not a function "+c;return Ce===null&&self.location.protocol==="http:"&&(d="navigator.requestMediaKeySystemAccess is not available over insecure protocol "+location.protocol),Promise.reject(new Error(d))}return c(s,o)},y.getMediaKeysPromise=function(s,o,c){var d=this,h=function(b,k,_,D){var F;switch(b){case B.FAIRPLAY:F=["cenc","sinf"];break;case B.WIDEVINE:case B.PLAYREADY:F=["cenc"];break;case B.CLEARKEY:F=["cenc","keyids"];break;default:throw new Error("Unknown key-system: "+b)}return function(U,Q,q,te){return[{initDataTypes:U,persistentState:te.persistentState||"not-allowed",distinctiveIdentifier:te.distinctiveIdentifier||"not-allowed",sessionTypes:te.sessionTypes||[te.sessionType||"temporary"],audioCapabilities:Q.map(function(fe){return{contentType:'audio/mp4; codecs="'+fe+'"',robustness:te.audioRobustness||"",encryptionScheme:te.audioEncryptionScheme||null}}),videoCapabilities:q.map(function(fe){return{contentType:'video/mp4; codecs="'+fe+'"',robustness:te.videoRobustness||"",encryptionScheme:te.videoEncryptionScheme||null}})}]}(F,k,_,D)}(s,o,c,this.config.drmSystemOptions),u=this.keySystemAccessPromises[s],p=u==null?void 0:u.keySystemAccess;if(!p){this.log('Requesting encrypted media "'+s+'" key-system access with config: '+JSON.stringify(h)),p=this.requestMediaKeySystemAccess(s,h);var S=this.keySystemAccessPromises[s]={keySystemAccess:p};return p.catch(function(b){d.log('Failed to obtain access to key-system "'+s+'": '+b)}),p.then(function(b){d.log('Access for key-system "'+b.keySystem+'" obtained');var k=d.fetchServerCertificate(s);return d.log('Create media-keys for "'+s+'"'),S.mediaKeys=b.createMediaKeys().then(function(_){return d.log('Media-keys created for "'+s+'"'),k.then(function(D){return D?d.setMediaKeysServerCertificate(_,s,D):_})}),S.mediaKeys.catch(function(_){d.error('Failed to create media-keys for "'+s+'"}: '+_)}),S.mediaKeys})}return p.then(function(){return u.mediaKeys})},y.createMediaKeySessionContext=function(s){var o=s.decryptdata,c=s.keySystem,d=s.mediaKeys;this.log('Creating key-system session "'+c+'" keyId: '+Ba.default.hexDump(o.keyId||[]));var h=d.createSession(),u={decryptdata:o,keySystem:c,mediaKeys:d,mediaKeysSession:h,keyStatus:"status-pending"};return this.mediaKeySessions.push(u),u},y.renewKeySession=function(s){var o=s.decryptdata;if(o.pssh){var c=this.createMediaKeySessionContext(s),d=this.getKeyIdString(o);this.keyIdToKeySessionPromise[d]=this.generateRequestWithPreferredKeySession(c,"cenc",o.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(s)},y.getKeyIdString=function(s){if(!s)throw new Error("Could not read keyId of undefined decryptdata");if(s.keyId===null)throw new Error("keyId is null");return Ba.default.hexDump(s.keyId)},y.updateKeySession=function(s,o){var c,d=s.mediaKeysSession;return this.log('Updating key-session "'+d.sessionId+'" for keyID '+Ba.default.hexDump(((c=s.decryptdata)===null||c===void 0?void 0:c.keyId)||[])+`
      } (data length: `+(o&&o.byteLength)+")"),d.update(o)},y.selectKeySystemFormat=function(s){var o=Object.keys(s.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: "+s.sn+" "+s.type+": "+s.level+") key formats "+o.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(o)),this.keyFormatPromise},y.getKeyFormatPromise=function(s){var o=this;return new Promise(function(c,d){var h=ue(o.config),u=s.map(Z).filter(function(p){return!!p&&h.indexOf(p)!==-1});return o.getKeySystemSelectionPromise(u).then(function(p){var S=p.keySystem,b=G(S);b?c(b):d(new Error('Unable to find format for key-system "'+S+'"'))}).catch(d)})},y.loadKey=function(s){var o=this,c=s.keyInfo.decryptdata,d=this.getKeyIdString(c),h="(keyId: "+d+' format: "'+c.keyFormat+'" method: '+c.method+" uri: "+c.uri+")";this.log("Starting session for key "+h);var u=this.keyIdToKeySessionPromise[d];return u||(u=this.keyIdToKeySessionPromise[d]=this.getKeySystemForKeyPromise(c).then(function(p){var S=p.keySystem,b=p.mediaKeys;return o.throwIfDestroyed(),o.log("Handle encrypted media sn: "+s.frag.sn+" "+s.frag.type+": "+s.frag.level+" using key "+h),o.attemptSetMediaKeys(S,b).then(function(){o.throwIfDestroyed();var k=o.createMediaKeySessionContext({keySystem:S,mediaKeys:b,decryptdata:c});return o.generateRequestWithPreferredKeySession(k,"cenc",c.pssh,"playlist-key")})})).catch(function(p){return o.handleError(p)}),u},y.throwIfDestroyed=function(s){if(!this.hls)throw new Error("invalid state")},y.handleError=function(s){this.hls&&(this.error(s.message),s instanceof Bn?this.hls.trigger(v.Events.ERROR,s.data):this.hls.trigger(v.Events.ERROR,{type:x.ErrorTypes.KEY_SYSTEM_ERROR,details:x.ErrorDetails.KEY_SYSTEM_NO_KEYS,error:s,fatal:!0}))},y.getKeySystemForKeyPromise=function(s){var o=this.getKeyIdString(s),c=this.keyIdToKeySessionPromise[o];if(!c){var d=Z(s.keyFormat),h=d?[d]:ue(this.config);return this.attemptKeySystemAccess(h)}return c},y.getKeySystemSelectionPromise=function(s){if(s.length||(s=ue(this.config)),s.length===0)throw new Bn({type:x.ErrorTypes.KEY_SYSTEM_ERROR,details:x.ErrorDetails.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options "+JSON.stringify({drmSystems:this.config.drmSystems}));return this.attemptKeySystemAccess(s)},y._onMediaEncrypted=function(s){var o=this,c=s.initDataType,d=s.initData;if(this.debug('"'+s.type+'" event: init data type: "'+c+'"'),d!==null){var h,u;if(c==="sinf"&&this.config.drmSystems[B.FAIRPLAY]){var p=(0,Se.bin2str)(new Uint8Array(d));try{var S=ie(JSON.parse(p).sinf),b=(0,Se.parseSinf)(new Uint8Array(S));if(!b)return;h=b.subarray(8,24),u=B.FAIRPLAY}catch{return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{var k=(0,Se.parsePssh)(d);if(k===null)return;k.version===0&&k.systemId===ce.WIDEVINE&&k.data&&(h=k.data.subarray(8,24)),u=function(fe){if(fe===ce.WIDEVINE)return B.WIDEVINE}(k.systemId)}if(u&&h){for(var _=Ba.default.hexDump(h),D=this.keyIdToKeySessionPromise,F=this.mediaKeySessions,U=D[_],Q=function(fe){var ge=F[fe],pe=ge.decryptdata;if(pe.pssh||!pe.keyId)return"continue";var Te=Ba.default.hexDump(pe.keyId);return _===Te||pe.uri.replace(/-/g,"").indexOf(_)!==-1?(U=D[Te],delete D[Te],pe.pssh=new Uint8Array(d),pe.keyId=h,U=D[_]=U.then(function(){return o.generateRequestWithPreferredKeySession(ge,c,d,"encrypted-event-key-match")}),"break"):void 0},q=0;q<F.length;q++){var te=Q(q);if(te!=="continue"&&te==="break")break}U||(U=D[_]=this.getKeySystemSelectionPromise([u]).then(function(fe){var ge,pe=fe.keySystem,Te=fe.mediaKeys;o.throwIfDestroyed();var ze=new be("ISO-23001-7",_,(ge=G(pe))!=null?ge:"");return ze.pssh=new Uint8Array(d),ze.keyId=h,o.attemptSetMediaKeys(pe,Te).then(function(){o.throwIfDestroyed();var Ve=o.createMediaKeySessionContext({decryptdata:ze,keySystem:pe,mediaKeys:Te});return o.generateRequestWithPreferredKeySession(Ve,c,d,"encrypted-event-no-match")})})),U.catch(function(fe){return o.handleError(fe)})}}},y._onWaitingForKey=function(s){this.log('"'+s.type+'" event')},y.attemptSetMediaKeys=function(s,o){var c=this,d=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'+s+'"');var h=Promise.all(d).then(function(){if(!c.media)throw new Error("Attempted to set mediaKeys without media element attached");return c.media.setMediaKeys(o)});return this.setMediaKeysQueue.push(h),h.then(function(){c.log('Media-keys set for "'+s+'"'),d.push(h),c.setMediaKeysQueue=c.setMediaKeysQueue.filter(function(u){return d.indexOf(u)===-1})})},y.generateRequestWithPreferredKeySession=function(s,o,c,d){var h,u,p=this,S=(h=this.config.drmSystems)===null||h===void 0||(u=h[s.keySystem])===null||u===void 0?void 0:u.generateRequest;if(S)try{var b=S.call(this.hls,o,c,s);if(!b)throw new Error("Invalid response from configured generateRequest filter");o=b.initDataType,c=s.decryptdata.pssh=b.initData?new Uint8Array(b.initData):null}catch(U){var k;if(this.warn(U.message),(k=this.hls)!==null&&k!==void 0&&k.config.debug)throw U}if(c===null)return this.log('Skipping key-session request for "'+d+'" (no initData)'),Promise.resolve(s);var _=this.getKeyIdString(s.decryptdata);this.log('Generating key-session request for "'+d+'": '+_+" (init data type: "+o+" length: "+(c?c.byteLength:null)+")");var D=new(hh());s.mediaKeysSession.onmessage=function(U){var Q=s.mediaKeysSession;if(Q){var q=U.messageType,te=U.message;p.log('"'+q+'" message event for session "'+Q.sessionId+'" message size: '+te.byteLength),q==="license-request"||q==="license-renewal"?p.renewLicense(s,te).catch(function(fe){p.handleError(fe),D.emit("error",fe)}):q==="license-release"?s.keySystem===B.FAIRPLAY&&(p.updateKeySession(s,N("acknowledged")),p.removeSession(s)):p.warn('unhandled media key message type "'+q+'"')}else D.emit("error",new Error("invalid state"))},s.mediaKeysSession.onkeystatuseschange=function(U){if(s.mediaKeysSession){p.onKeyStatusChange(s);var Q=s.keyStatus;D.emit("keyStatus",Q),Q==="expired"&&(p.warn(s.keySystem+" expired for key "+_),p.renewKeySession(s))}else D.emit("error",new Error("invalid state"))};var F=new Promise(function(U,Q){D.on("error",Q),D.on("keyStatus",function(q){q.startsWith("usable")?U():q==="output-restricted"?Q(new Bn({type:x.ErrorTypes.KEY_SYSTEM_ERROR,details:x.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):q==="internal-error"?Q(new Bn({type:x.ErrorTypes.KEY_SYSTEM_ERROR,details:x.ErrorDetails.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'+q+'"')):q==="expired"?Q(new Error("key expired while generating request")):p.warn('unhandled key status change "'+q+'"')})});return s.mediaKeysSession.generateRequest(o,c).then(function(){var U;p.log('Request generated for key-session "'+((U=s.mediaKeysSession)===null||U===void 0?void 0:U.sessionId)+'" keyId: '+_)}).catch(function(U){throw new Bn({type:x.ErrorTypes.KEY_SYSTEM_ERROR,details:x.ErrorDetails.KEY_SYSTEM_NO_SESSION,error:U,fatal:!1},"Error generating key-session request: "+U)}).then(function(){return F}).catch(function(U){throw D.removeAllListeners(),p.removeSession(s),U}).then(function(){return D.removeAllListeners(),s})},y.onKeyStatusChange=function(s){var o=this;s.mediaKeysSession.keyStatuses.forEach(function(c,d){o.log('key status change "'+c+'" for keyStatuses keyId: '+Ba.default.hexDump("buffer"in d?new Uint8Array(d.buffer,d.byteOffset,d.byteLength):new Uint8Array(d))+" session keyId: "+Ba.default.hexDump(new Uint8Array(s.decryptdata.keyId||[]))+" uri: "+s.decryptdata.uri),s.keyStatus=c})},y.fetchServerCertificate=function(s){var o=this;return new Promise(function(c,d){var h=o.getServerCertificateUrl(s);if(!h)return c();o.log('Fetching serverCertificate for "'+s+'"');var u=new XMLHttpRequest;u.open("GET",h,!0),u.responseType="arraybuffer",u.onreadystatechange=function(){u.readyState===XMLHttpRequest.DONE&&(u.status===200?c(u.response):d(new Bn({type:x.ErrorTypes.KEY_SYSTEM_ERROR,details:x.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:u},'"'+s+'" certificate request XHR failed ('+h+"). Status: "+u.status+" ("+u.statusText+")")))},u.send()})},y.setMediaKeysServerCertificate=function(s,o,c){var d=this;return new Promise(function(h,u){s.setServerCertificate(c).then(function(p){d.log("setServerCertificate "+(p?"success":"not supported by CDM")+" ("+(c==null?void 0:c.byteLength)+') on "'+o+'"'),h(s)}).catch(function(p){u(new Bn({type:x.ErrorTypes.KEY_SYSTEM_ERROR,details:x.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:p,fatal:!0},p.message))})})},y.renewLicense=function(s,o){var c=this;return this.requestLicense(s,new Uint8Array(o)).then(function(d){return c.updateKeySession(s,new Uint8Array(d)).catch(function(h){throw new Bn({type:x.ErrorTypes.KEY_SYSTEM_ERROR,details:x.ErrorDetails.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:h,fatal:!0},h.message)})})},y.setupLicenseXHR=function(s,o,c,d){var h=this,u=this.config.licenseXhrSetup;return u?Promise.resolve().then(function(){if(!c.decryptdata)throw new Error("Key removed");return u.call(h.hls,s,o,c,d)}).catch(function(p){if(!c.decryptdata)throw p;return s.open("POST",o,!0),u.call(h.hls,s,o,c,d)}).then(function(p){return s.readyState||s.open("POST",o,!0),{xhr:s,licenseChallenge:p||d}}):(s.open("POST",o,!0),Promise.resolve({xhr:s,licenseChallenge:d}))},y.requestLicense=function(s,o){var c=this;return new Promise(function(d,h){var u=c.getLicenseServerUrl(s.keySystem);c.log("Sending license request to URL: "+u);var p=new XMLHttpRequest;p.responseType="arraybuffer",p.onreadystatechange=function(){if(!c.hls||!s.mediaKeysSession)return h(new Error("invalid state"));if(p.readyState===4)if(p.status===200){c._requestLicenseFailureCount=0;var S=p.response;c.log("License received "+(S instanceof ArrayBuffer?S.byteLength:S));var b=c.config.licenseResponseCallback;if(b)try{S=b.call(c.hls,p,u,s)}catch(_){c.error(_)}d(S)}else if(c._requestLicenseFailureCount++,c._requestLicenseFailureCount>3||p.status>=400&&p.status<500)h(new Bn({type:x.ErrorTypes.KEY_SYSTEM_ERROR,details:x.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:p},"License Request XHR failed ("+u+"). Status: "+p.status+" ("+p.statusText+")"));else{var k=3-c._requestLicenseFailureCount+1;c.warn("Retrying license request, "+k+" attempts left"),c.requestLicense(s,o).then(d,h)}},s.licenseXhr&&s.licenseXhr.readyState!==XMLHttpRequest.DONE&&s.licenseXhr.abort(),s.licenseXhr=p,c.setupLicenseXHR(p,u,s,o).then(function(S){var b=S.xhr,k=S.licenseChallenge;b.send(k)})})},y.onMediaAttached=function(s,o){if(this.config.emeEnabled){var c=o.media;this.media=c,c.addEventListener("encrypted",this.onMediaEncrypted),c.addEventListener("waitingforkey",this.onWaitingForKey)}},y.onMediaDetached=function(){var s=this,o=this.media,c=this.mediaKeySessions;o&&(o.removeEventListener("encrypted",this.onMediaEncrypted),o.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},be.clearKeyUriToKeyIdMap();var d=c.length;T.CDMCleanupPromise=Promise.all(c.map(function(h){return s.removeSession(h)}).concat(o==null?void 0:o.setMediaKeys(null).catch(function(h){s.log("Could not clear media keys: "+h+". media.src: "+(o==null?void 0:o.src))}))).then(function(){d&&(s.log("finished closing key sessions and clearing media keys"),c.length=0)}).catch(function(h){s.log("Could not close sessions and clear media keys: "+h+". media.src: "+(o==null?void 0:o.src))})},y.onManifestLoaded=function(s,o){var c=o.sessionKeys;if(c&&this.config.emeEnabled&&!this.keyFormatPromise){var d=c.reduce(function(h,u){return h.indexOf(u.keyFormat)===-1&&h.push(u.keyFormat),h},[]);this.log("Selecting key-system from session-keys "+d.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(d)}},y.removeSession=function(s){var o=this,c=s.mediaKeysSession,d=s.licenseXhr;if(c){this.log("Remove licenses and keys and close session "+c.sessionId),c.onmessage=null,c.onkeystatuseschange=null,d&&d.readyState!==XMLHttpRequest.DONE&&d.abort(),s.mediaKeysSession=s.decryptdata=s.licenseXhr=void 0;var h=this.mediaKeySessions.indexOf(s);return h>-1&&this.mediaKeySessions.splice(h,1),c.remove().catch(function(u){o.log("Could not remove session: "+u)}).then(function(){return c.close()}).catch(function(u){o.log("Could not close session: "+u)})}},T}();n0.CDMCleanupPromise=void 0;var Bn=function(T){var y,s;function o(c,d){var h;return(h=T.call(this,d)||this).data=void 0,h.data=c,c.err=c.error,h}return s=T,(y=o).prototype=Object.create(s.prototype),y.prototype.constructor=y,qo(y,s),o}(Dh(Error));const p_=n0;var Mr,Fh,i0;function a0(T,y){for(var s=0;s<y.length;s++){var o=y[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(T,typeof(c=function(d,h){if(typeof d!="object"||d===null)return d;var u=d[Symbol.toPrimitive];if(u!==void 0){var p=u.call(d,h);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(o.key,"string"))=="symbol"?c:String(c),o)}var c}function s0(T,y,s){return y&&a0(T.prototype,y),s&&a0(T,s),Object.defineProperty(T,"prototype",{writable:!1}),T}function o0(T,y){var s=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(s)return(s=s.call(T)).next.bind(s);if(Array.isArray(T)||(s=function(c,d){if(c){if(typeof c=="string")return l0(c,d);var h=Object.prototype.toString.call(c).slice(8,-1);return h==="Object"&&c.constructor&&(h=c.constructor.name),h==="Map"||h==="Set"?Array.from(c):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?l0(c,d):void 0}}(T))||y&&T&&typeof T.length=="number"){s&&(T=s);var o=0;return function(){return o>=T.length?{done:!0}:{done:!1,value:T[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l0(T,y){(y==null||y>T.length)&&(y=T.length);for(var s=0,o=new Array(y);s<y;s++)o[s]=T[s];return o}function uc(){return uc=Object.assign?Object.assign.bind():function(T){for(var y=1;y<arguments.length;y++){var s=arguments[y];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(T[o]=s[o])}return T},uc.apply(this,arguments)}(function(T){T.MANIFEST="m",T.AUDIO="a",T.VIDEO="v",T.MUXED="av",T.INIT="i",T.CAPTION="c",T.TIMED_TEXT="tt",T.KEY="k",T.OTHER="o"})(Mr||(Mr={})),function(T){T.DASH="d",T.HLS="h",T.SMOOTH="s",T.OTHER="o"}(Fh||(Fh={})),function(T){T.VOD="v",T.LIVE="l"}(i0||(i0={}));var m_=function(){function T(s){var o=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){o.initialized&&(o.starved=!0),o.buffering=!0},this.onPlaying=function(){o.initialized||(o.initialized=!0),o.buffering=!1},this.applyPlaylistData=function(h){try{o.apply(h,{ot:Mr.MANIFEST,su:!o.initialized})}catch(u){C.logger.warn("Could not generate manifest CMCD data.",u)}},this.applyFragmentData=function(h){try{var u=h.frag,p=o.hls.levels[u.level],S=o.getObjectType(u),b={d:1e3*u.duration,ot:S};S!==Mr.VIDEO&&S!==Mr.AUDIO&&S!=Mr.MUXED||(b.br=p.bitrate/1e3,b.tb=o.getTopBandwidth(S)/1e3,b.bl=o.getBufferLength(S)),o.apply(h,b)}catch(k){C.logger.warn("Could not generate segment CMCD data.",k)}},this.hls=s;var c=this.config=s.config,d=c.cmcd;d!=null&&(c.pLoader=this.createPlaylistLoader(),c.fLoader=this.createFragmentLoader(),this.sid=d.sessionId||T.uuid(),this.cid=d.contentId,this.useHeaders=d.useHeaders===!0,this.registerListeners())}var y=T.prototype;return y.registerListeners=function(){var s=this.hls;s.on(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),s.on(v.Events.MEDIA_DETACHED,this.onMediaDetached,this),s.on(v.Events.BUFFER_CREATED,this.onBufferCreated,this)},y.unregisterListeners=function(){var s=this.hls;s.off(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),s.off(v.Events.MEDIA_DETACHED,this.onMediaDetached,this),s.off(v.Events.BUFFER_CREATED,this.onBufferCreated,this),this.onMediaDetached()},y.destroy=function(){this.unregisterListeners(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},y.onMediaAttached=function(s,o){this.media=o.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},y.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},y.onBufferCreated=function(s,o){var c,d;this.audioBuffer=(c=o.tracks.audio)===null||c===void 0?void 0:c.buffer,this.videoBuffer=(d=o.tracks.video)===null||d===void 0?void 0:d.buffer},y.createData=function(){var s;return{v:1,sf:Fh.HLS,sid:this.sid,cid:this.cid,pr:(s=this.media)===null||s===void 0?void 0:s.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},y.apply=function(s,o){o===void 0&&(o={}),uc(o,this.createData());var c=o.ot===Mr.INIT||o.ot===Mr.VIDEO||o.ot===Mr.MUXED;if(this.starved&&c&&(o.bs=!0,o.su=!0,this.starved=!1),o.su==null&&(o.su=this.buffering),this.useHeaders){var d=T.toHeaders(o);if(!Object.keys(d).length)return;s.headers||(s.headers={}),uc(s.headers,d)}else{var h=T.toQuery(o);if(!h)return;s.url=T.appendQueryToUri(s.url,h)}},y.getObjectType=function(s){var o=s.type;return o==="subtitle"?Mr.TIMED_TEXT:s.sn==="initSegment"?Mr.INIT:o==="audio"?Mr.AUDIO:o==="main"?this.hls.audioTracks.length?Mr.VIDEO:Mr.MUXED:void 0},y.getTopBandwidth=function(s){var o,c=0,d=this.hls;if(s===Mr.AUDIO)o=d.audioTracks;else{var h=d.maxAutoLevel,u=h>-1?h+1:d.levels.length;o=d.levels.slice(0,u)}for(var p,S=o0(o);!(p=S()).done;){var b=p.value;b.bitrate>c&&(c=b.bitrate)}return c>0?c:NaN},y.getBufferLength=function(s){var o=this.hls.media,c=s===Mr.AUDIO?this.audioBuffer:this.videoBuffer;return c&&o?1e3*zt.bufferInfo(c,o.currentTime,this.config.maxBufferHole).len:NaN},y.createPlaylistLoader=function(){var s=this.config.pLoader,o=this.applyPlaylistData,c=s||this.config.loader;return function(){function d(u){this.loader=void 0,this.loader=new c(u)}var h=d.prototype;return h.destroy=function(){this.loader.destroy()},h.abort=function(){this.loader.abort()},h.load=function(u,p,S){o(u),this.loader.load(u,p,S)},s0(d,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),d}()},y.createFragmentLoader=function(){var s=this.config.fLoader,o=this.applyFragmentData,c=s||this.config.loader;return function(){function d(u){this.loader=void 0,this.loader=new c(u)}var h=d.prototype;return h.destroy=function(){this.loader.destroy()},h.abort=function(){this.loader.abort()},h.load=function(u,p,S){o(u),this.loader.load(u,p,S)},s0(d,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),d}()},T.uuid=function(){var s=URL.createObjectURL(new Blob),o=s.toString();return URL.revokeObjectURL(s),o.slice(o.lastIndexOf("/")+1)},T.serialize=function(s){for(var o,c=[],d=function(U){return!Number.isNaN(U)&&U!=null&&U!==""&&U!==!1},h=function(U){return Math.round(U)},u=function(U){return 100*h(U/100)},p={br:h,d:h,bl:u,dl:u,mtp:u,nor:function(U){return encodeURIComponent(U)},rtp:u,tb:h},S=o0(Object.keys(s||{}).sort());!(o=S()).done;){var b=o.value,k=s[b];if(d(k)&&!(b==="v"&&k===1||b=="pr"&&k===1)){var _=p[b];_&&(k=_(k));var D,F=typeof k;D=b==="ot"||b==="sf"||b==="st"?b+"="+k:F==="boolean"?b:F==="number"?b+"="+k:b+"="+JSON.stringify(k),c.push(D)}}return c.join(",")},T.toHeaders=function(s){for(var o={},c=["Object","Request","Session","Status"],d=[{},{},{},{}],h={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},u=0,p=Object.keys(s);u<p.length;u++){var S=p[u];d[h[S]!=null?h[S]:1][S]=s[S]}for(var b=0;b<d.length;b++){var k=T.serialize(d[b]);k&&(o["CMCD-"+c[b]]=k)}return o},T.toQuery=function(s){return"CMCD="+encodeURIComponent(T.serialize(s))},T.appendQueryToUri=function(s,o){if(!o)return s;var c=s.includes("?")?"&":"?";return""+s+c+o},T}(),u0=m(408),g_=/^age:\s*[\d.]+\s*$/m;const c0=function(){function T(s){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=s?s.xhrSetup:null,this.stats=new u0.LoadStats,this.retryDelay=0}var y=T.prototype;return y.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},y.abortInternal=function(){var s=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),s&&(s.onreadystatechange=null,s.onprogress=null,s.readyState!==4&&(this.stats.aborted=!0,s.abort()))},y.abort=function(){var s;this.abortInternal(),(s=this.callbacks)!==null&&s!==void 0&&s.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},y.load=function(s,o,c){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=s,this.config=o,this.callbacks=c,this.retryDelay=o.retryDelay,this.loadInternal()},y.loadInternal=function(){var s=this.config,o=this.context;if(s){var c=this.loader=new self.XMLHttpRequest,d=this.stats;d.loading.first=0,d.loaded=0;var h=this.xhrSetup;try{if(h)try{h(c,o.url)}catch{c.open("GET",o.url,!0),h(c,o.url)}c.readyState||c.open("GET",o.url,!0);var u=this.context.headers;if(u)for(var p in u)c.setRequestHeader(p,u[p])}catch(S){return void this.callbacks.onError({code:c.status,text:S.message},o,c)}o.rangeEnd&&c.setRequestHeader("Range","bytes="+o.rangeStart+"-"+(o.rangeEnd-1)),c.onreadystatechange=this.readystatechange.bind(this),c.onprogress=this.loadprogress.bind(this),c.responseType=o.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.timeout),c.send()}},y.readystatechange=function(){var s=this.context,o=this.loader,c=this.stats;if(s&&o){var d=o.readyState,h=this.config;if(!c.aborted&&d>=2)if(self.clearTimeout(this.requestTimeout),c.loading.first===0&&(c.loading.first=Math.max(self.performance.now(),c.loading.start)),d===4){o.onreadystatechange=null,o.onprogress=null;var u=o.status,p=o.responseType==="arraybuffer";if(u>=200&&u<300&&(p&&o.response||o.responseText!==null)){var S,b;if(c.loading.end=Math.max(self.performance.now(),c.loading.first),b=p?(S=o.response).byteLength:(S=o.responseText).length,c.loaded=c.total=b,!this.callbacks)return;var k=this.callbacks.onProgress;if(k&&k(c,s,S,o),!this.callbacks)return;var _={url:o.responseURL,data:S};this.callbacks.onSuccess(_,c,s,o)}else c.retry>=h.maxRetry||u>=400&&u<499?(C.logger.error(u+" while loading "+s.url),this.callbacks.onError({code:u,text:o.statusText},s,o)):(C.logger.warn(u+" while loading "+s.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,h.maxRetryDelay),c.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),h.timeout)}},y.loadtimeout=function(){C.logger.warn("timeout while loading "+this.context.url);var s=this.callbacks;s&&(this.abortInternal(),s.onTimeout(this.stats,this.context,this.loader))},y.loadprogress=function(s){var o=this.stats;o.loaded=s.loaded,s.lengthComputable&&(o.total=s.total)},y.getCacheAge=function(){var s=null;if(this.loader&&g_.test(this.loader.getAllResponseHeaders())){var o=this.loader.getResponseHeader("age");s=o?parseFloat(o):null}return s},T}();function Mh(T){var y=typeof Map=="function"?new Map:void 0;return Mh=function(s){if(s===null||(o=s,Function.toString.call(o).indexOf("[native code]")===-1))return s;var o;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(y!==void 0){if(y.has(s))return y.get(s);y.set(s,c)}function c(){return Nh(s,arguments,Bh(this).constructor)}return c.prototype=Object.create(s.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),Yo(c,s)},Mh(T)}function Nh(T,y,s){return Nh=v_()?Reflect.construct.bind():function(o,c,d){var h=[null];h.push.apply(h,c);var u=new(Function.bind.apply(o,h));return d&&Yo(u,d.prototype),u},Nh.apply(null,arguments)}function v_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yo(T,y){return Yo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},Yo(T,y)}function Bh(T){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},Bh(T)}function Uh(){return Uh=Object.assign?Object.assign.bind():function(T){for(var y=1;y<arguments.length;y++){var s=arguments[y];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(T[o]=s[o])}return T},Uh.apply(this,arguments)}var y_=function(){function T(s){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=s.fetchSetup||S_,this.controller=new self.AbortController,this.stats=new u0.LoadStats}var y=T.prototype;return y.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},y.abortInternal=function(){var s=this.response;s&&s.ok||(this.stats.aborted=!0,this.controller.abort())},y.abort=function(){var s;this.abortInternal(),(s=this.callbacks)!==null&&s!==void 0&&s.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},y.load=function(s,o,c){var d=this,h=this.stats;if(h.loading.start)throw new Error("Loader can only be used once.");h.loading.start=self.performance.now();var u=function(k,_){var D={method:"GET",mode:"cors",credentials:"same-origin",signal:_,headers:new self.Headers(Uh({},k.headers))};return k.rangeEnd&&D.headers.set("Range","bytes="+k.rangeStart+"-"+String(k.rangeEnd-1)),D}(s,this.controller.signal),p=c.onProgress,S=s.responseType==="arraybuffer",b=S?"byteLength":"length";this.context=s,this.config=o,this.callbacks=c,this.request=this.fetchSetup(s,u),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(function(){d.abortInternal(),c.onTimeout(h,s,d.response)},o.timeout),self.fetch(this.request).then(function(k){if(d.response=d.loader=k,!k.ok){var _=k.status,D=k.statusText;throw new b_(D||"fetch, bad network response",_,k)}return h.loading.first=Math.max(self.performance.now(),h.loading.start),h.total=parseInt(k.headers.get("Content-Length")||"0"),p&&(0,w.isFiniteNumber)(o.highWaterMark)?d.loadProgressively(k,h,s,o.highWaterMark,p):S?k.arrayBuffer():k.text()}).then(function(k){var _=d.response;self.clearTimeout(d.requestTimeout),h.loading.end=Math.max(self.performance.now(),h.loading.first);var D=k[b];D&&(h.loaded=h.total=D);var F={url:_.url,data:k};p&&!(0,w.isFiniteNumber)(o.highWaterMark)&&p(h,s,k,_),c.onSuccess(F,h,s,_)}).catch(function(k){if(self.clearTimeout(d.requestTimeout),!h.aborted){var _=k&&k.code||0,D=k?k.message:null;c.onError({code:_,text:D},s,k?k.details:null)}})},y.getCacheAge=function(){var s=null;if(this.response){var o=this.response.headers.get("age");s=o?parseFloat(o):null}return s},y.loadProgressively=function(s,o,c,d,h){d===void 0&&(d=0);var u=new Ho,p=s.body.getReader();return function S(){return p.read().then(function(b){if(b.done)return u.dataLength&&h(o,c,u.flush(),s),Promise.resolve(new ArrayBuffer(0));var k=b.value,_=k.length;return o.loaded+=_,_<d||u.dataLength?(u.push(k),u.dataLength>=d&&h(o,c,u.flush(),s)):h(o,c,k,s),S()}).catch(function(){return Promise.reject()})}()},T}();function S_(T,y){return new self.Request(T.url,y)}var b_=function(T){var y,s;function o(c,d,h){var u;return(u=T.call(this,c)||this).code=void 0,u.details=void 0,u.code=d,u.details=h,u}return s=T,(y=o).prototype=Object.create(s.prototype),y.prototype.constructor=y,Yo(y,s),o}(Mh(Error));const d0=y_;var E_=/\s/;function $h(){return $h=Object.assign?Object.assign.bind():function(T){for(var y=1;y<arguments.length;y++){var s=arguments[y];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(T[o]=s[o])}return T},$h.apply(this,arguments)}function f0(T,y){var s=Object.keys(T);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(T);y&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(T,c).enumerable})),s.push.apply(s,o)}return s}function h0(T){for(var y=1;y<arguments.length;y++){var s=arguments[y]!=null?arguments[y]:{};y%2?f0(Object(s),!0).forEach(function(o){T_(T,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(s)):f0(Object(s)).forEach(function(o){Object.defineProperty(T,o,Object.getOwnPropertyDescriptor(s,o))})}return T}function T_(T,y,s){return(y=function(o){var c=function(d,h){if(typeof d!="object"||d===null)return d;var u=d[Symbol.toPrimitive];if(u!==void 0){var p=u.call(d,h);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(o,"string");return typeof c=="symbol"?c:String(c)}(y))in T?Object.defineProperty(T,y,{value:s,enumerable:!0,configurable:!0,writable:!0}):T[y]=s,T}var w_=h0(h0({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:c0,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:gh,bufferController:vt,capLevelController:d_,fpsController:f_,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:Ce,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0},{cueHandler:{newCue:function(T,y,s,o){for(var c,d,h,u,p,S=[],b=self.VTTCue||self.TextTrackCue,k=0;k<o.rows.length;k++)if(h=!0,u=0,p="",!(c=o.rows[k]).isEmpty()){for(var _=0;_<c.chars.length;_++)E_.test(c.chars[_].uchar)&&h?u++:(p+=c.chars[_].uchar,h=!1);c.cueStartTime=y,y===s&&(s+=1e-4),u>=16?u--:u++;var D=Yy(p.trim()),F=Ch(y,s,D);T&&T.cues&&T.cues.getCueById(F)||((d=new b(y,s,D)).id=F,d.line=k+1,d.align="left",d.position=10+Math.min(80,10*Math.floor(8*u/32)),S.push(d))}return T&&S.length&&(S.sort(function(U,Q){return U.line==="auto"||Q.line==="auto"?0:U.line>8&&Q.line>8?Q.line-U.line:U.line-Q.line}),S.forEach(function(U){return yt(T,U)})),S}},enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:Sh,subtitleTrackController:he,timelineController:l_,audioStreamController:Ma,audioTrackController:yh,emeController:p_,cmcdController:m_});function p0(T,y){for(var s=0;s<y.length;s++){var o=y[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(T,typeof(c=function(d,h){if(typeof d!="object"||d===null)return d;var u=d[Symbol.toPrimitive];if(u!==void 0){var p=u.call(d,h);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(o.key,"string"))=="symbol"?c:String(c),o)}var c}var m0=function(){function T(d){d===void 0&&(d={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Uo.EventEmitter,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null;var h=this.config=function(Ae,$e){if(($e.liveSyncDurationCount||$e.liveMaxLatencyDurationCount)&&($e.liveSyncDuration||$e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if($e.liveMaxLatencyDurationCount!==void 0&&($e.liveSyncDurationCount===void 0||$e.liveMaxLatencyDurationCount<=$e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if($e.liveMaxLatencyDuration!==void 0&&($e.liveSyncDuration===void 0||$e.liveMaxLatencyDuration<=$e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return $h({},Ae,$e)}(T.DefaultConfig,d);this.userConfig=d,(0,C.enableLogs)(h.debug,"Hls instance"),this._autoLevelCapping=-1,h.progressive&&function(Ae){var $e=Ae.loader;$e!==d0&&$e!==c0?(C.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),Ae.progressive=!1):function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}()&&(Ae.loader=d0,Ae.progressive=!0,Ae.enableSoftwareAES=!0,C.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}(h);var u=h.abrController,p=h.bufferController,S=h.capLevelController,b=h.fpsController,k=this.abrController=new u(this),_=this.bufferController=new p(this),D=this.capLevelController=new S(this),F=new b(this),U=new Xe(this),Q=new _t(this),q=this.levelController=new at(this),te=new mt(this),fe=new kn(this.config),ge=this.streamController=new Ts(this,te,fe);D.setStreamController(ge),F.setStreamController(ge);var pe=[U,q,ge];this.networkControllers=pe;var Te=[k,_,D,F,Q,te];this.audioTrackController=this.createController(h.audioTrackController,pe);var ze=h.audioStreamController;ze&&pe.push(new ze(this,te,fe)),this.subtitleTrackController=this.createController(h.subtitleTrackController,pe);var Ve=h.subtitleStreamController;Ve&&pe.push(new Ve(this,te,fe)),this.createController(h.timelineController,Te),fe.emeController=this.emeController=this.createController(h.emeController,Te),this.cmcdController=this.createController(h.cmcdController,Te),this.latencyController=this.createController(Zt,Te),this.coreComponents=Te}T.isSupported=function(){return function(){var d=Gi();if(!d)return!1;var h=bs(),u=d&&typeof d.isTypeSupported=="function"&&d.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),p=!h||h.prototype&&typeof h.prototype.appendBuffer=="function"&&typeof h.prototype.remove=="function";return!!u&&!!p}()};var y,s,o,c=T.prototype;return c.createController=function(d,h){if(d){var u=new d(this);return h&&h.push(u),u}return null},c.on=function(d,h,u){u===void 0&&(u=this),this._emitter.on(d,h,u)},c.once=function(d,h,u){u===void 0&&(u=this),this._emitter.once(d,h,u)},c.removeAllListeners=function(d){this._emitter.removeAllListeners(d)},c.off=function(d,h,u,p){u===void 0&&(u=this),this._emitter.off(d,h,u,p)},c.listeners=function(d){return this._emitter.listeners(d)},c.emit=function(d,h,u){return this._emitter.emit(d,h,u)},c.trigger=function(d,h){if(this.config.debug)return this.emit(d,d,h);try{return this.emit(d,d,h)}catch(u){C.logger.error("An internal error happened while handling event "+d+'. Error message: "'+u.message+'". Here is a stacktrace:',u),this.trigger(v.Events.ERROR,{type:x.ErrorTypes.OTHER_ERROR,details:x.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:d,error:u})}return!1},c.listenerCount=function(d){return this._emitter.listenerCount(d)},c.destroy=function(){C.logger.log("destroy"),this.trigger(v.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(d){return d.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(d){return d.destroy()}),this.coreComponents.length=0},c.attachMedia=function(d){C.logger.log("attachMedia"),this._media=d,this.trigger(v.Events.MEDIA_ATTACHING,{media:d})},c.detachMedia=function(){C.logger.log("detachMedia"),this.trigger(v.Events.MEDIA_DETACHING,void 0),this._media=null},c.loadSource=function(d){this.stopLoad();var h=this.media,u=this.url,p=this.url=E.buildAbsoluteURL(self.location.href,d,{alwaysNormalize:!0});C.logger.log("loadSource:"+p),h&&u&&u!==p&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(h)),this.trigger(v.Events.MANIFEST_LOADING,{url:d})},c.startLoad=function(d){d===void 0&&(d=-1),C.logger.log("startLoad("+d+")"),this.networkControllers.forEach(function(h){h.startLoad(d)})},c.stopLoad=function(){C.logger.log("stopLoad"),this.networkControllers.forEach(function(d){d.stopLoad()})},c.swapAudioCodec=function(){C.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},c.recoverMediaError=function(){C.logger.log("recoverMediaError");var d=this._media;this.detachMedia(),d&&this.attachMedia(d)},c.removeLevel=function(d,h){h===void 0&&(h=0),this.levelController.removeLevel(d,h)},y=T,o=[{key:"version",get:function(){return"1.3.4"}},{key:"Events",get:function(){return v.Events}},{key:"ErrorTypes",get:function(){return x.ErrorTypes}},{key:"ErrorDetails",get:function(){return x.ErrorDetails}},{key:"DefaultConfig",get:function(){return T.defaultConfig?T.defaultConfig:w_},set:function(d){T.defaultConfig=d}}],(s=[{key:"levels",get:function(){return this.levelController.levels||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(d){C.logger.log("set currentLevel:"+d),this.loadLevel=d,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(d){C.logger.log("set nextLevel:"+d),this.levelController.manualLevel=d,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(d){C.logger.log("set loadLevel:"+d),this.levelController.manualLevel=d}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(d){this.levelController.nextLoadLevel=d}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(d){C.logger.log("set firstLevel:"+d),this.levelController.firstLevel=d}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(d){C.logger.log("set startLevel:"+d),d!==-1&&(d=Math.max(d,this.minAutoLevel)),this.levelController.startLevel=d}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(d){var h=!!d;h!==this.config.capLevelToPlayerSize&&(h?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=h)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(d){this._autoLevelCapping!==d&&(C.logger.log("set autoLevelCapping:"+d),this._autoLevelCapping=d)}},{key:"bandwidthEstimate",get:function(){var d=this.abrController.bwEstimator;return d?d.getEstimate():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(d){lr.indexOf(d)>-1&&(this._maxHdcpLevel=d)}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var d=this.levels,h=this.config.minAutoBitrate;if(!d)return 0;for(var u=d.length,p=0;p<u;p++)if(d[p].maxBitrate>=h)return p;return 0}},{key:"maxAutoLevel",get:function(){var d,h=this.levels,u=this.autoLevelCapping,p=this.maxHdcpLevel;if(d=u===-1&&h&&h.length?h.length-1:u,p)for(var S=d;S--;){var b=h[S].attrs["HDCP-LEVEL"];if(b&&b<=p)return S}return d}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(d){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,d)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var d=this.audioTrackController;return d?d.audioTracks:[]}},{key:"audioTrack",get:function(){var d=this.audioTrackController;return d?d.audioTrack:-1},set:function(d){var h=this.audioTrackController;h&&(h.audioTrack=d)}},{key:"subtitleTracks",get:function(){var d=this.subtitleTrackController;return d?d.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var d=this.subtitleTrackController;return d?d.subtitleTrack:-1},set:function(d){var h=this.subtitleTrackController;h&&(h.subtitleTrack=d)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var d=this.subtitleTrackController;return!!d&&d.subtitleDisplay},set:function(d){var h=this.subtitleTrackController;h&&(h.subtitleDisplay=d)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(d){this.config.lowLatencyMode=d}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&p0(y.prototype,s),o&&p0(y,o),Object.defineProperty(y,"prototype",{writable:!1}),T}();m0.defaultConfig=void 0},923:(l,f,m)=>{m.r(f),m.d(f,{BaseSegment:()=>P,ElementaryStreamTypes:()=>g,Fragment:()=>R,Part:()=>A});var g,E=m(965),w=m(945),v=m(408);function x(M,j){M.prototype=Object.create(j.prototype),M.prototype.constructor=M,C(M,j)}function C(M,j){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,B){return $.__proto__=B,$},C(M,j)}function L(M,j){for(var $=0;$<j.length;$++){var B=j[$];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(M,typeof(K=function(ce,ye){if(typeof ce!="object"||ce===null)return ce;var ie=ce[Symbol.toPrimitive];if(ie!==void 0){var N=ie.call(ce,ye);if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ce)}(B.key,"string"))=="symbol"?K:String(K),B)}var K}function I(M,j,$){return j&&L(M.prototype,j),$&&L(M,$),Object.defineProperty(M,"prototype",{writable:!1}),M}(function(M){M.AUDIO="audio",M.VIDEO="video",M.AUDIOVIDEO="audiovideo"})(g||(g={}));var P=function(){function M(j){var $;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=(($={})[g.AUDIO]=null,$[g.VIDEO]=null,$[g.AUDIOVIDEO]=null,$),this.baseurl=j}return M.prototype.setByteRange=function(j,$){var B=j.split("@",2),K=[];B.length===1?K[0]=$?$.byteRangeEndOffset:0:K[0]=parseInt(B[1]),K[1]=parseInt(B[0])+K[0],this._byteRange=K},I(M,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=(0,w.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(j){this._url=j}}]),M}(),R=function(M){function j(B,K){var ce;return(ce=M.call(this,K)||this)._decryptdata=null,ce.rawProgramDateTime=null,ce.programDateTime=null,ce.tagList=[],ce.duration=0,ce.sn=0,ce.levelkeys=void 0,ce.type=void 0,ce.loader=null,ce.keyLoader=null,ce.level=-1,ce.cc=0,ce.startPTS=void 0,ce.endPTS=void 0,ce.appendedPTS=void 0,ce.startDTS=void 0,ce.endDTS=void 0,ce.start=0,ce.deltaPTS=void 0,ce.maxStartPTS=void 0,ce.minEndPTS=void 0,ce.stats=new v.LoadStats,ce.urlId=0,ce.data=void 0,ce.bitrateTest=!1,ce.title=null,ce.initSegment=null,ce.endList=void 0,ce.type=B,ce}x(j,M);var $=j.prototype;return $.setKeyFormat=function(B){if(this.levelkeys){var K=this.levelkeys[B];K&&!this._decryptdata&&(this._decryptdata=K.getDecryptData(this.sn))}},$.abortRequests=function(){var B,K;(B=this.loader)===null||B===void 0||B.abort(),(K=this.keyLoader)===null||K===void 0||K.abort()},$.setElementaryStreamInfo=function(B,K,ce,ye,ie,N){N===void 0&&(N=!1);var Z=this.elementaryStreams,G=Z[B];G?(G.startPTS=Math.min(G.startPTS,K),G.endPTS=Math.max(G.endPTS,ce),G.startDTS=Math.min(G.startDTS,ye),G.endDTS=Math.max(G.endDTS,ie)):Z[B]={startPTS:K,endPTS:ce,startDTS:ye,endDTS:ie,partial:N}},$.clearElementaryStreamInfo=function(){var B=this.elementaryStreams;B[g.AUDIO]=null,B[g.VIDEO]=null,B[g.AUDIOVIDEO]=null},I(j,[{key:"decryptdata",get:function(){if(!this.levelkeys&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var B=this.levelkeys.identity;if(B)this._decryptdata=B.getDecryptData(this.sn);else{var K=Object.keys(this.levelkeys);if(K.length===1)return this._decryptdata=this.levelkeys[K[0]].getDecryptData(this.sn)}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(this.programDateTime===null||!(0,E.isFiniteNumber)(this.programDateTime))return null;var B=(0,E.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*B}},{key:"encrypted",get:function(){var B;if((B=this._decryptdata)!==null&&B!==void 0&&B.encrypted)return!0;if(this.levelkeys){var K=Object.keys(this.levelkeys),ce=K.length;if(ce>1||ce===1&&this.levelkeys[K[0]].encrypted)return!0}return!1}}]),j}(P),A=function(M){function j($,B,K,ce,ye){var ie;(ie=M.call(this,K)||this).fragOffset=0,ie.duration=0,ie.gap=!1,ie.independent=!1,ie.relurl=void 0,ie.fragment=void 0,ie.index=void 0,ie.stats=new v.LoadStats,ie.duration=$.decimalFloatingPoint("DURATION"),ie.gap=$.bool("GAP"),ie.independent=$.bool("INDEPENDENT"),ie.relurl=$.enumeratedString("URI"),ie.fragment=B,ie.index=ce;var N=$.enumeratedString("BYTERANGE");return N&&ie.setByteRange(N,ye),ye&&(ie.fragOffset=ye.fragOffset+ye.duration),ie}return x(j,M),I(j,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var $=this.elementaryStreams;return!!($.audio||$.video||$.audiovideo)}}]),j}(P)},408:(l,f,m)=>{m.r(f),m.d(f,{LoadStats:()=>g});var g=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},965:(l,f,m)=>{m.r(f),m.d(f,{MAX_SAFE_INTEGER:()=>E,isFiniteNumber:()=>g});var g=Number.isFinite||function(w){return typeof w=="number"&&isFinite(w)},E=Number.MAX_SAFE_INTEGER||9007199254740991},524:(l,f,m)=>{m.r(f),m.d(f,{default:()=>$,flushTextTrackMetadataCueSamples:()=>K,flushTextTrackUserdataCueSamples:()=>ce,normalizePts:()=>B});var g=m(965);const E=function(){function N(){}return N.getSilentFrame=function(Z,G){if(Z==="mp4a.40.2"){if(G===1)return new Uint8Array([0,200,0,128,35,128]);if(G===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(G===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(G===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(G===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(G===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(G===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(G===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(G===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},N}();var w=Math.pow(2,32)-1,v=function(){function N(){}return N.init=function(){var Z;for(Z in N.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},N.types)N.types.hasOwnProperty(Z)&&(N.types[Z]=[Z.charCodeAt(0),Z.charCodeAt(1),Z.charCodeAt(2),Z.charCodeAt(3)]);var G=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ue=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);N.HDLR_TYPES={video:G,audio:ue};var Ce=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Se=new Uint8Array([0,0,0,0,0,0,0,0]);N.STTS=N.STSC=N.STCO=Se,N.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),N.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),N.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),N.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var ae=new Uint8Array([105,115,111,109]),be=new Uint8Array([97,118,99,49]),ke=new Uint8Array([0,0,0,1]);N.FTYP=N.box(N.types.ftyp,ae,ke,ae,be),N.DINF=N.box(N.types.dinf,N.box(N.types.dref,Ce))},N.box=function(Z){for(var G=8,ue=arguments.length,Ce=new Array(ue>1?ue-1:0),Se=1;Se<ue;Se++)Ce[Se-1]=arguments[Se];for(var ae=Ce.length,be=ae;ae--;)G+=Ce[ae].byteLength;var ke=new Uint8Array(G);for(ke[0]=G>>24&255,ke[1]=G>>16&255,ke[2]=G>>8&255,ke[3]=255&G,ke.set(Z,4),ae=0,G=8;ae<be;ae++)ke.set(Ce[ae],G),G+=Ce[ae].byteLength;return ke},N.hdlr=function(Z){return N.box(N.types.hdlr,N.HDLR_TYPES[Z])},N.mdat=function(Z){return N.box(N.types.mdat,Z)},N.mdhd=function(Z,G){G*=Z;var ue=Math.floor(G/(w+1)),Ce=Math.floor(G%(w+1));return N.box(N.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,Z>>24&255,Z>>16&255,Z>>8&255,255&Z,ue>>24,ue>>16&255,ue>>8&255,255&ue,Ce>>24,Ce>>16&255,Ce>>8&255,255&Ce,85,196,0,0]))},N.mdia=function(Z){return N.box(N.types.mdia,N.mdhd(Z.timescale,Z.duration),N.hdlr(Z.type),N.minf(Z))},N.mfhd=function(Z){return N.box(N.types.mfhd,new Uint8Array([0,0,0,0,Z>>24,Z>>16&255,Z>>8&255,255&Z]))},N.minf=function(Z){return Z.type==="audio"?N.box(N.types.minf,N.box(N.types.smhd,N.SMHD),N.DINF,N.stbl(Z)):N.box(N.types.minf,N.box(N.types.vmhd,N.VMHD),N.DINF,N.stbl(Z))},N.moof=function(Z,G,ue){return N.box(N.types.moof,N.mfhd(Z),N.traf(ue,G))},N.moov=function(Z){for(var G=Z.length,ue=[];G--;)ue[G]=N.trak(Z[G]);return N.box.apply(null,[N.types.moov,N.mvhd(Z[0].timescale,Z[0].duration)].concat(ue).concat(N.mvex(Z)))},N.mvex=function(Z){for(var G=Z.length,ue=[];G--;)ue[G]=N.trex(Z[G]);return N.box.apply(null,[N.types.mvex].concat(ue))},N.mvhd=function(Z,G){G*=Z;var ue=Math.floor(G/(w+1)),Ce=Math.floor(G%(w+1)),Se=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,Z>>24&255,Z>>16&255,Z>>8&255,255&Z,ue>>24,ue>>16&255,ue>>8&255,255&ue,Ce>>24,Ce>>16&255,Ce>>8&255,255&Ce,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return N.box(N.types.mvhd,Se)},N.sdtp=function(Z){var G,ue,Ce=Z.samples||[],Se=new Uint8Array(4+Ce.length);for(G=0;G<Ce.length;G++)ue=Ce[G].flags,Se[G+4]=ue.dependsOn<<4|ue.isDependedOn<<2|ue.hasRedundancy;return N.box(N.types.sdtp,Se)},N.stbl=function(Z){return N.box(N.types.stbl,N.stsd(Z),N.box(N.types.stts,N.STTS),N.box(N.types.stsc,N.STSC),N.box(N.types.stsz,N.STSZ),N.box(N.types.stco,N.STCO))},N.avc1=function(Z){var G,ue,Ce,Se=[],ae=[];for(G=0;G<Z.sps.length;G++)Ce=(ue=Z.sps[G]).byteLength,Se.push(Ce>>>8&255),Se.push(255&Ce),Se=Se.concat(Array.prototype.slice.call(ue));for(G=0;G<Z.pps.length;G++)Ce=(ue=Z.pps[G]).byteLength,ae.push(Ce>>>8&255),ae.push(255&Ce),ae=ae.concat(Array.prototype.slice.call(ue));var be=N.box(N.types.avcC,new Uint8Array([1,Se[3],Se[4],Se[5],255,224|Z.sps.length].concat(Se).concat([Z.pps.length]).concat(ae))),ke=Z.width,Re=Z.height,Le=Z.pixelRatio[0],Ge=Z.pixelRatio[1];return N.box(N.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ke>>8&255,255&ke,Re>>8&255,255&Re,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),be,N.box(N.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),N.box(N.types.pasp,new Uint8Array([Le>>24,Le>>16&255,Le>>8&255,255&Le,Ge>>24,Ge>>16&255,Ge>>8&255,255&Ge])))},N.esds=function(Z){var G=Z.config.length;return new Uint8Array([0,0,0,0,3,23+G,0,1,0,4,15+G,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([G]).concat(Z.config).concat([6,1,2]))},N.mp4a=function(Z){var G=Z.samplerate;return N.box(N.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,Z.channelCount,0,16,0,0,0,0,G>>8&255,255&G,0,0]),N.box(N.types.esds,N.esds(Z)))},N.mp3=function(Z){var G=Z.samplerate;return N.box(N.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,Z.channelCount,0,16,0,0,0,0,G>>8&255,255&G,0,0]))},N.stsd=function(Z){return Z.type==="audio"?Z.segmentCodec==="mp3"&&Z.codec==="mp3"?N.box(N.types.stsd,N.STSD,N.mp3(Z)):N.box(N.types.stsd,N.STSD,N.mp4a(Z)):N.box(N.types.stsd,N.STSD,N.avc1(Z))},N.tkhd=function(Z){var G=Z.id,ue=Z.duration*Z.timescale,Ce=Z.width,Se=Z.height,ae=Math.floor(ue/(w+1)),be=Math.floor(ue%(w+1));return N.box(N.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,G>>24&255,G>>16&255,G>>8&255,255&G,0,0,0,0,ae>>24,ae>>16&255,ae>>8&255,255&ae,be>>24,be>>16&255,be>>8&255,255&be,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,Ce>>8&255,255&Ce,0,0,Se>>8&255,255&Se,0,0]))},N.traf=function(Z,G){var ue=N.sdtp(Z),Ce=Z.id,Se=Math.floor(G/(w+1)),ae=Math.floor(G%(w+1));return N.box(N.types.traf,N.box(N.types.tfhd,new Uint8Array([0,0,0,0,Ce>>24,Ce>>16&255,Ce>>8&255,255&Ce])),N.box(N.types.tfdt,new Uint8Array([1,0,0,0,Se>>24,Se>>16&255,Se>>8&255,255&Se,ae>>24,ae>>16&255,ae>>8&255,255&ae])),N.trun(Z,ue.length+16+20+8+16+8+8),ue)},N.trak=function(Z){return Z.duration=Z.duration||4294967295,N.box(N.types.trak,N.tkhd(Z),N.mdia(Z))},N.trex=function(Z){var G=Z.id;return N.box(N.types.trex,new Uint8Array([0,0,0,0,G>>24,G>>16&255,G>>8&255,255&G,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},N.trun=function(Z,G){var ue,Ce,Se,ae,be,ke,Re=Z.samples||[],Le=Re.length,Ge=12+16*Le,nt=new Uint8Array(Ge);for(G+=8+Ge,nt.set([Z.type==="video"?1:0,0,15,1,Le>>>24&255,Le>>>16&255,Le>>>8&255,255&Le,G>>>24&255,G>>>16&255,G>>>8&255,255&G],0),ue=0;ue<Le;ue++)Se=(Ce=Re[ue]).duration,ae=Ce.size,be=Ce.flags,ke=Ce.cts,nt.set([Se>>>24&255,Se>>>16&255,Se>>>8&255,255&Se,ae>>>24&255,ae>>>16&255,ae>>>8&255,255&ae,be.isLeading<<2|be.dependsOn,be.isDependedOn<<6|be.hasRedundancy<<4|be.paddingValue<<1|be.isNonSync,61440&be.degradPrio,15&be.degradPrio,ke>>>24&255,ke>>>16&255,ke>>>8&255,255&ke],12+16*ue);return N.box(N.types.trun,nt)},N.initSegment=function(Z){N.types||N.init();var G=N.moov(Z),ue=new Uint8Array(N.FTYP.byteLength+G.byteLength);return ue.set(N.FTYP),ue.set(G,N.FTYP.byteLength),ue},N}();v.types=void 0,v.HDLR_TYPES=void 0,v.STTS=void 0,v.STSC=void 0,v.STCO=void 0,v.STSZ=void 0,v.VMHD=void 0,v.SMHD=void 0,v.STSD=void 0,v.FTYP=void 0,v.DINF=void 0;const x=v;var C=m(851),L=m(973),I=m(93),P=m(308),R=m(673);function A(){return A=Object.assign?Object.assign.bind():function(N){for(var Z=1;Z<arguments.length;Z++){var G=arguments[Z];for(var ue in G)Object.prototype.hasOwnProperty.call(G,ue)&&(N[ue]=G[ue])}return N},A.apply(this,arguments)}var M=null,j=null,$=function(){function N(G,ue,Ce,Se){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=G,this.config=ue,this.typeSupported=Ce,this.ISGenerated=!1,M===null){var ae=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);M=ae?parseInt(ae[1]):0}if(j===null){var be=navigator.userAgent.match(/Safari\/(\d+)/i);j=be?parseInt(be[1]):0}}var Z=N.prototype;return Z.destroy=function(){},Z.resetTimeStamp=function(G){I.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=G},Z.resetNextTimestamp=function(){I.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},Z.resetInitSegment=function(){I.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},Z.getVideoStartPts=function(G){var ue=!1,Ce=G.reduce(function(Se,ae){var be=ae.pts-Se;return be<-4294967296?(ue=!0,B(Se,ae.pts)):be>0?Se:ae.pts},G[0].pts);return ue&&I.logger.debug("PTS rollover detected"),Ce},Z.remux=function(G,ue,Ce,Se,ae,be,ke,Re){var Le,Ge,nt,de,me,le,De=ae,Ie=ae,Fe=G.pid>-1,Me=ue.pid>-1,je=ue.samples.length,Ke=G.samples.length>0,oe=ke&&je>0||je>1;if((!Fe||Ke)&&(!Me||oe)||this.ISGenerated||ke){this.ISGenerated||(nt=this.generateIS(G,ue,ae));var Qe,Xe=this.isVideoContiguous,dt=-1;if(oe&&(dt=function(st){for(var rt=0;rt<st.length;rt++)if(st[rt].key)return rt;return-1}(ue.samples),!Xe&&this.config.forceKeyFrameOnDiscontinuity))if(le=!0,dt>0){I.logger.warn("[mp4-remuxer]: Dropped "+dt+" out of "+je+" video samples due to a missing keyframe");var yt=this.getVideoStartPts(ue.samples);ue.samples=ue.samples.slice(dt),ue.dropped+=dt,Qe=Ie+=(ue.samples[0].pts-yt)/ue.inputTimeScale}else dt===-1&&(I.logger.warn("[mp4-remuxer]: No keyframe found out of "+je+" video samples"),le=!1);if(this.ISGenerated){if(Ke&&oe){var Tt=this.getVideoStartPts(ue.samples),Rt=(B(G.samples[0].pts,Tt)-Tt)/ue.inputTimeScale;De+=Math.max(0,Rt),Ie+=Math.max(0,-Rt)}if(Ke){if(G.samplerate||(I.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),nt=this.generateIS(G,ue,ae)),Ge=this.remuxAudio(G,De,this.isAudioContiguous,be,Me||oe||Re===P.PlaylistLevelType.AUDIO?Ie:void 0),oe){var gt=Ge?Ge.endPTS-Ge.startPTS:0;ue.inputTimeScale||(I.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),nt=this.generateIS(G,ue,ae)),Le=this.remuxVideo(ue,Ie,Xe,gt)}}else oe&&(Le=this.remuxVideo(ue,Ie,Xe,0));Le&&(Le.firstKeyFrame=dt,Le.independent=dt!==-1,Le.firstKeyFramePTS=Qe)}}return this.ISGenerated&&(Ce.samples.length&&(me=K(Ce,ae,this._initPTS,this._initDTS)),Se.samples.length&&(de=ce(Se,ae,this._initPTS))),{audio:Ge,video:Le,initSegment:nt,independent:le,text:de,id3:me}},Z.generateIS=function(G,ue,Ce){var Se,ae,be,ke=G.samples,Re=ue.samples,Le=this.typeSupported,Ge={},nt=!(0,g.isFiniteNumber)(this._initPTS),de="audio/mp4";if(nt&&(Se=ae=1/0),G.config&&ke.length&&(G.timescale=G.samplerate,G.segmentCodec==="mp3"&&(Le.mpeg?(de="audio/mpeg",G.codec=""):Le.mp3&&(G.codec="mp3")),Ge.audio={id:"audio",container:de,codec:G.codec,initSegment:G.segmentCodec==="mp3"&&Le.mpeg?new Uint8Array(0):x.initSegment([G]),metadata:{channelCount:G.channelCount}},nt&&(be=G.inputTimeScale,Se=ae=ke[0].pts-Math.round(be*Ce))),ue.sps&&ue.pps&&Re.length&&(ue.timescale=ue.inputTimeScale,Ge.video={id:"main",container:"video/mp4",codec:ue.codec,initSegment:x.initSegment([ue]),metadata:{width:ue.width,height:ue.height}},nt)){be=ue.inputTimeScale;var me=this.getVideoStartPts(Re),le=Math.round(be*Ce);ae=Math.min(ae,B(Re[0].dts,me)-le),Se=Math.min(Se,me-le)}if(Object.keys(Ge).length)return this.ISGenerated=!0,nt&&(this._initPTS=Se,this._initDTS=ae),{tracks:Ge,initPTS:Se,timescale:be}},Z.remuxVideo=function(G,ue,Ce,Se){var ae,be,ke=G.inputTimeScale,Re=G.samples,Le=[],Ge=Re.length,nt=this._initPTS,de=this.nextAvcDts,me=8,le=this.videoSampleDuration,De=Number.POSITIVE_INFINITY,Ie=Number.NEGATIVE_INFINITY,Fe=!1;Ce&&de!==null||(de=ue*ke-(Re[0].pts-B(Re[0].dts,Re[0].pts)));for(var Me=0;Me<Ge;Me++){var je=Re[Me];je.pts=B(je.pts-nt,de),je.dts=B(je.dts-nt,de),je.dts<Re[Me>0?Me-1:Me].dts&&(Fe=!0)}Fe&&Re.sort(function(Ut,mr){var kn=Ut.dts-mr.dts,gi=Ut.pts-mr.pts;return kn||gi}),ae=Re[0].dts;var Ke=Re[Re.length-1].dts-ae,oe=Ke?Math.round(Ke/(Ge-1)):le||G.inputTimeScale/30;if(Ce){var Qe=ae-de,Xe=Qe>oe,dt=Qe<-1;if((Xe||dt)&&(Xe?I.logger.warn("AVC: "+(0,R.toMsFromMpegTsClock)(Qe,!0)+" ms ("+Qe+"dts) hole between fragments detected, filling it"):I.logger.warn("AVC: "+(0,R.toMsFromMpegTsClock)(-Qe,!0)+" ms ("+Qe+"dts) overlapping between fragments detected"),!dt||de>Re[0].pts)){ae=de;var yt=Re[0].pts-Qe;Re[0].dts=ae,Re[0].pts=yt,I.logger.log("Video: First PTS/DTS adjusted: "+(0,R.toMsFromMpegTsClock)(yt,!0)+"/"+(0,R.toMsFromMpegTsClock)(ae,!0)+", delta: "+(0,R.toMsFromMpegTsClock)(Qe,!0)+" ms")}}ae=Math.max(0,ae);for(var Tt=0,Rt=0,gt=0;gt<Ge;gt++){for(var st=Re[gt],rt=st.units,ft=rt.length,ut=0,_t=0;_t<ft;_t++)ut+=rt[_t].data.length;Rt+=ut,Tt+=ft,st.length=ut,st.dts=Math.max(st.dts,ae),De=Math.min(st.pts,De),Ie=Math.max(st.pts,Ie)}be=Re[Ge-1].dts;var or,Zt=Rt+4*Tt+8;try{or=new Uint8Array(Zt)}catch{return void this.observer.emit(C.Events.ERROR,C.Events.ERROR,{type:L.ErrorTypes.MUX_ERROR,details:L.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:Zt,reason:"fail allocating video mdat "+Zt})}var br=new DataView(or.buffer);br.setUint32(0,Zt),or.set(x.types.mdat,4);for(var fr=!1,lr=Number.POSITIVE_INFINITY,se=Number.POSITIVE_INFINITY,Y=Number.NEGATIVE_INFINITY,O=Number.NEGATIVE_INFINITY,W=0;W<Ge;W++){for(var H=Re[W],X=H.units,J=0,ne=0,ve=X.length;ne<ve;ne++){var Ee=X[ne],xe=Ee.data,Oe=Ee.data.byteLength;br.setUint32(me,Oe),me+=4,or.set(xe,me),me+=Oe,J+=4+Oe}var He=void 0;if(W<Ge-1)le=Re[W+1].dts-H.dts,He=Re[W+1].pts-H.pts;else{var Ue=this.config,Ye=W>0?H.dts-Re[W-1].dts:oe;if(He=W>0?H.pts-Re[W-1].pts:oe,Ue.stretchShortVideoTrack&&this.nextAudioPts!==null){var at=Math.floor(Ue.maxBufferHole*ke),mt=(Se?De+Se*ke:this.nextAudioPts)-H.pts;mt>at?((le=mt-Ye)<0?le=Ye:fr=!0,I.logger.log("[mp4-remuxer]: It is approximately "+mt/90+" ms to the next segment; using duration "+le/90+" ms for the last video frame.")):le=Ye}else le=Ye}var qe=Math.round(H.pts-H.dts);lr=Math.min(lr,le),Y=Math.max(Y,le),se=Math.min(se,He),O=Math.max(O,He),Le.push(new ye(H.key,le,J,qe))}if(Le.length){if(M){if(M<70){var ot=Le[0].flags;ot.dependsOn=2,ot.isNonSync=0}}else if(j&&O-se<Y-lr&&oe/Y<.025&&Le[0].cts===0){I.logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var hr=ae,wt=0,pr=Le.length;wt<pr;wt++){var Yt=hr+Le[wt].duration,Ze=hr+Le[wt].cts;if(wt<pr-1){var ar=Yt+Le[wt+1].cts;Le[wt].duration=ar-Ze}else Le[wt].duration=wt?Le[wt-1].duration:oe;Le[wt].cts=0,hr=Yt}}}le=fr||!le?oe:le,this.nextAvcDts=de=be+le,this.videoSampleDuration=le,this.isVideoContiguous=!0;var wn={data1:x.moof(G.sequenceNumber++,ae,A({},G,{samples:Le})),data2:or,startPTS:De/ke,endPTS:(Ie+le)/ke,startDTS:ae/ke,endDTS:de/ke,type:"video",hasAudio:!1,hasVideo:!0,nb:Le.length,dropped:G.dropped};return G.samples=[],G.dropped=0,wn},Z.remuxAudio=function(G,ue,Ce,Se,ae){var be=G.inputTimeScale,ke=be/(G.samplerate?G.samplerate:be),Re=G.segmentCodec==="aac"?1024:1152,Le=Re*ke,Ge=this._initPTS,nt=G.segmentCodec==="mp3"&&this.typeSupported.mpeg,de=[],me=ae!==void 0,le=G.samples,De=nt?0:8,Ie=this.nextAudioPts||-1,Fe=ue*be;if(this.isAudioContiguous=Ce=Ce||le.length&&Ie>0&&(Se&&Math.abs(Fe-Ie)<9e3||Math.abs(B(le[0].pts-Ge,Fe)-Ie)<20*Le),le.forEach(function(ne){ne.pts=B(ne.pts-Ge,Fe)}),!Ce||Ie<0){if(le=le.filter(function(ne){return ne.pts>=0}),!le.length)return;Ie=ae===0?0:Se&&!me?Math.max(0,Fe):le[0].pts}if(G.segmentCodec==="aac")for(var Me=this.config.maxAudioFramesDrift,je=0,Ke=Ie;je<le.length;je++){var oe=le[je],Qe=oe.pts,Xe=Qe-Ke,dt=Math.abs(1e3*Xe/be);if(Xe<=-Me*Le&&me)je===0&&(I.logger.warn("Audio frame @ "+(Qe/be).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*Xe/be)+" ms."),this.nextAudioPts=Ie=Ke=Qe);else if(Xe>=Me*Le&&dt<1e4&&me){var yt=Math.round(Xe/Le);(Ke=Qe-yt*Le)<0&&(yt--,Ke+=Le),je===0&&(this.nextAudioPts=Ie=Ke),I.logger.warn("[mp4-remuxer]: Injecting "+yt+" audio frame @ "+(Ke/be).toFixed(3)+"s due to "+Math.round(1e3*Xe/be)+" ms gap.");for(var Tt=0;Tt<yt;Tt++){var Rt=Math.max(Ke,0),gt=E.getSilentFrame(G.manifestCodec||G.codec,G.channelCount);gt||(I.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),gt=oe.unit.subarray()),le.splice(je,0,{unit:gt,pts:Rt}),Ke+=Le,je++}}oe.pts=Ke,Ke+=Le}for(var st,rt=null,ft=null,ut=0,_t=le.length;_t--;)ut+=le[_t].unit.byteLength;for(var or=0,Zt=le.length;or<Zt;or++){var br=le[or],fr=br.unit,lr=br.pts;if(ft!==null)de[or-1].duration=Math.round((lr-ft)/ke);else{if(Ce&&G.segmentCodec==="aac"&&(lr=Ie),rt=lr,!(ut>0))return;ut+=De;try{st=new Uint8Array(ut)}catch{return void this.observer.emit(C.Events.ERROR,C.Events.ERROR,{type:L.ErrorTypes.MUX_ERROR,details:L.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:ut,reason:"fail allocating audio mdat "+ut})}nt||(new DataView(st.buffer).setUint32(0,ut),st.set(x.types.mdat,4))}st.set(fr,De);var se=fr.byteLength;De+=se,de.push(new ye(!0,Re,se,0)),ft=lr}var Y=de.length;if(Y){var O=de[de.length-1];this.nextAudioPts=Ie=ft+ke*O.duration;var W=nt?new Uint8Array(0):x.moof(G.sequenceNumber++,rt/ke,A({},G,{samples:de}));G.samples=[];var H=rt/be,X=Ie/be,J={data1:W,data2:st,startPTS:H,endPTS:X,startDTS:H,endDTS:X,type:"audio",hasAudio:!0,hasVideo:!1,nb:Y};return this.isAudioContiguous=!0,J}},Z.remuxEmptyAudio=function(G,ue,Ce,Se){var ae=G.inputTimeScale,be=ae/(G.samplerate?G.samplerate:ae),ke=this.nextAudioPts,Re=(ke!==null?ke:Se.startDTS*ae)+this._initDTS,Le=Se.endDTS*ae+this._initDTS,Ge=1024*be,nt=Math.ceil((Le-Re)/Ge),de=E.getSilentFrame(G.manifestCodec||G.codec,G.channelCount);if(I.logger.warn("[mp4-remuxer]: remux empty Audio"),de){for(var me=[],le=0;le<nt;le++){var De=Re+le*Ge;me.push({unit:de,pts:De,dts:De})}return G.samples=me,this.remuxAudio(G,ue,Ce,!1)}I.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},N}();function B(N,Z){var G;if(Z===null)return N;for(G=Z<N?-8589934592:8589934592;Math.abs(N-Z)>4294967296;)N+=G;return N}function K(N,Z,G,ue){var Ce=N.samples.length;if(Ce){for(var Se=N.inputTimeScale,ae=0;ae<Ce;ae++){var be=N.samples[ae];be.pts=B(be.pts-G,Z*Se)/Se,be.dts=B(be.dts-ue,Z*Se)/Se}var ke=N.samples;return N.samples=[],{samples:ke}}}function ce(N,Z,G){var ue=N.samples.length;if(ue){for(var Ce=N.inputTimeScale,Se=0;Se<ue;Se++){var ae=N.samples[Se];ae.pts=B(ae.pts-G,Z*Ce)/Ce}N.samples.sort(function(ke,Re){return ke.pts-Re.pts});var be=N.samples;return N.samples=[],{samples:be}}}var ye=function(N,Z,G,ue){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=Z,this.size=G,this.cts=ue,this.flags=new ie(N)},ie=function(N){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=N?2:1,this.isNonSync=N?0:1}},856:(l,f,m)=>{var g;m.r(f),m.d(f,{MetadataSchema:()=>g}),function(E){E.audioId3="org.id3",E.dateRange="com.apple.quicktime.HLS",E.emsg="https://aomedia.org/emsg/ID3"}(g||(g={}))},308:(l,f,m)=>{var g,E;m.r(f),m.d(f,{PlaylistContextType:()=>g,PlaylistLevelType:()=>E}),function(w){w.MANIFEST="manifest",w.LEVEL="level",w.AUDIO_TRACK="audioTrack",w.SUBTITLE_TRACK="subtitleTrack"}(g||(g={})),function(w){w.MAIN="main",w.AUDIO="audio",w.SUBTITLE="subtitle"}(E||(E={}))},300:(l,f,m)=>{m.r(f),m.d(f,{default:()=>g});const g={hexDump:function(E){for(var w="",v=0;v<E.length;v++){var x=E[v].toString(16);x.length<2&&(x="0"+x),w+=x}return w}}},93:(l,f,m)=>{m.r(f),m.d(f,{enableLogs:()=>x,logger:()=>C});var g=function(){},E={trace:g,debug:g,log:g,warn:g,info:g,error:g},w=E;function v(L){var I=self.console[L];return I?I.bind(self.console,"["+L+"] >"):g}function x(L,I){if(self.console&&L===!0||typeof L=="object"){(function(P){for(var R=arguments.length,A=new Array(R>1?R-1:0),M=1;M<R;M++)A[M-1]=arguments[M];A.forEach(function(j){w[j]=P[j]?P[j].bind(P):v(j)})})(L,"debug","log","info","warn","error");try{w.log('Debug logs enabled for "'+I+'"')}catch{w=E}}else w=E}var C=E},63:(l,f,m)=>{m.r(f),m.d(f,{RemuxerTrackIdConfig:()=>I,appendUint8Array:()=>Ce,bin2str:()=>P,computeRawDurationFromSamples:()=>Z,discardEPB:()=>ke,findBox:()=>$,getDuration:()=>N,getStartDTS:()=>ie,mp4Box:()=>Le,mp4pssh:()=>Ge,offsetStartDTS:()=>G,parseEmsg:()=>Re,parseInitSegment:()=>K,parsePssh:()=>nt,parseSEIMessageFromNALu:()=>be,parseSamples:()=>Se,parseSegmentIndex:()=>B,parseSinf:()=>ye,patchEncyptionData:()=>ce,readSint32:()=>M,readUint16:()=>R,readUint32:()=>A,segmentValidRange:()=>ue,writeUint32:()=>j});var g=m(923),E=m(145),w=m(181),v=m(93),x=m(300),C=Math.pow(2,32)-1,L=[].push,I={video:1,audio:2,id3:3,text:4};function P(de){return String.fromCharCode.apply(null,de)}function R(de,me){var le=de[me]<<8|de[me+1];return le<0?65536+le:le}function A(de,me){var le=M(de,me);return le<0?4294967296+le:le}function M(de,me){return de[me]<<24|de[me+1]<<16|de[me+2]<<8|de[me+3]}function j(de,me,le){de[me]=le>>24,de[me+1]=le>>16&255,de[me+2]=le>>8&255,de[me+3]=255&le}function $(de,me){var le=[];if(!me.length)return le;for(var De=de.byteLength,Ie=0;Ie<De;){var Fe=A(de,Ie),Me=Fe>1?Ie+Fe:De;if(P(de.subarray(Ie+4,Ie+8))===me[0])if(me.length===1)le.push(de.subarray(Ie+8,Me));else{var je=$(de.subarray(Ie+8,Me),me.slice(1));je.length&&L.apply(le,je)}Ie=Me}return le}function B(de){var me=[],le=de[0],De=8,Ie=A(de,De);De+=4,De+=le===0?8:16,De+=2;var Fe=de.length+0,Me=R(de,De);De+=2;for(var je=0;je<Me;je++){var Ke=De,oe=A(de,Ke);Ke+=4;var Qe=2147483647&oe;if((2147483648&oe)>>>31==1)return console.warn("SIDX has hierarchical references (not supported)"),null;var Xe=A(de,Ke);Ke+=4,me.push({referenceSize:Qe,subsegmentDuration:Xe,info:{duration:Xe/Ie,start:Fe,end:Fe+Qe-1}}),Fe+=Qe,De=Ke+=4}return{earliestPresentationTime:0,timescale:Ie,version:le,referencesCount:Me,references:me}}function K(de){for(var me=[],le=$(de,["moov","trak"]),De=0;De<le.length;De++){var Ie=le[De],Fe=$(Ie,["tkhd"])[0];if(Fe){var Me=Fe[0],je=Me===0?12:20,Ke=A(Fe,je),oe=$(Ie,["mdia","mdhd"])[0];if(oe){var Qe=A(oe,je=(Me=oe[0])===0?12:20),Xe=$(Ie,["mdia","hdlr"])[0];if(Xe){var dt=P(Xe.subarray(8,12)),yt={soun:g.ElementaryStreamTypes.AUDIO,vide:g.ElementaryStreamTypes.VIDEO}[dt];if(yt){var Tt=$(Ie,["mdia","minf","stbl","stsd"])[0],Rt=void 0;Tt&&(Rt=P(Tt.subarray(12,16))),me[Ke]={timescale:Qe,type:yt},me[yt]={timescale:Qe,id:Ke,codec:Rt}}}}}}return $(de,["moov","mvex","trex"]).forEach(function(gt){var st=A(gt,4),rt=me[st];rt&&(rt.default={duration:A(gt,12),flags:A(gt,20)})}),me}function ce(de,me){if(!de||!me)return de;var le=me.keyId;return le&&me.isCommonEncryption&&$(de,["moov","trak"]).forEach(function(De){var Ie=$(De,["mdia","minf","stbl","stsd"])[0].subarray(8),Fe=$(Ie,["enca"]),Me=Fe.length>0;Me||(Fe=$(Ie,["encv"])),Fe.forEach(function(je){$(Me?je.subarray(28):je.subarray(78),["sinf"]).forEach(function(Ke){var oe=ye(Ke);if(oe){var Qe=oe.subarray(8,24);Qe.some(function(Xe){return Xe!==0})||(v.logger.log("[eme] Patching keyId in 'enc"+(Me?"a":"v")+">sinf>>tenc' box: "+x.default.hexDump(Qe)+" -> "+x.default.hexDump(le)),oe.set(le,8))}})})}),de}function ye(de){var me=$(de,["schm"])[0];if(me){var le=P(me.subarray(4,8));if(le==="cbcs"||le==="cenc")return $(de,["schi","tenc"])[0]}return v.logger.error("[eme] missing 'schm' box"),null}function ie(de,me){return $(me,["moof","traf"]).reduce(function(le,De){var Ie=$(De,["tfdt"])[0],Fe=Ie[0],Me=$(De,["tfhd"]).reduce(function(je,Ke){var oe=A(Ke,4),Qe=de[oe];if(Qe){var Xe=A(Ie,4);Fe===1&&(Xe*=Math.pow(2,32),Xe+=A(Ie,8));var dt=Xe/(Qe.timescale||9e4);if(isFinite(dt)&&(je===null||dt<je))return dt}return je},null);return Me!==null&&isFinite(Me)&&(le===null||Me<le)?Me:le},null)||0}function N(de,me){for(var le=0,De=0,Ie=0,Fe=$(de,["moof","traf"]),Me=0;Me<Fe.length;Me++){var je=Fe[Me],Ke=$(je,["tfhd"])[0],oe=me[A(Ke,4)];if(oe){var Qe=oe.default,Xe=A(Ke,0)|(Qe==null?void 0:Qe.flags),dt=Qe==null?void 0:Qe.duration;8&Xe&&(dt=A(Ke,2&Xe?12:8));for(var yt=oe.timescale||9e4,Tt=$(je,["trun"]),Rt=0;Rt<Tt.length;Rt++)!(le=Z(Tt[Rt]))&&dt&&(le=dt*A(Tt[Rt],4)),oe.type===g.ElementaryStreamTypes.VIDEO?De+=le/yt:oe.type===g.ElementaryStreamTypes.AUDIO&&(Ie+=le/yt)}}if(De===0&&Ie===0){for(var gt=0,st=$(de,["sidx"]),rt=0;rt<st.length;rt++){var ft=B(st[rt]);ft!=null&&ft.references&&(gt+=ft.references.reduce(function(ut,_t){return ut+_t.info.duration||0},0))}return gt}return De||Ie}function Z(de){var me=A(de,0),le=8;1&me&&(le+=4),4&me&&(le+=4);for(var De=0,Ie=A(de,4),Fe=0;Fe<Ie;Fe++)256&me&&(De+=A(de,le),le+=4),512&me&&(le+=4),1024&me&&(le+=4),2048&me&&(le+=4);return De}function G(de,me,le){$(me,["moof","traf"]).forEach(function(De){$(De,["tfhd"]).forEach(function(Ie){var Fe=A(Ie,4),Me=de[Fe];if(Me){var je=Me.timescale||9e4;$(De,["tfdt"]).forEach(function(Ke){var oe=Ke[0],Qe=A(Ke,4);if(oe===0)Qe-=le*je,j(Ke,4,Qe=Math.max(Qe,0));else{Qe*=Math.pow(2,32),Qe+=A(Ke,8),Qe-=le*je,Qe=Math.max(Qe,0);var Xe=Math.floor(Qe/(C+1)),dt=Math.floor(Qe%(C+1));j(Ke,4,Xe),j(Ke,8,dt)}})}})})}function ue(de){var me={valid:null,remainder:null},le=$(de,["moof"]);if(!le)return me;if(le.length<2)return me.remainder=de,me;var De=le[le.length-1];return me.valid=(0,E.sliceUint8)(de,0,De.byteOffset-8),me.remainder=(0,E.sliceUint8)(de,De.byteOffset-8),me}function Ce(de,me){var le=new Uint8Array(de.length+me.length);return le.set(de),le.set(me,de.length),le}function Se(de,me){var le=[],De=me.samples,Ie=me.timescale,Fe=me.id,Me=!1;return $(De,["moof"]).map(function(je){var Ke=je.byteOffset-8;$(je,["traf"]).map(function(oe){var Qe=$(oe,["tfdt"]).map(function(Xe){var dt=Xe[0],yt=A(Xe,4);return dt===1&&(yt*=Math.pow(2,32),yt+=A(Xe,8)),yt/Ie})[0];return Qe!==void 0&&(de=Qe),$(oe,["tfhd"]).map(function(Xe){var dt=A(Xe,4),yt=16777215&A(Xe,0),Tt=0,Rt=(16&yt)!=0,gt=0,st=(32&yt)!=0,rt=8;dt===Fe&&(1&yt&&(rt+=8),2&yt&&(rt+=4),8&yt&&(Tt=A(Xe,rt),rt+=4),Rt&&(gt=A(Xe,rt),rt+=4),st&&(rt+=4),me.type==="video"&&(Me=function(ft){if(!ft)return!1;var ut=ft.indexOf("."),_t=ut<0?ft:ft.substring(0,ut);return _t==="hvc1"||_t==="hev1"||_t==="dvh1"||_t==="dvhe"}(me.codec)),$(oe,["trun"]).map(function(ft){var ut=ft[0],_t=16777215&A(ft,0),or=(1&_t)!=0,Zt=0,br=(4&_t)!=0,fr=(256&_t)!=0,lr=0,se=(512&_t)!=0,Y=0,O=(1024&_t)!=0,W=(2048&_t)!=0,H=0,X=A(ft,4),J=8;or&&(Zt=A(ft,J),J+=4),br&&(J+=4);for(var ne=Zt+Ke,ve=0;ve<X;ve++){if(fr?(lr=A(ft,J),J+=4):lr=Tt,se?(Y=A(ft,J),J+=4):Y=gt,O&&(J+=4),W&&(H=ut===0?A(ft,J):M(ft,J),J+=4),me.type===g.ElementaryStreamTypes.VIDEO)for(var Ee=0;Ee<Y;){var xe=A(De,ne);ae(Me,De[ne+=4])&&be(De.subarray(ne,ne+xe),Me?2:1,de+H/Ie,le),ne+=xe,Ee+=xe+4}de+=lr/Ie}}))})})}),le}function ae(de,me){if(de){var le=me>>1&63;return le===39||le===40}return(31&me)==6}function be(de,me,le,De){var Ie=ke(de),Fe=0;Fe+=me;for(var Me=0,je=0,Ke=!1,oe=0;Fe<Ie.length;){Me=0;do{if(Fe>=Ie.length)break;Me+=oe=Ie[Fe++]}while(oe===255);je=0;do{if(Fe>=Ie.length)break;je+=oe=Ie[Fe++]}while(oe===255);var Qe=Ie.length-Fe;if(!Ke&&Me===4&&Fe<Ie.length){if(Ke=!0,Ie[Fe++]===181){var Xe=R(Ie,Fe);if(Fe+=2,Xe===49){var dt=A(Ie,Fe);if(Fe+=4,dt===1195456820){var yt=Ie[Fe++];if(yt===3){var Tt=Ie[Fe++],Rt=64&Tt,gt=Rt?2+3*(31&Tt):0,st=new Uint8Array(gt);if(Rt){st[0]=Tt;for(var rt=1;rt<gt;rt++)st[rt]=Ie[Fe++]}De.push({type:yt,payloadType:Me,pts:le,bytes:st})}}}}}else if(Me===5&&je<Qe){if(Ke=!0,je>16){for(var ft=[],ut=0;ut<16;ut++){var _t=Ie[Fe++].toString(16);ft.push(_t.length==1?"0"+_t:_t),ut!==3&&ut!==5&&ut!==7&&ut!==9||ft.push("-")}for(var or=je-16,Zt=new Uint8Array(or),br=0;br<or;br++)Zt[br]=Ie[Fe++];De.push({payloadType:Me,pts:le,uuid:ft.join(""),userData:(0,w.utf8ArrayToStr)(Zt),userDataBytes:Zt})}}else if(je<Qe)Fe+=je;else if(je>Qe)break}}function ke(de){for(var me=de.byteLength,le=[],De=1;De<me-2;)de[De]===0&&de[De+1]===0&&de[De+2]===3?(le.push(De+2),De+=2):De++;if(le.length===0)return de;var Ie=me-le.length,Fe=new Uint8Array(Ie),Me=0;for(De=0;De<Ie;Me++,De++)Me===le[0]&&(Me++,le.shift()),Fe[De]=de[Me];return Fe}function Re(de){var me=de[0],le="",De="",Ie=0,Fe=0,Me=0,je=0,Ke=0,oe=0;if(me===0){for(;P(de.subarray(oe,oe+1))!=="\0";)le+=P(de.subarray(oe,oe+1)),oe+=1;for(le+=P(de.subarray(oe,oe+1)),oe+=1;P(de.subarray(oe,oe+1))!=="\0";)De+=P(de.subarray(oe,oe+1)),oe+=1;De+=P(de.subarray(oe,oe+1)),oe+=1,Ie=A(de,12),Fe=A(de,16),je=A(de,20),Ke=A(de,24),oe=28}else if(me===1){Ie=A(de,oe+=4);var Qe=A(de,oe+=4),Xe=A(de,oe+=4);for(oe+=4,Me=Math.pow(2,32)*Qe+Xe,Number.isSafeInteger(Me)||(Me=Number.MAX_SAFE_INTEGER,console.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),je=A(de,oe),Ke=A(de,oe+=4),oe+=4;P(de.subarray(oe,oe+1))!=="\0";)le+=P(de.subarray(oe,oe+1)),oe+=1;for(le+=P(de.subarray(oe,oe+1)),oe+=1;P(de.subarray(oe,oe+1))!=="\0";)De+=P(de.subarray(oe,oe+1)),oe+=1;De+=P(de.subarray(oe,oe+1)),oe+=1}return{schemeIdUri:le,value:De,timeScale:Ie,presentationTime:Me,presentationTimeDelta:Fe,eventDuration:je,id:Ke,payload:de.subarray(oe,de.byteLength)}}function Le(de){for(var me=arguments.length,le=new Array(me>1?me-1:0),De=1;De<me;De++)le[De-1]=arguments[De];for(var Ie=le.length,Fe=8,Me=Ie;Me--;)Fe+=le[Me].byteLength;var je=new Uint8Array(Fe);for(je[0]=Fe>>24&255,je[1]=Fe>>16&255,je[2]=Fe>>8&255,je[3]=255&Fe,je.set(de,4),Me=0,Fe=8;Me<Ie;Me++)je.set(le[Me],Fe),Fe+=le[Me].byteLength;return je}function Ge(de,me,le){if(de.byteLength!==16)throw new RangeError("Invalid system id");var De,Ie,Fe;if(me){De=1,Ie=new Uint8Array(16*me.length);for(var Me=0;Me<me.length;Me++){var je=me[Me];if(je.byteLength!==16)throw new RangeError("Invalid key");Ie.set(je,16*Me)}}else De=0,Ie=new Uint8Array;De>0?(Fe=new Uint8Array(4),me.length>0&&new DataView(Fe.buffer).setUint32(0,me.length,!1)):Fe=new Uint8Array;var Ke=new Uint8Array(4);return le&&le.byteLength>0&&new DataView(Ke.buffer).setUint32(0,le.byteLength,!1),Le([112,115,115,104],new Uint8Array([De,0,0,0]),de,Fe,Ie,Ke,le||new Uint8Array)}function nt(de){if(!(de instanceof ArrayBuffer)||de.byteLength<32)return null;var me={version:0,systemId:"",kids:null,data:null},le=new DataView(de),De=le.getUint32(0);if(de.byteLength!==De&&De>44||le.getUint32(4)!==1886614376||(me.version=le.getUint32(8)>>>24,me.version>1))return null;me.systemId=x.default.hexDump(new Uint8Array(de,12,16));var Ie=le.getUint32(28);if(me.version===0){if(De-32<Ie)return null;me.data=new Uint8Array(de,32,Ie)}else if(me.version===1){me.kids=[];for(var Fe=0;Fe<Ie;Fe++)me.kids.push(new Uint8Array(de,32+16*Fe,16))}return me}},673:(l,f,m)=>{function g(x,C,L,I){L===void 0&&(L=1),I===void 0&&(I=!1);var P=x*C*L;return I?Math.round(P):P}function E(x,C,L,I){return L===void 0&&(L=1),I===void 0&&(I=!1),g(x,C,1/L,I)}function w(x,C){return C===void 0&&(C=!1),g(x,1e3,11111111111111112e-21,C)}function v(x,C){return C===void 0&&(C=1),g(x,9e4,1/C)}m.r(f),m.d(f,{toMpegTsClockFromTimescale:()=>v,toMsFromMpegTsClock:()=>w,toTimescaleFromBase:()=>g,toTimescaleFromScale:()=>E})},145:(l,f,m)=>{function g(E,w,v){return Uint8Array.prototype.slice?E.slice(w,v):new Uint8Array(Array.prototype.slice.call(E,w,v))}m.r(f),m.d(f,{sliceUint8:()=>g})},729:l=>{var f=Object.prototype.hasOwnProperty,m="~";function g(){}function E(C,L,I){this.fn=C,this.context=L,this.once=I||!1}function w(C,L,I,P,R){if(typeof I!="function")throw new TypeError("The listener must be a function");var A=new E(I,P||C,R),M=m?m+L:L;return C._events[M]?C._events[M].fn?C._events[M]=[C._events[M],A]:C._events[M].push(A):(C._events[M]=A,C._eventsCount++),C}function v(C,L){--C._eventsCount==0?C._events=new g:delete C._events[L]}function x(){this._events=new g,this._eventsCount=0}Object.create&&(g.prototype=Object.create(null),new g().__proto__||(m=!1)),x.prototype.eventNames=function(){var C,L,I=[];if(this._eventsCount===0)return I;for(L in C=this._events)f.call(C,L)&&I.push(m?L.slice(1):L);return Object.getOwnPropertySymbols?I.concat(Object.getOwnPropertySymbols(C)):I},x.prototype.listeners=function(C){var L=m?m+C:C,I=this._events[L];if(!I)return[];if(I.fn)return[I.fn];for(var P=0,R=I.length,A=new Array(R);P<R;P++)A[P]=I[P].fn;return A},x.prototype.listenerCount=function(C){var L=m?m+C:C,I=this._events[L];return I?I.fn?1:I.length:0},x.prototype.emit=function(C,L,I,P,R,A){var M=m?m+C:C;if(!this._events[M])return!1;var j,$,B=this._events[M],K=arguments.length;if(B.fn){switch(B.once&&this.removeListener(C,B.fn,void 0,!0),K){case 1:return B.fn.call(B.context),!0;case 2:return B.fn.call(B.context,L),!0;case 3:return B.fn.call(B.context,L,I),!0;case 4:return B.fn.call(B.context,L,I,P),!0;case 5:return B.fn.call(B.context,L,I,P,R),!0;case 6:return B.fn.call(B.context,L,I,P,R,A),!0}for($=1,j=new Array(K-1);$<K;$++)j[$-1]=arguments[$];B.fn.apply(B.context,j)}else{var ce,ye=B.length;for($=0;$<ye;$++)switch(B[$].once&&this.removeListener(C,B[$].fn,void 0,!0),K){case 1:B[$].fn.call(B[$].context);break;case 2:B[$].fn.call(B[$].context,L);break;case 3:B[$].fn.call(B[$].context,L,I);break;case 4:B[$].fn.call(B[$].context,L,I,P);break;default:if(!j)for(ce=1,j=new Array(K-1);ce<K;ce++)j[ce-1]=arguments[ce];B[$].fn.apply(B[$].context,j)}}return!0},x.prototype.on=function(C,L,I){return w(this,C,L,I,!1)},x.prototype.once=function(C,L,I){return w(this,C,L,I,!0)},x.prototype.removeListener=function(C,L,I,P){var R=m?m+C:C;if(!this._events[R])return this;if(!L)return v(this,R),this;var A=this._events[R];if(A.fn)A.fn!==L||P&&!A.once||I&&A.context!==I||v(this,R);else{for(var M=0,j=[],$=A.length;M<$;M++)(A[M].fn!==L||P&&!A[M].once||I&&A[M].context!==I)&&j.push(A[M]);j.length?this._events[R]=j.length===1?j[0]:j:v(this,R)}return this},x.prototype.removeAllListeners=function(C){var L;return C?(L=m?m+C:C,this._events[L]&&v(this,L)):(this._events=new g,this._eventsCount=0),this},x.prototype.off=x.prototype.removeListener,x.prototype.addListener=x.prototype.on,x.prefixed=m,x.EventEmitter=x,l.exports=x},945:function(l){var f,m,g,E,w;f=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,m=/^(?=([^\/?#]*))\1([^]*)$/,g=/(?:\/|^)\.(?=\/)/g,E=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,w={buildAbsoluteURL:function(v,x,C){if(C=C||{},v=v.trim(),!(x=x.trim())){if(!C.alwaysNormalize)return v;var L=w.parseURL(v);if(!L)throw new Error("Error trying to parse base URL.");return L.path=w.normalizePath(L.path),w.buildURLFromParts(L)}var I=w.parseURL(x);if(!I)throw new Error("Error trying to parse relative URL.");if(I.scheme)return C.alwaysNormalize?(I.path=w.normalizePath(I.path),w.buildURLFromParts(I)):x;var P=w.parseURL(v);if(!P)throw new Error("Error trying to parse base URL.");if(!P.netLoc&&P.path&&P.path[0]!=="/"){var R=m.exec(P.path);P.netLoc=R[1],P.path=R[2]}P.netLoc&&!P.path&&(P.path="/");var A={scheme:P.scheme,netLoc:I.netLoc,path:null,params:I.params,query:I.query,fragment:I.fragment};if(!I.netLoc&&(A.netLoc=P.netLoc,I.path[0]!=="/"))if(I.path){var M=P.path,j=M.substring(0,M.lastIndexOf("/")+1)+I.path;A.path=w.normalizePath(j)}else A.path=P.path,I.params||(A.params=P.params,I.query||(A.query=P.query));return A.path===null&&(A.path=C.alwaysNormalize?w.normalizePath(I.path):I.path),w.buildURLFromParts(A)},parseURL:function(v){var x=f.exec(v);return x?{scheme:x[1]||"",netLoc:x[2]||"",path:x[3]||"",params:x[4]||"",query:x[5]||"",fragment:x[6]||""}:null},normalizePath:function(v){for(v=v.split("").reverse().join("").replace(g,"");v.length!==(v=v.replace(E,"")).length;);return v.split("").reverse().join("")},buildURLFromParts:function(v){return v.scheme+v.netLoc+v.path+v.params+v.query+v.fragment}},l.exports=w}},n={};function i(l){var f=n[l];if(f!==void 0)return f.exports;var m=n[l]={exports:{}};return r[l].call(m.exports,m,m.exports,i),m.exports}i.m=r,i.n=l=>{var f=l&&l.__esModule?()=>l.default:()=>l;return i.d(f,{a:f}),f},i.d=(l,f)=>{for(var m in f)i.o(f,m)&&!i.o(l,m)&&Object.defineProperty(l,m,{enumerable:!0,get:f[m]})},i.o=(l,f)=>Object.prototype.hasOwnProperty.call(l,f),i.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var a=i(76);return a.default})())})(QV);const Ls=yE($g),XV=()=>{const e=V.useRef(),{isOpen:t,onClose:r,onOpen:n}=Yx(),i=V.useCallback((a,l)=>(n(),Ls.isSupported()&&a.current&&l&&(e.current=new Ls,e.current.loadSource(l),e.current.attachMedia(a.current),e.current.on(Ls.Events.MANIFEST_PARSED,r),e.current.on(Ls.Events.ERROR,r)),()=>{e.current&&(e.current.off(Ls.Events.MANIFEST_PARSED,r),e.current.off(Ls.Events.ERROR,r),e.current.destroy())}),[r,n]);return{isLoading:t,trigger:i,hls:e.current}},ZV=e=>e?`${e.previewImageLink}/lesson-${e.order}.webp`:void 0,JV=({courseId:e,lesson:t})=>{const r=V.useRef(null),{isLoading:n,trigger:i}=XV();return V.useEffect(()=>{t&&i(r,t.link)},[t]),jr(Pu,{children:[n?we(iz,{}):t&&we(YV,{videoRef:r,courseId:e,lessonId:t.id,duration:t.duration}),we("video",{ref:r,autoPlay:!0,poster:ZV(t),disablePictureInPicture:!0})]})},qC=V.createContext({}),e9=({children:e})=>{const t=c$(),r=vC(),[n,i]=V.useState(),[a,l]=V.useState(),f=V.useCallback((E,w)=>{i(E),l(w)},[i,l]),m=()=>{a&&r(`/${a}`)};V.useEffect(()=>{t.courseId&&(i(void 0),l(void 0))},[t.courseId]);const g=!t.courseId&&n&&a;return jr(qC.Provider,{value:{lesson:n,togglePiP:f},children:[e,g&&jr(nz,{right:2,bottom:2,position:"fixed",cursor:"pointer",onClick:m,w:{base:"280px",md:"400px"},_hover:{"> div":{opacity:1}},children:[we(_o,{top:0,left:0,w:"100%",h:"100%",color:"white",opacity:0,fontSize:"40px",position:"absolute",borderRadius:"md",bg:"rgba(0, 0, 0, 0.7)",children:we(rz,{})}),we(JV,{courseId:a,lesson:n})]})]})},w9=()=>V.useContext(qC),t9=V.lazy(()=>Uy(()=>import("./home-0e1dd93a.js"),["assets/home-0e1dd93a.js","assets/courses.hooks-b334bd8c.js","assets/chunk-B2MGPQRJ-23319b06.js"])),r9=V.lazy(()=>Uy(()=>import("./single-course-91f4f3ac.js"),["assets/single-course-91f4f3ac.js","assets/courses.hooks-b334bd8c.js","assets/chunk-B2MGPQRJ-23319b06.js"])),n9=V.lazy(()=>Uy(()=>import("./not-found-2a4487e4.js"),["assets/not-found-2a4487e4.js","assets/chunk-B2MGPQRJ-23319b06.js"])),i9=()=>we(e9,{children:we(V.Suspense,{fallback:null,children:we(b$,{})})}),a9=()=>{const{pathname:e}=qu();return V.useEffect(()=>{window.scrollTo({top:0})},[e]),we(Zf,{py:Jj+20,px:4,children:we(T$,{children:jr(kl,{path:"",element:we(i9,{}),children:[we(kl,{path:"",element:we(t9,{})}),we(kl,{path:"/:courseId",element:we(r9,{})}),we(kl,{path:"*",element:we(n9,{})})]})})})},s9={initialColorMode:"dark",useSystemColorMode:!0},o9=WN({config:s9}),l9=new Q8({defaultOptions:{queries:{staleTime:5e3,refetchOnWindowFocus:!1}}}),u9=()=>we(S8,{theme:o9,children:we(d6,{client:l9,children:we(_$,{basename:"genesis-fe-school",children:we(Qj,{children:we(Yj,{children:we(a9,{})})})})})});Zp.createRoot(document.getElementById("root")).render(we(pn.StrictMode,{children:we(u9,{})}));export{mE as $,T9 as A,Zf as B,_o as C,YV as D,ZV as E,Pu as F,$y as G,v9 as H,ky as I,P5 as J,CS as K,b9 as L,gu as M,Ww as N,li as O,nz as P,VU as Q,p9 as R,Cy as S,xy as T,At as U,iz as V,d9 as W,Vu as X,g9 as Y,XU as Z,Uf as _,Qn as a,Fz as a0,Eo as a1,Qz as a2,Hv as a3,Jj as a4,jC as a5,Bg as a6,D$ as a7,x6 as a8,jr as b,ir as c,qx as d,XV as e,un as f,Hu as g,Co as h,o5 as i,we as j,YP as k,F1 as l,E8 as m,f9 as n,Mu as o,vE as p,h9 as q,V as r,Bu as s,m9 as t,Yx as u,c$ as v,vC as w,UV as x,w9 as y,E9 as z};
